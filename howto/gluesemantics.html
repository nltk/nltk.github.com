<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: Sample usage for gluesemantics</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/nltk.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="sample-usage-for-gluesemantics">
<h1>Sample usage for gluesemantics<a class="headerlink" href="#sample-usage-for-gluesemantics" title="Permalink to this heading">¶</a></h1>
<section id="glue-semantics">
<h2>Glue Semantics<a class="headerlink" href="#glue-semantics" title="Permalink to this heading">¶</a></h2>
</section>
<section id="linear-logic">
<h2>Linear logic<a class="headerlink" href="#linear-logic" title="Permalink to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem</span> <span class="kn">import</span> <span class="n">logic</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.glue</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.linearlogic</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.linearlogic</span> <span class="kn">import</span> <span class="n">Expression</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_expr</span> <span class="o">=</span> <span class="n">Expression</span><span class="o">.</span><span class="n">fromstring</span>
</pre></div>
</div>
<p>Parser</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;f&#39;</span><span class="p">))</span>
<span class="go">f</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(g -o f)&#39;</span><span class="p">))</span>
<span class="go">(g -o f)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(g -o (h -o f))&#39;</span><span class="p">))</span>
<span class="go">(g -o (h -o f))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;((g -o G) -o G)&#39;</span><span class="p">))</span>
<span class="go">((g -o G) -o G)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(g -o f)(g)&#39;</span><span class="p">))</span>
<span class="go">(g -o f)(g)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;((g -o G) -o G)((g -o f))&#39;</span><span class="p">))</span>
<span class="go">((g -o G) -o G)((g -o f))</span>
</pre></div>
</div>
<p>Simplify</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;f&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">f</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(g -o f)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">(g -o f)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;((g -o G) -o G)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">((g -o G) -o G)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(g -o f)(g)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">f</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(g -o f)(f)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LinearLogicApplicationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">Cannot apply (g -o f) to f. Cannot unify g with f given {}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(G -o f)(g)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">f</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;((g -o G) -o G)((g -o f))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">f</span>
</pre></div>
</div>
<p>Test BindingDict</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">ConstantExpression</span><span class="p">(</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">ConstantExpression</span><span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ConstantExpression</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">H</span> <span class="o">=</span> <span class="n">VariableExpression</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">VariableExpression</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">VariableExpression</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span> <span class="o">=</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">H</span><span class="p">:</span> <span class="n">h</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d2</span> <span class="o">=</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">F</span><span class="p">:</span> <span class="n">f</span><span class="p">,</span> <span class="n">G</span><span class="p">:</span> <span class="n">F</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d12</span> <span class="o">=</span> <span class="n">d1</span> <span class="o">+</span> <span class="n">d2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all12</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">d12</span><span class="p">[</span><span class="n">v</span><span class="p">])</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">d12</span><span class="o">.</span><span class="n">d</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all12</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">all12</span><span class="p">)</span>
<span class="go">[&#39;F: f&#39;, &#39;G: f&#39;, &#39;H: h&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">BindingDict</span><span class="p">([(</span><span class="n">F</span><span class="p">,</span><span class="n">f</span><span class="p">),(</span><span class="n">G</span><span class="p">,</span><span class="n">g</span><span class="p">),(</span><span class="n">H</span><span class="p">,</span><span class="n">h</span><span class="p">)])</span> <span class="o">==</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">F</span><span class="p">:</span><span class="n">f</span><span class="p">,</span> <span class="n">G</span><span class="p">:</span><span class="n">g</span><span class="p">,</span> <span class="n">H</span><span class="p">:</span><span class="n">h</span><span class="p">})</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d4</span> <span class="o">=</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">F</span><span class="p">:</span> <span class="n">f</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">d4</span><span class="p">[</span><span class="n">F</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">VariableBindingException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Variable F already bound to another value</span>
</pre></div>
</div>
<p>Test Unify</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">f</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">())</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">UnificationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">Cannot unify f with g given {}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">())</span> <span class="o">==</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">f</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">f</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">h</span><span class="p">}))</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">UnificationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">Cannot unify f with G given {G: h}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">f</span><span class="p">}))</span> <span class="o">==</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">f</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">H</span><span class="p">:</span> <span class="n">f</span><span class="p">}))</span> <span class="o">==</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">f</span><span class="p">,</span> <span class="n">H</span><span class="p">:</span> <span class="n">f</span><span class="p">})</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">())</span> <span class="o">==</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">f</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">G</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">h</span><span class="p">}))</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">UnificationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">Cannot unify G with f given {G: h}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">f</span><span class="p">}))</span> <span class="o">==</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">f</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">H</span><span class="p">:</span> <span class="n">f</span><span class="p">}))</span> <span class="o">==</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">f</span><span class="p">,</span> <span class="n">H</span><span class="p">:</span> <span class="n">f</span><span class="p">})</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">())</span> <span class="o">==</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">F</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">G</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">H</span><span class="p">}))</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">UnificationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">Cannot unify G with F given {G: H}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">F</span><span class="p">}))</span> <span class="o">==</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">F</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">unify</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">H</span><span class="p">:</span> <span class="n">F</span><span class="p">}))</span> <span class="o">==</span> <span class="n">BindingDict</span><span class="p">({</span><span class="n">G</span><span class="p">:</span> <span class="n">F</span><span class="p">,</span> <span class="n">H</span><span class="p">:</span> <span class="n">F</span><span class="p">})</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Test Compile</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compile_pos</span><span class="p">(</span><span class="n">Counter</span><span class="p">(),</span> <span class="n">GlueFormula</span><span class="p">))</span>
<span class="go">(&lt;ConstantExpression g&gt;, [])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;(g -o f)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compile_pos</span><span class="p">(</span><span class="n">Counter</span><span class="p">(),</span> <span class="n">GlueFormula</span><span class="p">))</span>
<span class="go">(&lt;ImpExpression (g -o f)&gt;, [])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;(g -o (h -o f))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compile_pos</span><span class="p">(</span><span class="n">Counter</span><span class="p">(),</span> <span class="n">GlueFormula</span><span class="p">))</span>
<span class="go">(&lt;ImpExpression (g -o (h -o f))&gt;, [])</span>
</pre></div>
</div>
</section>
<section id="glue">
<h2>Glue<a class="headerlink" href="#glue" title="Permalink to this heading">¶</a></h2>
<section id="demo-of-john-walks">
<h3>Demo of “John walks”<a class="headerlink" href="#demo-of-john-walks" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">john</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">john</span><span class="p">)</span>
<span class="go">John : g</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">walks</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\x.walks(x)&quot;</span><span class="p">,</span> <span class="s2">&quot;(g -o f)&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">walks</span><span class="p">)</span>
<span class="go">\x.walks(x) : (g -o f)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">walks</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">john</span><span class="p">))</span>
<span class="go">\x.walks(x)(John) : (g -o f)(g)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">walks</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">john</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">walks(John) : f</span>
</pre></div>
</div>
</section>
<section id="demo-of-a-dog-walks">
<h3>Demo of “A dog walks”<a class="headerlink" href="#demo-of-a-dog-walks" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">P Q.some x.(P(x) and Q(x))&quot;</span><span class="p">,</span> <span class="s2">&quot;((gv -o gr) -o ((g -o G) -o G))&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">\P Q.exists x.(P(x) &amp; Q(x)) : ((gv -o gr) -o ((g -o G) -o G))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">man</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\x.man(x)&quot;</span><span class="p">,</span> <span class="s2">&quot;(gv -o gr)&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">man</span><span class="p">)</span>
<span class="go">\x.man(x) : (gv -o gr)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">walks</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\x.walks(x)&quot;</span><span class="p">,</span> <span class="s2">&quot;(g -o f)&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">walks</span><span class="p">)</span>
<span class="go">\x.walks(x) : (g -o f)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_man</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">man</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a_man</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\Q.exists x.(man(x) &amp; Q(x)) : ((g -o G) -o G)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_man_walks</span> <span class="o">=</span> <span class="n">a_man</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">walks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a_man_walks</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">exists x.(man(x) &amp; walks(x)) : f</span>
</pre></div>
</div>
</section>
<section id="demo-of-every-girl-chases-a-dog">
<h3>Demo of ‘every girl chases a dog’<a class="headerlink" href="#demo-of-every-girl-chases-a-dog" title="Permalink to this heading">¶</a></h3>
<p>Individual words:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">every</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">P Q.all x.(P(x) -&gt; Q(x))&quot;</span><span class="p">,</span> <span class="s2">&quot;((gv -o gr) -o ((g -o G) -o G))&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">every</span><span class="p">)</span>
<span class="go">\P Q.all x.(P(x) -&gt; Q(x)) : ((gv -o gr) -o ((g -o G) -o G))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">girl</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\x.girl(x)&quot;</span><span class="p">,</span> <span class="s2">&quot;(gv -o gr)&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">girl</span><span class="p">)</span>
<span class="go">\x.girl(x) : (gv -o gr)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chases</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\x y.chases(x,y)&quot;</span><span class="p">,</span> <span class="s2">&quot;(g -o (h -o f))&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chases</span><span class="p">)</span>
<span class="go">\x y.chases(x,y) : (g -o (h -o f))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">P Q.some x.(P(x) and Q(x))&quot;</span><span class="p">,</span> <span class="s2">&quot;((hv -o hr) -o ((h -o H) -o H))&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">\P Q.exists x.(P(x) &amp; Q(x)) : ((hv -o hr) -o ((h -o H) -o H))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dog</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\x.dog(x)&quot;</span><span class="p">,</span> <span class="s2">&quot;(hv -o hr)&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dog</span><span class="p">)</span>
<span class="go">\x.dog(x) : (hv -o hr)</span>
</pre></div>
</div>
<p>Noun Quantification can only be done one way:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">every_girl</span> <span class="o">=</span> <span class="n">every</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">girl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">every_girl</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\Q.all x.(girl(x) -&gt; Q(x)) : ((g -o G) -o G)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_dog</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">dog</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a_dog</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\Q.exists x.(dog(x) &amp; Q(x)) : ((h -o H) -o H)</span>
</pre></div>
</div>
<p>The first reading is achieved by combining ‘chases’ with ‘a dog’ first.
Since ‘a girl’ requires something of the form ‘(h -o H)’ we must
get rid of the ‘g’ in the glue of ‘see’.  We will do this with
the ‘-o elimination’ rule.  So, x1 will be our subject placeholder.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xPrime</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">xPrime</span><span class="p">)</span>
<span class="go">x1 : g</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xPrime_chases</span> <span class="o">=</span> <span class="n">chases</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">xPrime</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">xPrime_chases</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\y.chases(x1,y) : (h -o f)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xPrime_chases_a_dog</span> <span class="o">=</span> <span class="n">a_dog</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">xPrime_chases</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">xPrime_chases_a_dog</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">exists x.(dog(x) &amp; chases(x1,x)) : f</span>
</pre></div>
</div>
<p>Now we can retract our subject placeholder using lambda-abstraction and
combine with the true subject.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">chases_a_dog</span> <span class="o">=</span> <span class="n">xPrime_chases_a_dog</span><span class="o">.</span><span class="n">lambda_abstract</span><span class="p">(</span><span class="n">xPrime</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chases_a_dog</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\x1.exists x.(dog(x) &amp; chases(x1,x)) : (g -o f)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">every_girl_chases_a_dog</span> <span class="o">=</span> <span class="n">every_girl</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">chases_a_dog</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span> <span class="o">=</span> <span class="n">every_girl_chases_a_dog</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;all x.(girl(x) -&gt; exists z1.(dog(z1) &amp; chases(x,z1)))&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span> <span class="o">==</span> <span class="n">r2</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The second reading is achieved by combining ‘every girl’ with ‘chases’ first.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xPrime</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">xPrime</span><span class="p">)</span>
<span class="go">x1 : g</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xPrime_chases</span> <span class="o">=</span> <span class="n">chases</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">xPrime</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">xPrime_chases</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\y.chases(x1,y) : (h -o f)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">yPrime</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">yPrime</span><span class="p">)</span>
<span class="go">x2 : h</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xPrime_chases_yPrime</span> <span class="o">=</span> <span class="n">xPrime_chases</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">yPrime</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">xPrime_chases_yPrime</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">chases(x1,x2) : f</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chases_yPrime</span> <span class="o">=</span> <span class="n">xPrime_chases_yPrime</span><span class="o">.</span><span class="n">lambda_abstract</span><span class="p">(</span><span class="n">xPrime</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chases_yPrime</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\x1.chases(x1,x2) : (g -o f)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">every_girl_chases_yPrime</span> <span class="o">=</span> <span class="n">every_girl</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">chases_yPrime</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">every_girl_chases_yPrime</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">all x.(girl(x) -&gt; chases(x,x2)) : f</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">every_girl_chases</span> <span class="o">=</span> <span class="n">every_girl_chases_yPrime</span><span class="o">.</span><span class="n">lambda_abstract</span><span class="p">(</span><span class="n">yPrime</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">every_girl_chases</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\x2.all x.(girl(x) -&gt; chases(x,x2)) : (h -o f)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">every_girl_chases_a_dog</span> <span class="o">=</span> <span class="n">a_dog</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">every_girl_chases</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span> <span class="o">=</span> <span class="n">every_girl_chases_a_dog</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(dog(x) &amp; all z2.(girl(z2) -&gt; chases(z2,x)))&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span> <span class="o">==</span> <span class="n">r2</span>
<span class="go">True</span>
</pre></div>
</div>
</section>
<section id="compilation">
<h3>Compilation<a class="headerlink" href="#compilation" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cp</span> <span class="ow">in</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;(b -o a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">Counter</span><span class="p">()):</span> <span class="nb">print</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>
<span class="go">m : (b -o a) : {1}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cp</span> <span class="ow">in</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;((c -o b) -o a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">Counter</span><span class="p">()):</span> <span class="nb">print</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>
<span class="go">v1 : c : {1}</span>
<span class="go">m : (b[1] -o a) : {2}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cp</span> <span class="ow">in</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;((d -o (c -o b)) -o a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">Counter</span><span class="p">()):</span> <span class="nb">print</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>
<span class="go">v1 : c : {1}</span>
<span class="go">v2 : d : {2}</span>
<span class="go">m : (b[1, 2] -o a) : {3}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cp</span> <span class="ow">in</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;((d -o e) -o ((c -o b) -o a))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">Counter</span><span class="p">()):</span> <span class="nb">print</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>
<span class="go">v1 : d : {1}</span>
<span class="go">v2 : c : {2}</span>
<span class="go">m : (e[1] -o (b[2] -o a)) : {3}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cp</span> <span class="ow">in</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;(((d -o c) -o b) -o a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">Counter</span><span class="p">()):</span> <span class="nb">print</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>
<span class="go">v1 : (d -o c) : {1}</span>
<span class="go">m : (b[1] -o a) : {2}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cp</span> <span class="ow">in</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;((((e -o d) -o c) -o b) -o a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">Counter</span><span class="p">()):</span> <span class="nb">print</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>
<span class="go">v1 : e : {1}</span>
<span class="go">v2 : (d[1] -o c) : {2}</span>
<span class="go">m : (b[2] -o a) : {3}</span>
</pre></div>
</div>
</section>
<section id="demo-of-a-man-walks-using-compilation">
<h3>Demo of ‘a man walks’ using Compilation<a class="headerlink" href="#demo-of-a-man-walks-using-compilation" title="Permalink to this heading">¶</a></h3>
<p>Premises</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">P Q.some x.(P(x) and Q(x))&#39;</span><span class="p">,</span> <span class="s1">&#39;((gv -o gr) -o ((g -o G) -o G))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">\P Q.exists x.(P(x) &amp; Q(x)) : ((gv -o gr) -o ((g -o G) -o G))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">man</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">x.man(x)&#39;</span><span class="p">,</span> <span class="s1">&#39;(gv -o gr)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">man</span><span class="p">)</span>
<span class="go">\x.man(x) : (gv -o gr)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">walks</span> <span class="o">=</span> <span class="n">GlueFormula</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">x.walks(x)&#39;</span><span class="p">,</span> <span class="s1">&#39;(g -o f)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">walks</span><span class="p">)</span>
<span class="go">\x.walks(x) : (g -o f)</span>
</pre></div>
</div>
<p>Compiled Premises:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ahc</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">ahc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g1</span><span class="p">)</span>
<span class="go">v1 : gv : {1}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span> <span class="o">=</span> <span class="n">ahc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g2</span><span class="p">)</span>
<span class="go">v2 : g : {2}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g3</span> <span class="o">=</span> <span class="n">ahc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g3</span><span class="p">)</span>
<span class="go">\P Q.exists x.(P(x) &amp; Q(x)) : (gr[1] -o (G[2] -o G)) : {3}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g4</span> <span class="o">=</span> <span class="n">man</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">counter</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g4</span><span class="p">)</span>
<span class="go">\x.man(x) : (gv -o gr) : {4}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g5</span> <span class="o">=</span> <span class="n">walks</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">counter</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g5</span><span class="p">)</span>
<span class="go">\x.walks(x) : (g -o f) : {5}</span>
</pre></div>
</div>
<p>Derivation:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g14</span> <span class="o">=</span> <span class="n">g4</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">g1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g14</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">man(v1) : gr : {1, 4}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g134</span> <span class="o">=</span> <span class="n">g3</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">g14</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g134</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\Q.exists x.(man(x) &amp; Q(x)) : (G[2] -o G) : {1, 3, 4}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g25</span> <span class="o">=</span> <span class="n">g5</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">g2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g25</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">walks(v2) : f : {2, 5}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g12345</span> <span class="o">=</span> <span class="n">g134</span><span class="o">.</span><span class="n">applyto</span><span class="p">(</span><span class="n">g25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g12345</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">exists x.(man(x) &amp; walks(x)) : f : {1, 2, 3, 4, 5}</span>
</pre></div>
</div>
<section id="dependency-graph-to-glue-formulas">
<h4>Dependency Graph to Glue Formulas<a class="headerlink" href="#dependency-graph-to-glue-formulas" title="Permalink to this heading">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.corpus.reader.dependency</span> <span class="kn">import</span> <span class="n">DependencyGraph</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">depgraph</span> <span class="o">=</span> <span class="n">DependencyGraph</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;1 John    _       NNP     NNP     _       2       SUBJ    _       _</span>
<span class="gp">... </span><span class="s2">2       sees    _       VB      VB      _       0       ROOT    _       _</span>
<span class="gp">... </span><span class="s2">3       a       _       ex_quant        ex_quant        _       4       SPEC    _       _</span>
<span class="gp">... </span><span class="s2">4       dog     _       NN      NN      _       2       OBJ     _       _</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gfl</span> <span class="o">=</span> <span class="n">GlueDict</span><span class="p">(</span><span class="s1">&#39;nltk:grammars/sample_grammars/glue.semtype&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_glueformula_list</span><span class="p">(</span><span class="n">depgraph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">gfl</span><span class="p">)</span> 
<span class="go">[\x y.sees(x,y) : (f -o (i -o g)),</span>
<span class="go"> \x.dog(x) : (iv -o ir),</span>
<span class="go"> \P Q.exists x.(P(x) &amp; Q(x)) : ((iv -o ir) -o ((i -o I3) -o I3)),</span>
<span class="go"> \P Q.exists x.(P(x) &amp; Q(x)) : ((fv -o fr) -o ((f -o F4) -o F4)),</span>
<span class="go"> \x.John(x) : (fv -o fr)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glue</span> <span class="o">=</span> <span class="n">Glue</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">r</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">glue</span><span class="o">.</span><span class="n">get_readings</span><span class="p">(</span><span class="n">glue</span><span class="o">.</span><span class="n">gfl_to_compiled</span><span class="p">(</span><span class="n">gfl</span><span class="p">))],</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">exists z1.(John(z1) &amp; exists z2.(dog(z2) &amp; sees(z1,z2)))</span>
<span class="go">exists z1.(dog(z1) &amp; exists z2.(John(z2) &amp; sees(z2,z1)))</span>
</pre></div>
</div>
</section>
<section id="dependency-graph-to-lfg-f-structure">
<h4>Dependency Graph to LFG f-structure<a class="headerlink" href="#dependency-graph-to-lfg-f-structure" title="Permalink to this heading">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.lfg</span> <span class="kn">import</span> <span class="n">FStructure</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fstruct</span> <span class="o">=</span> <span class="n">FStructure</span><span class="o">.</span><span class="n">read_depgraph</span><span class="p">(</span><span class="n">depgraph</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fstruct</span><span class="p">)</span> 
<span class="go">f:[pred &#39;sees&#39;</span>
<span class="go">   obj h:[pred &#39;dog&#39;</span>
<span class="go">          spec &#39;a&#39;]</span>
<span class="go">   subj g:[pred &#39;John&#39;]]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fstruct</span><span class="o">.</span><span class="n">to_depgraph</span><span class="p">()</span><span class="o">.</span><span class="n">tree</span><span class="p">()</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>
<span class="go">(sees (dog a) John)</span>
</pre></div>
</div>
</section>
<section id="lfg-f-structure-to-glue">
<h4>LFG f-structure to Glue<a class="headerlink" href="#lfg-f-structure-to-glue" title="Permalink to this heading">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fstruct</span><span class="o">.</span><span class="n">to_glueformula_list</span><span class="p">(</span><span class="n">GlueDict</span><span class="p">(</span><span class="s1">&#39;nltk:grammars/sample_grammars/glue.semtype&#39;</span><span class="p">))</span> 
<span class="go">[\x y.sees(x,y) : (i -o (g -o f)),</span>
<span class="go"> \x.dog(x) : (gv -o gr),</span>
<span class="go"> \P Q.exists x.(P(x) &amp; Q(x)) : ((gv -o gr) -o ((g -o G3) -o G3)),</span>
<span class="go"> \P Q.exists x.(P(x) &amp; Q(x)) : ((iv -o ir) -o ((i -o I4) -o I4)),</span>
<span class="go"> \x.John(x) : (iv -o ir)]</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/howto/gluesemantics.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>