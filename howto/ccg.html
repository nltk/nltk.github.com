<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: Sample usage for ccg</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/nltk.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="sample-usage-for-ccg">
<h1>Sample usage for ccg<a class="headerlink" href="#sample-usage-for-ccg" title="Permalink to this heading">¶</a></h1>
<section id="combinatory-categorial-grammar">
<h2>Combinatory Categorial Grammar<a class="headerlink" href="#combinatory-categorial-grammar" title="Permalink to this heading">¶</a></h2>
<section id="relative-clauses">
<h3>Relative Clauses<a class="headerlink" href="#relative-clauses" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.ccg</span> <span class="kn">import</span> <span class="n">chart</span><span class="p">,</span> <span class="n">lexicon</span>
</pre></div>
</div>
<p>Construct a lexicon:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    :- S, NP, N, VP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    Det :: NP/N</span>
<span class="gp">... </span><span class="s1">    Pro :: NP</span>
<span class="gp">... </span><span class="s1">    Modal :: S</span><span class="se">\\</span><span class="s1">NP/VP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    TV :: VP/NP</span>
<span class="gp">... </span><span class="s1">    DTV :: TV/NP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    the =&gt; Det</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    that =&gt; Det</span>
<span class="gp">... </span><span class="s1">    that =&gt; NP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    I =&gt; Pro</span>
<span class="gp">... </span><span class="s1">    you =&gt; Pro</span>
<span class="gp">... </span><span class="s1">    we =&gt; Pro</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    chef =&gt; N</span>
<span class="gp">... </span><span class="s1">    cake =&gt; N</span>
<span class="gp">... </span><span class="s1">    children =&gt; N</span>
<span class="gp">... </span><span class="s1">    dough =&gt; N</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    will =&gt; Modal</span>
<span class="gp">... </span><span class="s1">    should =&gt; Modal</span>
<span class="gp">... </span><span class="s1">    might =&gt; Modal</span>
<span class="gp">... </span><span class="s1">    must =&gt; Modal</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    and =&gt; var</span><span class="se">\\</span><span class="s1">.,var/.,var</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    to =&gt; VP[to]/VP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    without =&gt; (VP</span><span class="se">\\</span><span class="s1">VP)/VP[ing]</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    be =&gt; TV</span>
<span class="gp">... </span><span class="s1">    cook =&gt; TV</span>
<span class="gp">... </span><span class="s1">    eat =&gt; TV</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    cooking =&gt; VP[ing]/NP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    give =&gt; DTV</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    is =&gt; (S</span><span class="se">\\</span><span class="s1">NP)/NP</span>
<span class="gp">... </span><span class="s1">    prefer =&gt; (S</span><span class="se">\\</span><span class="s1">NP)/NP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    which =&gt; (N</span><span class="se">\\</span><span class="s1">N)/(S/NP)</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    persuade =&gt; (VP/VP[to])/NP</span>
<span class="gp">... </span><span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">chart</span><span class="o">.</span><span class="n">DefaultRuleSet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">parse</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;you prefer that cake&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
<span class="gp">... </span>    <span class="n">chart</span><span class="o">.</span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parse</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">break</span>
<span class="gp">...</span>
<span class="go"> you    prefer      that   cake</span>
<span class="go"> NP   ((S\NP)/NP)  (NP/N)   N</span>
<span class="go">                  --------------&gt;</span>
<span class="go">                        NP</span>
<span class="go">     ---------------------------&gt;</span>
<span class="go">               (S\NP)</span>
<span class="go">--------------------------------&lt;</span>
<span class="go">               S</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">parse</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;that is the cake which you prefer&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
<span class="gp">... </span>    <span class="n">chart</span><span class="o">.</span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parse</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">break</span>
<span class="gp">...</span>
<span class="go"> that      is        the    cake      which       you    prefer</span>
<span class="go">  NP   ((S\NP)/NP)  (NP/N)   N    ((N\N)/(S/NP))  NP   ((S\NP)/NP)</span>
<span class="go">                                                 -----&gt;T</span>
<span class="go">                                              (S/(S\NP))</span>
<span class="go">                                                 ------------------&gt;B</span>
<span class="go">                                                       (S/NP)</span>
<span class="go">                                 ----------------------------------&gt;</span>
<span class="go">                                               (N\N)</span>
<span class="go">                           ----------------------------------------&lt;</span>
<span class="go">                                              N</span>
<span class="go">                   ------------------------------------------------&gt;</span>
<span class="go">                                          NP</span>
<span class="go">      -------------------------------------------------------------&gt;</span>
<span class="go">                                 (S\NP)</span>
<span class="go">-------------------------------------------------------------------&lt;</span>
<span class="go">                                 S</span>
</pre></div>
</div>
<p>Some other sentences to try:
“that is the cake which we will persuade the chef to cook”
“that is the cake which we will persuade the chef to give the children”</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sent</span> <span class="o">=</span> <span class="s2">&quot;that is the dough which you will eat without cooking&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nosub_parser</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">chart</span><span class="o">.</span><span class="n">ApplicationRuleSet</span> <span class="o">+</span>
<span class="gp">... </span>                      <span class="n">chart</span><span class="o">.</span><span class="n">CompositionRuleSet</span> <span class="o">+</span> <span class="n">chart</span><span class="o">.</span><span class="n">TypeRaiseRuleSet</span><span class="p">)</span>
</pre></div>
</div>
<p>Without Substitution (no output)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">parse</span> <span class="ow">in</span> <span class="n">nosub_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sent</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">chart</span><span class="o">.</span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parse</span><span class="p">)</span>
</pre></div>
</div>
<p>With Substitution:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">parse</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sent</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">chart</span><span class="o">.</span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parse</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">break</span>
<span class="gp">...</span>
<span class="go"> that      is        the    dough      which       you     will        eat          without           cooking</span>
<span class="go">  NP   ((S\NP)/NP)  (NP/N)    N    ((N\N)/(S/NP))  NP   ((S\NP)/VP)  (VP/NP)  ((VP\VP)/VP[&#39;ing&#39;])  (VP[&#39;ing&#39;]/NP)</span>
<span class="go">                                                  -----&gt;T</span>
<span class="go">                                               (S/(S\NP))</span>
<span class="go">                                                                             -------------------------------------&gt;B</span>
<span class="go">                                                                                         ((VP\VP)/NP)</span>
<span class="go">                                                                    ----------------------------------------------&lt;Sx</span>
<span class="go">                                                                                       (VP/NP)</span>
<span class="go">                                                       -----------------------------------------------------------&gt;B</span>
<span class="go">                                                                               ((S\NP)/NP)</span>
<span class="go">                                                  ----------------------------------------------------------------&gt;B</span>
<span class="go">                                                                               (S/NP)</span>
<span class="go">                                  --------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                                       (N\N)</span>
<span class="go">                           ---------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                                                      N</span>
<span class="go">                   -----------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                                 NP</span>
<span class="go">      ------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                         (S\NP)</span>
<span class="go">------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                                        S</span>
</pre></div>
</div>
</section>
<section id="conjunction">
<h3>Conjunction<a class="headerlink" href="#conjunction" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.ccg.chart</span> <span class="kn">import</span> <span class="n">CCGChartParser</span><span class="p">,</span> <span class="n">ApplicationRuleSet</span><span class="p">,</span> <span class="n">CompositionRuleSet</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.ccg.chart</span> <span class="kn">import</span> <span class="n">SubstitutionRuleSet</span><span class="p">,</span> <span class="n">TypeRaiseRuleSet</span><span class="p">,</span> <span class="n">printCCGDerivation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.ccg</span> <span class="kn">import</span> <span class="n">lexicon</span>
</pre></div>
</div>
<p>Lexicons for the tests:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test1_lex</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">       :- S,N,NP,VP</span>
<span class="gp">... </span><span class="s1">       I =&gt; NP</span>
<span class="gp">... </span><span class="s1">       you =&gt; NP</span>
<span class="gp">... </span><span class="s1">       will =&gt; S</span><span class="se">\\</span><span class="s1">NP/VP</span>
<span class="gp">... </span><span class="s1">       cook =&gt; VP/NP</span>
<span class="gp">... </span><span class="s1">       which =&gt; (N</span><span class="se">\\</span><span class="s1">N)/(S/NP)</span>
<span class="gp">... </span><span class="s1">       and =&gt; var</span><span class="se">\\</span><span class="s1">.,var/.,var</span>
<span class="gp">... </span><span class="s1">       might =&gt; S</span><span class="se">\\</span><span class="s1">NP/VP</span>
<span class="gp">... </span><span class="s1">       eat =&gt; VP/NP</span>
<span class="gp">... </span><span class="s1">       the =&gt; NP/N</span>
<span class="gp">... </span><span class="s1">       mushrooms =&gt; N</span>
<span class="gp">... </span><span class="s1">       parsnips =&gt; N&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test2_lex</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">        :- N, S, NP, VP</span>
<span class="gp">... </span><span class="s1">        articles =&gt; N</span>
<span class="gp">... </span><span class="s1">        the =&gt; NP/N</span>
<span class="gp">... </span><span class="s1">        and =&gt; var</span><span class="se">\\</span><span class="s1">.,var/.,var</span>
<span class="gp">... </span><span class="s1">        which =&gt; (N</span><span class="se">\\</span><span class="s1">N)/(S/NP)</span>
<span class="gp">... </span><span class="s1">        I =&gt; NP</span>
<span class="gp">... </span><span class="s1">        anyone =&gt; NP</span>
<span class="gp">... </span><span class="s1">        will =&gt; (S/VP)</span><span class="se">\\</span><span class="s1">NP</span>
<span class="gp">... </span><span class="s1">        file =&gt; VP/NP</span>
<span class="gp">... </span><span class="s1">        without =&gt; (VP</span><span class="se">\\</span><span class="s1">VP)/VP[ing]</span>
<span class="gp">... </span><span class="s1">        forget =&gt; VP/NP</span>
<span class="gp">... </span><span class="s1">        reading =&gt; VP[ing]/NP</span>
<span class="gp">... </span><span class="s1">        &#39;&#39;&#39;</span>
</pre></div>
</div>
<p>Tests handling of conjunctions.
Note that while the two derivations are different, they are semantically equivalent.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">test1_lex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">ApplicationRuleSet</span> <span class="o">+</span> <span class="n">CompositionRuleSet</span> <span class="o">+</span> <span class="n">SubstitutionRuleSet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">parse</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;I will cook and might eat the mushrooms and parsnips&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
<span class="gp">... </span>    <span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parse</span><span class="p">)</span>
<span class="go"> I      will       cook               and                might       eat     the    mushrooms             and             parsnips</span>
<span class="go"> NP  ((S\NP)/VP)  (VP/NP)  ((_var0\.,_var0)/.,_var0)  ((S\NP)/VP)  (VP/NP)  (NP/N)      N      ((_var0\.,_var0)/.,_var0)     N</span>
<span class="go">    ----------------------&gt;B</span>
<span class="go">         ((S\NP)/NP)</span>
<span class="go">                                                     ----------------------&gt;B</span>
<span class="go">                                                          ((S\NP)/NP)</span>
<span class="go">                          -------------------------------------------------&gt;</span>
<span class="go">                                     (((S\NP)/NP)\.,((S\NP)/NP))</span>
<span class="go">    -----------------------------------------------------------------------&lt;</span>
<span class="go">                                  ((S\NP)/NP)</span>
<span class="go">                                                                                              -------------------------------------&gt;</span>
<span class="go">                                                                                                             (N\.,N)</span>
<span class="go">                                                                                   ------------------------------------------------&lt;</span>
<span class="go">                                                                                                          N</span>
<span class="go">                                                                           --------------------------------------------------------&gt;</span>
<span class="go">                                                                                                      NP</span>
<span class="go">    -------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                                (S\NP)</span>
<span class="go">-----------------------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                                                 S</span>
<span class="go"> I      will       cook               and                might       eat     the    mushrooms             and             parsnips</span>
<span class="go"> NP  ((S\NP)/VP)  (VP/NP)  ((_var0\.,_var0)/.,_var0)  ((S\NP)/VP)  (VP/NP)  (NP/N)      N      ((_var0\.,_var0)/.,_var0)     N</span>
<span class="go">    ----------------------&gt;B</span>
<span class="go">         ((S\NP)/NP)</span>
<span class="go">                                                     ----------------------&gt;B</span>
<span class="go">                                                          ((S\NP)/NP)</span>
<span class="go">                          -------------------------------------------------&gt;</span>
<span class="go">                                     (((S\NP)/NP)\.,((S\NP)/NP))</span>
<span class="go">    -----------------------------------------------------------------------&lt;</span>
<span class="go">                                  ((S\NP)/NP)</span>
<span class="go">    -------------------------------------------------------------------------------&gt;B</span>
<span class="go">                                      ((S\NP)/N)</span>
<span class="go">                                                                                              -------------------------------------&gt;</span>
<span class="go">                                                                                                             (N\.,N)</span>
<span class="go">                                                                                   ------------------------------------------------&lt;</span>
<span class="go">                                                                                                          N</span>
<span class="go">    -------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                                (S\NP)</span>
<span class="go">-----------------------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                                                 S</span>
</pre></div>
</div>
<p>Tests handling subject extraction.
Interesting to point that the two parses are clearly semantically different.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">test2_lex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">ApplicationRuleSet</span> <span class="o">+</span> <span class="n">CompositionRuleSet</span> <span class="o">+</span> <span class="n">SubstitutionRuleSet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">parse</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;articles which I will file and forget without reading&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
<span class="gp">... </span>    <span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parse</span><span class="p">)</span>
<span class="go"> articles      which       I      will       file               and             forget         without           reading</span>
<span class="go">    N      ((N\N)/(S/NP))  NP  ((S/VP)\NP)  (VP/NP)  ((_var0\.,_var0)/.,_var0)  (VP/NP)  ((VP\VP)/VP[&#39;ing&#39;])  (VP[&#39;ing&#39;]/NP)</span>
<span class="go">                          -----------------&lt;</span>
<span class="go">                               (S/VP)</span>
<span class="go">                                                                                        -------------------------------------&gt;B</span>
<span class="go">                                                                                                    ((VP\VP)/NP)</span>
<span class="go">                                                                               ----------------------------------------------&lt;Sx</span>
<span class="go">                                                                                                  (VP/NP)</span>
<span class="go">                                                    -------------------------------------------------------------------------&gt;</span>
<span class="go">                                                                               ((VP/NP)\.,(VP/NP))</span>
<span class="go">                                           ----------------------------------------------------------------------------------&lt;</span>
<span class="go">                                                                                (VP/NP)</span>
<span class="go">                          ---------------------------------------------------------------------------------------------------&gt;B</span>
<span class="go">                                                                        (S/NP)</span>
<span class="go">          -------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                                 (N\N)</span>
<span class="go">-----------------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                                              N</span>
<span class="go"> articles      which       I      will       file               and             forget         without           reading</span>
<span class="go">    N      ((N\N)/(S/NP))  NP  ((S/VP)\NP)  (VP/NP)  ((_var0\.,_var0)/.,_var0)  (VP/NP)  ((VP\VP)/VP[&#39;ing&#39;])  (VP[&#39;ing&#39;]/NP)</span>
<span class="go">                          -----------------&lt;</span>
<span class="go">                               (S/VP)</span>
<span class="go">                                                    ------------------------------------&gt;</span>
<span class="go">                                                            ((VP/NP)\.,(VP/NP))</span>
<span class="go">                                           ---------------------------------------------&lt;</span>
<span class="go">                                                              (VP/NP)</span>
<span class="go">                                                                                        -------------------------------------&gt;B</span>
<span class="go">                                                                                                    ((VP\VP)/NP)</span>
<span class="go">                                           ----------------------------------------------------------------------------------&lt;Sx</span>
<span class="go">                                                                                (VP/NP)</span>
<span class="go">                          ---------------------------------------------------------------------------------------------------&gt;B</span>
<span class="go">                                                                        (S/NP)</span>
<span class="go">          -------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                                 (N\N)</span>
<span class="go">-----------------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                                              N</span>
</pre></div>
</div>
</section>
<section id="unicode-support">
<h3>Unicode support<a class="headerlink" href="#unicode-support" title="Permalink to this heading">¶</a></h3>
<p>Unicode words are supported.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.ccg</span> <span class="kn">import</span> <span class="n">chart</span><span class="p">,</span> <span class="n">lexicon</span>
</pre></div>
</div>
<p>Lexicons for the tests:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">       :- S, N, NP, PP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       AdjI :: N</span><span class="se">\\</span><span class="s1">N</span>
<span class="gp">... </span><span class="s1">       AdjD :: N/N</span>
<span class="gp">... </span><span class="s1">       AdvD :: S/S</span>
<span class="gp">... </span><span class="s1">       AdvI :: S</span><span class="se">\\</span><span class="s1">S</span>
<span class="gp">... </span><span class="s1">       Det :: NP/N</span>
<span class="gp">... </span><span class="s1">       PrepNPCompl :: PP/NP</span>
<span class="gp">... </span><span class="s1">       PrepNAdjN :: S</span><span class="se">\\</span><span class="s1">S/N</span>
<span class="gp">... </span><span class="s1">       PrepNAdjNP :: S</span><span class="se">\\</span><span class="s1">S/NP</span>
<span class="gp">... </span><span class="s1">       VPNP :: S</span><span class="se">\\</span><span class="s1">NP/NP</span>
<span class="gp">... </span><span class="s1">       VPPP :: S</span><span class="se">\\</span><span class="s1">NP/PP</span>
<span class="gp">... </span><span class="s1">       VPser :: S</span><span class="se">\\</span><span class="s1">NP/AdjI</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       auto =&gt; N</span>
<span class="gp">... </span><span class="s1">       bebidas =&gt; N</span>
<span class="gp">... </span><span class="s1">       cine =&gt; N</span>
<span class="gp">... </span><span class="s1">       ley =&gt; N</span>
<span class="gp">... </span><span class="s1">       libro =&gt; N</span>
<span class="gp">... </span><span class="s1">       ministro =&gt; N</span>
<span class="gp">... </span><span class="s1">       panadería =&gt; N</span>
<span class="gp">... </span><span class="s1">       presidente =&gt; N</span>
<span class="gp">... </span><span class="s1">       super =&gt; N</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       el =&gt; Det</span>
<span class="gp">... </span><span class="s1">       la =&gt; Det</span>
<span class="gp">... </span><span class="s1">       las =&gt; Det</span>
<span class="gp">... </span><span class="s1">       un =&gt; Det</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       Ana =&gt; NP</span>
<span class="gp">... </span><span class="s1">       Pablo =&gt; NP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       y =&gt; var</span><span class="se">\\</span><span class="s1">.,var/.,var</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       pero =&gt; (S/NP)</span><span class="se">\\</span><span class="s1">(S/NP)/(S/NP)</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       anunció =&gt; VPNP</span>
<span class="gp">... </span><span class="s1">       compró =&gt; VPNP</span>
<span class="gp">... </span><span class="s1">       cree =&gt; S</span><span class="se">\\</span><span class="s1">NP/S[dep]</span>
<span class="gp">... </span><span class="s1">       desmintió =&gt; VPNP</span>
<span class="gp">... </span><span class="s1">       lee =&gt; VPNP</span>
<span class="gp">... </span><span class="s1">       fueron =&gt; VPPP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       es =&gt; VPser</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       interesante =&gt; AdjD</span>
<span class="gp">... </span><span class="s1">       interesante =&gt; AdjI</span>
<span class="gp">... </span><span class="s1">       nueva =&gt; AdjD</span>
<span class="gp">... </span><span class="s1">       nueva =&gt; AdjI</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       a =&gt; PrepNPCompl</span>
<span class="gp">... </span><span class="s1">       en =&gt; PrepNAdjN</span>
<span class="gp">... </span><span class="s1">       en =&gt; PrepNAdjNP</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       ayer =&gt; AdvI</span>
<span class="gp">...</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">       que =&gt; (NP</span><span class="se">\\</span><span class="s1">NP)/(S/NP)</span>
<span class="gp">... </span><span class="s1">       que =&gt; S[dep]/S</span>
<span class="gp">... </span><span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">chart</span><span class="o">.</span><span class="n">DefaultRuleSet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">parse</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;el ministro anunció pero el presidente desmintió la nueva ley&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
<span class="gp">... </span>    <span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parse</span><span class="p">)</span> 
<span class="gp">... </span>    <span class="c1"># it fails on python2.7 because of the unicode problem explained in https://github.com/nltk/nltk/pull/1354</span>
<span class="gp">... </span>    <span class="k">break</span>
<span class="go">   el    ministro    anunció              pero              el    presidente   desmintió     la    nueva  ley</span>
<span class="go"> (NP/N)     N      ((S\NP)/NP)  (((S/NP)\(S/NP))/(S/NP))  (NP/N)      N       ((S\NP)/NP)  (NP/N)  (N/N)   N</span>
<span class="go">------------------&gt;</span>
<span class="go">        NP</span>
<span class="go">------------------&gt;T</span>
<span class="go">    (S/(S\NP))</span>
<span class="go">                                                         --------------------&gt;</span>
<span class="go">                                                                  NP</span>
<span class="go">                                                         --------------------&gt;T</span>
<span class="go">                                                              (S/(S\NP))</span>
<span class="go">                                                         ---------------------------------&gt;B</span>
<span class="go">                                                                      (S/NP)</span>
<span class="go">                               -----------------------------------------------------------&gt;</span>
<span class="go">                                                     ((S/NP)\(S/NP))</span>
<span class="go">                                                                                                  ------------&gt;</span>
<span class="go">                                                                                                       N</span>
<span class="go">                                                                                          --------------------&gt;</span>
<span class="go">                                                                                                   NP</span>
<span class="go">                                                                                          --------------------&lt;T</span>
<span class="go">                                                                                               (S\(S/NP))</span>
<span class="go">                               -------------------------------------------------------------------------------&lt;B</span>
<span class="go">                                                                 (S\(S/NP))</span>
<span class="go">                  --------------------------------------------------------------------------------------------&lt;B</span>
<span class="go">                                                             (S/NP)</span>
<span class="go">--------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                      S</span>
</pre></div>
</div>
</section>
</section>
</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/howto/ccg.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>