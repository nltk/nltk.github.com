<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: Sample usage for ccg_semantics</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/nltk.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="sample-usage-for-ccg-semantics">
<h1>Sample usage for ccg_semantics<a class="headerlink" href="#sample-usage-for-ccg-semantics" title="Permalink to this heading">¶</a></h1>
<section id="combinatory-categorial-grammar-with-semantics">
<h2>Combinatory Categorial Grammar with semantics<a class="headerlink" href="#combinatory-categorial-grammar-with-semantics" title="Permalink to this heading">¶</a></h2>
<section id="chart">
<h3>Chart<a class="headerlink" href="#chart" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.ccg</span> <span class="kn">import</span> <span class="n">chart</span><span class="p">,</span> <span class="n">lexicon</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.ccg.chart</span> <span class="kn">import</span> <span class="n">printCCGDerivation</span>
</pre></div>
</div>
<section id="no-semantics">
<h4>No semantics<a class="headerlink" href="#no-semantics" title="Permalink to this heading">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    :- S, NP, N</span>
<span class="gp">... </span><span class="s1">    She =&gt; NP</span>
<span class="gp">... </span><span class="s1">    has =&gt; (S</span><span class="se">\\</span><span class="s1">NP)/NP</span>
<span class="gp">... </span><span class="s1">    books =&gt; NP</span>
<span class="gp">... </span><span class="s1">    &#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">chart</span><span class="o">.</span><span class="n">DefaultRuleSet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parses</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;She has books&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">parses</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; parses&quot;</span><span class="p">)</span>
<span class="go">3 parses</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go"> She      has      books</span>
<span class="go"> NP   ((S\NP)/NP)   NP</span>
<span class="go">     --------------------&gt;</span>
<span class="go">            (S\NP)</span>
<span class="go">-------------------------&lt;</span>
<span class="go">            S</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go"> She      has      books</span>
<span class="go"> NP   ((S\NP)/NP)   NP</span>
<span class="go">-----&gt;T</span>
<span class="go">(S/(S\NP))</span>
<span class="go">     --------------------&gt;</span>
<span class="go">            (S\NP)</span>
<span class="go">-------------------------&gt;</span>
<span class="go">            S</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go"> She      has      books</span>
<span class="go"> NP   ((S\NP)/NP)   NP</span>
<span class="go">-----&gt;T</span>
<span class="go">(S/(S\NP))</span>
<span class="go">------------------&gt;B</span>
<span class="go">      (S/NP)</span>
<span class="go">-------------------------&gt;</span>
<span class="go">            S</span>
</pre></div>
</div>
</section>
<section id="simple-semantics">
<h4>Simple semantics<a class="headerlink" href="#simple-semantics" title="Permalink to this heading">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    :- S, NP, N</span>
<span class="gp">... </span><span class="s1">    She =&gt; NP </span><span class="si">{she}</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    has =&gt; (S</span><span class="se">\\</span><span class="s1">NP)/NP {</span><span class="se">\\</span><span class="s1">x y.have(y, x)}</span>
<span class="gp">... </span><span class="s1">    a =&gt; NP/N {</span><span class="se">\\</span><span class="s1">P.exists z.P(z)}</span>
<span class="gp">... </span><span class="s1">    book =&gt; N </span><span class="si">{book}</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    &#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">chart</span><span class="o">.</span><span class="n">DefaultRuleSet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parses</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;She has a book&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">parses</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; parses&quot;</span><span class="p">)</span>
<span class="go">7 parses</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">   She                 has                           a                book</span>
<span class="go"> NP {she}  ((S\NP)/NP) {\x y.have(y,x)}  (NP/N) {\P.exists z.P(z)}  N {book}</span>
<span class="go">                                        -------------------------------------&gt;</span>
<span class="go">                                                NP {exists z.book(z)}</span>
<span class="go">          -------------------------------------------------------------------&gt;</span>
<span class="go">                         (S\NP) {\y.have(y,exists z.book(z))}</span>
<span class="go">-----------------------------------------------------------------------------&lt;</span>
<span class="go">                       S {have(she,exists z.book(z))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">   She                 has                           a                book</span>
<span class="go"> NP {she}  ((S\NP)/NP) {\x y.have(y,x)}  (NP/N) {\P.exists z.P(z)}  N {book}</span>
<span class="go">          ---------------------------------------------------------&gt;B</span>
<span class="go">                   ((S\NP)/N) {\P y.have(y,exists z.P(z))}</span>
<span class="go">          -------------------------------------------------------------------&gt;</span>
<span class="go">                         (S\NP) {\y.have(y,exists z.book(z))}</span>
<span class="go">-----------------------------------------------------------------------------&lt;</span>
<span class="go">                       S {have(she,exists z.book(z))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">   She                 has                           a                book</span>
<span class="go"> NP {she}  ((S\NP)/NP) {\x y.have(y,x)}  (NP/N) {\P.exists z.P(z)}  N {book}</span>
<span class="go">----------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(she)}</span>
<span class="go">                                        -------------------------------------&gt;</span>
<span class="go">                                                NP {exists z.book(z)}</span>
<span class="go">          -------------------------------------------------------------------&gt;</span>
<span class="go">                         (S\NP) {\y.have(y,exists z.book(z))}</span>
<span class="go">-----------------------------------------------------------------------------&gt;</span>
<span class="go">                       S {have(she,exists z.book(z))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="go">   She                 has                           a                book</span>
<span class="go"> NP {she}  ((S\NP)/NP) {\x y.have(y,x)}  (NP/N) {\P.exists z.P(z)}  N {book}</span>
<span class="go">----------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(she)}</span>
<span class="go">          ---------------------------------------------------------&gt;B</span>
<span class="go">                   ((S\NP)/N) {\P y.have(y,exists z.P(z))}</span>
<span class="go">          -------------------------------------------------------------------&gt;</span>
<span class="go">                         (S\NP) {\y.have(y,exists z.book(z))}</span>
<span class="go">-----------------------------------------------------------------------------&gt;</span>
<span class="go">                       S {have(she,exists z.book(z))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="go">   She                 has                           a                book</span>
<span class="go"> NP {she}  ((S\NP)/NP) {\x y.have(y,x)}  (NP/N) {\P.exists z.P(z)}  N {book}</span>
<span class="go">----------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(she)}</span>
<span class="go">----------------------------------------&gt;B</span>
<span class="go">        (S/NP) {\x.have(she,x)}</span>
<span class="go">                                        -------------------------------------&gt;</span>
<span class="go">                                                NP {exists z.book(z)}</span>
<span class="go">-----------------------------------------------------------------------------&gt;</span>
<span class="go">                       S {have(she,exists z.book(z))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="go">   She                 has                           a                book</span>
<span class="go"> NP {she}  ((S\NP)/NP) {\x y.have(y,x)}  (NP/N) {\P.exists z.P(z)}  N {book}</span>
<span class="go">----------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(she)}</span>
<span class="go">          ---------------------------------------------------------&gt;B</span>
<span class="go">                   ((S\NP)/N) {\P y.have(y,exists z.P(z))}</span>
<span class="go">-------------------------------------------------------------------&gt;B</span>
<span class="go">                (S/N) {\P.have(she,exists z.P(z))}</span>
<span class="go">-----------------------------------------------------------------------------&gt;</span>
<span class="go">                       S {have(she,exists z.book(z))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
<span class="go">   She                 has                           a                book</span>
<span class="go"> NP {she}  ((S\NP)/NP) {\x y.have(y,x)}  (NP/N) {\P.exists z.P(z)}  N {book}</span>
<span class="go">----------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(she)}</span>
<span class="go">----------------------------------------&gt;B</span>
<span class="go">        (S/NP) {\x.have(she,x)}</span>
<span class="go">-------------------------------------------------------------------&gt;B</span>
<span class="go">                (S/N) {\P.have(she,exists z.P(z))}</span>
<span class="go">-----------------------------------------------------------------------------&gt;</span>
<span class="go">                       S {have(she,exists z.book(z))}</span>
</pre></div>
</div>
</section>
<section id="complex-semantics">
<h4>Complex semantics<a class="headerlink" href="#complex-semantics" title="Permalink to this heading">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    :- S, NP, N</span>
<span class="gp">... </span><span class="s1">    She =&gt; NP </span><span class="si">{she}</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    has =&gt; (S</span><span class="se">\\</span><span class="s1">NP)/NP {</span><span class="se">\\</span><span class="s1">x y.have(y, x)}</span>
<span class="gp">... </span><span class="s1">    a =&gt; ((S</span><span class="se">\\</span><span class="s1">NP)</span><span class="se">\\</span><span class="s1">((S</span><span class="se">\\</span><span class="s1">NP)/NP))/N {</span><span class="se">\\</span><span class="s1">P R x.(exists z.P(z) &amp; R(z,x))}</span>
<span class="gp">... </span><span class="s1">    book =&gt; N </span><span class="si">{book}</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    &#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">chart</span><span class="o">.</span><span class="n">DefaultRuleSet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parses</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;She has a book&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">parses</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; parses&quot;</span><span class="p">)</span>
<span class="go">2 parses</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">   She                 has                                           a                                 book</span>
<span class="go"> NP {she}  ((S\NP)/NP) {\x y.have(y,x)}  (((S\NP)\((S\NP)/NP))/N) {\P R x.(exists z.P(z) &amp; R(z,x))}  N {book}</span>
<span class="go">                                        ----------------------------------------------------------------------&gt;</span>
<span class="go">                                               ((S\NP)\((S\NP)/NP)) {\R x.(exists z.book(z) &amp; R(z,x))}</span>
<span class="go">          ----------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                       (S\NP) {\x.(exists z.book(z) &amp; have(x,z))}</span>
<span class="go">--------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                     S {(exists z.book(z) &amp; have(she,z))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">   She                 has                                           a                                 book</span>
<span class="go"> NP {she}  ((S\NP)/NP) {\x y.have(y,x)}  (((S\NP)\((S\NP)/NP))/N) {\P R x.(exists z.P(z) &amp; R(z,x))}  N {book}</span>
<span class="go">----------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(she)}</span>
<span class="go">                                        ----------------------------------------------------------------------&gt;</span>
<span class="go">                                               ((S\NP)\((S\NP)/NP)) {\R x.(exists z.book(z) &amp; R(z,x))}</span>
<span class="go">          ----------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                       (S\NP) {\x.(exists z.book(z) &amp; have(x,z))}</span>
<span class="go">--------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                     S {(exists z.book(z) &amp; have(she,z))}</span>
</pre></div>
</div>
</section>
<section id="using-conjunctions">
<h4>Using conjunctions<a class="headerlink" href="#using-conjunctions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p># TODO: The semantics of “and” should have been more flexible
&gt;&gt;&gt; lex = lexicon.fromstring(‘’’
…     :- S, NP, N
…     I =&gt; NP {I}
…     cook =&gt; (S\NP)/NP {\x y.cook(x,y)}
…     and =&gt; var\.,var/.,var {\P Q x y.(P(x,y) &amp; Q(x,y))}
…     eat =&gt; (S\NP)/NP {\x y.eat(x,y)}
…     the =&gt; NP/N {\x.the(x)}
…     bacon =&gt; N {bacon}
…     ‘’’,
…     True)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">chart</span><span class="o">.</span><span class="n">DefaultRuleSet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parses</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;I cook and eat the bacon&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">parses</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; parses&quot;</span><span class="p">)</span>
<span class="go">7 parses</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">   I                 cook                                       and                                        eat                     the            bacon</span>
<span class="go"> NP {I}  ((S\NP)/NP) {\x y.cook(x,y)}  ((_var0\.,_var0)/.,_var0) {\P Q x y.(P(x,y) &amp; Q(x,y))}  ((S\NP)/NP) {\x y.eat(x,y)}  (NP/N) {\x.the(x)}  N {bacon}</span>
<span class="go">                                      -------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                    (((S\NP)/NP)\.,((S\NP)/NP)) {\Q x y.(eat(x,y) &amp; Q(x,y))}</span>
<span class="go">        -------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                             ((S\NP)/NP) {\x y.(eat(x,y) &amp; cook(x,y))}</span>
<span class="go">                                                                                                                           -------------------------------&gt;</span>
<span class="go">                                                                                                                                   NP {the(bacon)}</span>
<span class="go">        --------------------------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                       (S\NP) {\y.(eat(the(bacon),y) &amp; cook(the(bacon),y))}</span>
<span class="go">----------------------------------------------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                                       S {(eat(the(bacon),I) &amp; cook(the(bacon),I))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">   I                 cook                                       and                                        eat                     the            bacon</span>
<span class="go"> NP {I}  ((S\NP)/NP) {\x y.cook(x,y)}  ((_var0\.,_var0)/.,_var0) {\P Q x y.(P(x,y) &amp; Q(x,y))}  ((S\NP)/NP) {\x y.eat(x,y)}  (NP/N) {\x.the(x)}  N {bacon}</span>
<span class="go">                                      -------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                    (((S\NP)/NP)\.,((S\NP)/NP)) {\Q x y.(eat(x,y) &amp; Q(x,y))}</span>
<span class="go">        -------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                             ((S\NP)/NP) {\x y.(eat(x,y) &amp; cook(x,y))}</span>
<span class="go">        ---------------------------------------------------------------------------------------------------------------------------------------&gt;B</span>
<span class="go">                                                  ((S\NP)/N) {\x y.(eat(the(x),y) &amp; cook(the(x),y))}</span>
<span class="go">        --------------------------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                       (S\NP) {\y.(eat(the(bacon),y) &amp; cook(the(bacon),y))}</span>
<span class="go">----------------------------------------------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                                       S {(eat(the(bacon),I) &amp; cook(the(bacon),I))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">   I                 cook                                       and                                        eat                     the            bacon</span>
<span class="go"> NP {I}  ((S\NP)/NP) {\x y.cook(x,y)}  ((_var0\.,_var0)/.,_var0) {\P Q x y.(P(x,y) &amp; Q(x,y))}  ((S\NP)/NP) {\x y.eat(x,y)}  (NP/N) {\x.the(x)}  N {bacon}</span>
<span class="go">--------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(I)}</span>
<span class="go">                                      -------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                    (((S\NP)/NP)\.,((S\NP)/NP)) {\Q x y.(eat(x,y) &amp; Q(x,y))}</span>
<span class="go">        -------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                             ((S\NP)/NP) {\x y.(eat(x,y) &amp; cook(x,y))}</span>
<span class="go">                                                                                                                           -------------------------------&gt;</span>
<span class="go">                                                                                                                                   NP {the(bacon)}</span>
<span class="go">        --------------------------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                       (S\NP) {\y.(eat(the(bacon),y) &amp; cook(the(bacon),y))}</span>
<span class="go">----------------------------------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                       S {(eat(the(bacon),I) &amp; cook(the(bacon),I))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="go">   I                 cook                                       and                                        eat                     the            bacon</span>
<span class="go"> NP {I}  ((S\NP)/NP) {\x y.cook(x,y)}  ((_var0\.,_var0)/.,_var0) {\P Q x y.(P(x,y) &amp; Q(x,y))}  ((S\NP)/NP) {\x y.eat(x,y)}  (NP/N) {\x.the(x)}  N {bacon}</span>
<span class="go">--------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(I)}</span>
<span class="go">                                      -------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                    (((S\NP)/NP)\.,((S\NP)/NP)) {\Q x y.(eat(x,y) &amp; Q(x,y))}</span>
<span class="go">        -------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                             ((S\NP)/NP) {\x y.(eat(x,y) &amp; cook(x,y))}</span>
<span class="go">        ---------------------------------------------------------------------------------------------------------------------------------------&gt;B</span>
<span class="go">                                                  ((S\NP)/N) {\x y.(eat(the(x),y) &amp; cook(the(x),y))}</span>
<span class="go">        --------------------------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                       (S\NP) {\y.(eat(the(bacon),y) &amp; cook(the(bacon),y))}</span>
<span class="go">----------------------------------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                       S {(eat(the(bacon),I) &amp; cook(the(bacon),I))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="go">   I                 cook                                       and                                        eat                     the            bacon</span>
<span class="go"> NP {I}  ((S\NP)/NP) {\x y.cook(x,y)}  ((_var0\.,_var0)/.,_var0) {\P Q x y.(P(x,y) &amp; Q(x,y))}  ((S\NP)/NP) {\x y.eat(x,y)}  (NP/N) {\x.the(x)}  N {bacon}</span>
<span class="go">--------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(I)}</span>
<span class="go">                                      -------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                    (((S\NP)/NP)\.,((S\NP)/NP)) {\Q x y.(eat(x,y) &amp; Q(x,y))}</span>
<span class="go">        -------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                             ((S\NP)/NP) {\x y.(eat(x,y) &amp; cook(x,y))}</span>
<span class="go">---------------------------------------------------------------------------------------------------------------------------&gt;B</span>
<span class="go">                                            (S/NP) {\x.(eat(x,I) &amp; cook(x,I))}</span>
<span class="go">                                                                                                                           -------------------------------&gt;</span>
<span class="go">                                                                                                                                   NP {the(bacon)}</span>
<span class="go">----------------------------------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                       S {(eat(the(bacon),I) &amp; cook(the(bacon),I))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="go">   I                 cook                                       and                                        eat                     the            bacon</span>
<span class="go"> NP {I}  ((S\NP)/NP) {\x y.cook(x,y)}  ((_var0\.,_var0)/.,_var0) {\P Q x y.(P(x,y) &amp; Q(x,y))}  ((S\NP)/NP) {\x y.eat(x,y)}  (NP/N) {\x.the(x)}  N {bacon}</span>
<span class="go">--------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(I)}</span>
<span class="go">                                      -------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                    (((S\NP)/NP)\.,((S\NP)/NP)) {\Q x y.(eat(x,y) &amp; Q(x,y))}</span>
<span class="go">        -------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                             ((S\NP)/NP) {\x y.(eat(x,y) &amp; cook(x,y))}</span>
<span class="go">        ---------------------------------------------------------------------------------------------------------------------------------------&gt;B</span>
<span class="go">                                                  ((S\NP)/N) {\x y.(eat(the(x),y) &amp; cook(the(x),y))}</span>
<span class="go">-----------------------------------------------------------------------------------------------------------------------------------------------&gt;B</span>
<span class="go">                                                  (S/N) {\x.(eat(the(x),I) &amp; cook(the(x),I))}</span>
<span class="go">----------------------------------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                       S {(eat(the(bacon),I) &amp; cook(the(bacon),I))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
<span class="go">   I                 cook                                       and                                        eat                     the            bacon</span>
<span class="go"> NP {I}  ((S\NP)/NP) {\x y.cook(x,y)}  ((_var0\.,_var0)/.,_var0) {\P Q x y.(P(x,y) &amp; Q(x,y))}  ((S\NP)/NP) {\x y.eat(x,y)}  (NP/N) {\x.the(x)}  N {bacon}</span>
<span class="go">--------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(I)}</span>
<span class="go">                                      -------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                    (((S\NP)/NP)\.,((S\NP)/NP)) {\Q x y.(eat(x,y) &amp; Q(x,y))}</span>
<span class="go">        -------------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                             ((S\NP)/NP) {\x y.(eat(x,y) &amp; cook(x,y))}</span>
<span class="go">---------------------------------------------------------------------------------------------------------------------------&gt;B</span>
<span class="go">                                            (S/NP) {\x.(eat(x,I) &amp; cook(x,I))}</span>
<span class="go">-----------------------------------------------------------------------------------------------------------------------------------------------&gt;B</span>
<span class="go">                                                  (S/N) {\x.(eat(the(x),I) &amp; cook(the(x),I))}</span>
<span class="go">----------------------------------------------------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                                       S {(eat(the(bacon),I) &amp; cook(the(bacon),I))}</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="tests-from-published-papers">
<h4>Tests from published papers<a class="headerlink" href="#tests-from-published-papers" title="Permalink to this heading">¶</a></h4>
<p>An example from “CCGbank: A Corpus of CCG Derivations and Dependency Structures Extracted from the Penn Treebank”, Hockenmaier and Steedman, 2007, Page 359, <a class="reference external" href="https://www.aclweb.org/anthology/J/J07/J07-3004.pdf">https://www.aclweb.org/anthology/J/J07/J07-3004.pdf</a></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    :- S, NP</span>
<span class="gp">... </span><span class="s1">    I =&gt; NP </span><span class="si">{I}</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    give =&gt; ((S</span><span class="se">\\</span><span class="s1">NP)/NP)/NP {</span><span class="se">\\</span><span class="s1">x y z.give(y,x,z)}</span>
<span class="gp">... </span><span class="s1">    them =&gt; NP </span><span class="si">{them}</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    money =&gt; NP </span><span class="si">{money}</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    &#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">chart</span><span class="o">.</span><span class="n">DefaultRuleSet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parses</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;I give them money&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">parses</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; parses&quot;</span><span class="p">)</span>
<span class="go">3 parses</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">   I                     give                     them       money</span>
<span class="go"> NP {I}  (((S\NP)/NP)/NP) {\x y z.give(y,x,z)}  NP {them}  NP {money}</span>
<span class="go">        --------------------------------------------------&gt;</span>
<span class="go">                ((S\NP)/NP) {\y z.give(y,them,z)}</span>
<span class="go">        --------------------------------------------------------------&gt;</span>
<span class="go">                        (S\NP) {\z.give(money,them,z)}</span>
<span class="go">----------------------------------------------------------------------&lt;</span>
<span class="go">                        S {give(money,them,I)}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">   I                     give                     them       money</span>
<span class="go"> NP {I}  (((S\NP)/NP)/NP) {\x y z.give(y,x,z)}  NP {them}  NP {money}</span>
<span class="go">--------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(I)}</span>
<span class="go">        --------------------------------------------------&gt;</span>
<span class="go">                ((S\NP)/NP) {\y z.give(y,them,z)}</span>
<span class="go">        --------------------------------------------------------------&gt;</span>
<span class="go">                        (S\NP) {\z.give(money,them,z)}</span>
<span class="go">----------------------------------------------------------------------&gt;</span>
<span class="go">                        S {give(money,them,I)}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">   I                     give                     them       money</span>
<span class="go"> NP {I}  (((S\NP)/NP)/NP) {\x y z.give(y,x,z)}  NP {them}  NP {money}</span>
<span class="go">--------&gt;T</span>
<span class="go">(S/(S\NP)) {\F.F(I)}</span>
<span class="go">        --------------------------------------------------&gt;</span>
<span class="go">                ((S\NP)/NP) {\y z.give(y,them,z)}</span>
<span class="go">----------------------------------------------------------&gt;B</span>
<span class="go">                (S/NP) {\y.give(y,them,I)}</span>
<span class="go">----------------------------------------------------------------------&gt;</span>
<span class="go">                        S {give(money,them,I)}</span>
</pre></div>
</div>
<p>An example from “CCGbank: A Corpus of CCG Derivations and Dependency Structures Extracted from the Penn Treebank”, Hockenmaier and Steedman, 2007, Page 359, <a class="reference external" href="https://www.aclweb.org/anthology/J/J07/J07-3004.pdf">https://www.aclweb.org/anthology/J/J07/J07-3004.pdf</a></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    :- N, NP, S</span>
<span class="gp">... </span><span class="s1">    money =&gt; N </span><span class="si">{money}</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    that =&gt; (N</span><span class="se">\\</span><span class="s1">N)/(S/NP) {</span><span class="se">\\</span><span class="s1">P Q x.(P(x) &amp; Q(x))}</span>
<span class="gp">... </span><span class="s1">    I =&gt; NP </span><span class="si">{I}</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    give =&gt; ((S</span><span class="se">\\</span><span class="s1">NP)/NP)/NP {</span><span class="se">\\</span><span class="s1">x y z.give(y,x,z)}</span>
<span class="gp">... </span><span class="s1">    them =&gt; NP </span><span class="si">{them}</span><span class="s1"></span>
<span class="gp">... </span><span class="s1">    &#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">CCGChartParser</span><span class="p">(</span><span class="n">lex</span><span class="p">,</span> <span class="n">chart</span><span class="o">.</span><span class="n">DefaultRuleSet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parses</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;money that I give them&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">parses</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; parses&quot;</span><span class="p">)</span>
<span class="go">3 parses</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">   money                    that                     I                     give                     them</span>
<span class="go"> N {money}  ((N\N)/(S/NP)) {\P Q x.(P(x) &amp; Q(x))}  NP {I}  (((S\NP)/NP)/NP) {\x y z.give(y,x,z)}  NP {them}</span>
<span class="go">                                                  --------&gt;T</span>
<span class="go">                                            (S/(S\NP)) {\F.F(I)}</span>
<span class="go">                                                          --------------------------------------------------&gt;</span>
<span class="go">                                                                  ((S\NP)/NP) {\y z.give(y,them,z)}</span>
<span class="go">                                                  ----------------------------------------------------------&gt;B</span>
<span class="go">                                                                  (S/NP) {\y.give(y,them,I)}</span>
<span class="go">           -------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                         (N\N) {\Q x.(give(x,them,I) &amp; Q(x))}</span>
<span class="go">------------------------------------------------------------------------------------------------------------&lt;</span>
<span class="go">                                     N {\x.(give(x,them,I) &amp; money(x))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">   money                    that                     I                     give                     them</span>
<span class="go"> N {money}  ((N\N)/(S/NP)) {\P Q x.(P(x) &amp; Q(x))}  NP {I}  (((S\NP)/NP)/NP) {\x y z.give(y,x,z)}  NP {them}</span>
<span class="go">-----------&gt;T</span>
<span class="go">(N/(N\N)) {\F.F(money)}</span>
<span class="go">                                                  --------&gt;T</span>
<span class="go">                                            (S/(S\NP)) {\F.F(I)}</span>
<span class="go">                                                          --------------------------------------------------&gt;</span>
<span class="go">                                                                  ((S\NP)/NP) {\y z.give(y,them,z)}</span>
<span class="go">                                                  ----------------------------------------------------------&gt;B</span>
<span class="go">                                                                  (S/NP) {\y.give(y,them,I)}</span>
<span class="go">           -------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                         (N\N) {\Q x.(give(x,them,I) &amp; Q(x))}</span>
<span class="go">------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                     N {\x.(give(x,them,I) &amp; money(x))}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">printCCGDerivation</span><span class="p">(</span><span class="n">parses</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">   money                    that                     I                     give                     them</span>
<span class="go"> N {money}  ((N\N)/(S/NP)) {\P Q x.(P(x) &amp; Q(x))}  NP {I}  (((S\NP)/NP)/NP) {\x y z.give(y,x,z)}  NP {them}</span>
<span class="go">-----------&gt;T</span>
<span class="go">(N/(N\N)) {\F.F(money)}</span>
<span class="go">--------------------------------------------------&gt;B</span>
<span class="go">       (N/(S/NP)) {\P x.(P(x) &amp; money(x))}</span>
<span class="go">                                                  --------&gt;T</span>
<span class="go">                                            (S/(S\NP)) {\F.F(I)}</span>
<span class="go">                                                          --------------------------------------------------&gt;</span>
<span class="go">                                                                  ((S\NP)/NP) {\y z.give(y,them,z)}</span>
<span class="go">                                                  ----------------------------------------------------------&gt;B</span>
<span class="go">                                                                  (S/NP) {\y.give(y,them,I)}</span>
<span class="go">------------------------------------------------------------------------------------------------------------&gt;</span>
<span class="go">                                     N {\x.(give(x,them,I) &amp; money(x))}</span>
</pre></div>
</div>
</section>
</section>
<section id="lexicon">
<h3>Lexicon<a class="headerlink" href="#lexicon" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.ccg</span> <span class="kn">import</span> <span class="n">lexicon</span>
</pre></div>
</div>
<p>Parse lexicon with semantics</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
<span class="gp">... </span>    <span class="sd">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="sd">    :- S,NP</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">    IntransVsg :: S\\NP[sg]</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">    sleeps =&gt; IntransVsg {\\x.sleep(x)}</span>
<span class="gp">... </span><span class="sd">    eats =&gt; S\\NP[sg]/NP {\\x y.eat(x,y)}</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">    and =&gt; var\\var/var {\\x y.x &amp; y}</span>
<span class="gp">... </span><span class="sd">    &#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="kc">True</span>
<span class="gp">... </span><span class="p">)))</span>
<span class="go">and =&gt; ((_var0\_var0)/_var0) {(\x y.x &amp; y)}</span>
<span class="go">eats =&gt; ((S\NP[&#39;sg&#39;])/NP) {\x y.eat(x,y)}</span>
<span class="go">sleeps =&gt; (S\NP[&#39;sg&#39;]) {\x.sleep(x)}</span>
</pre></div>
</div>
<p>Parse lexicon without semantics</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
<span class="gp">... </span>    <span class="sd">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="sd">    :- S,NP</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">    IntransVsg :: S\\NP[sg]</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">    sleeps =&gt; IntransVsg</span>
<span class="gp">... </span><span class="sd">    eats =&gt; S\\NP[sg]/NP {sem=\\x y.eat(x,y)}</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">    and =&gt; var\\var/var</span>
<span class="gp">... </span><span class="sd">    &#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="kc">False</span>
<span class="gp">... </span><span class="p">)))</span>
<span class="go">and =&gt; ((_var0\_var0)/_var0)</span>
<span class="go">eats =&gt; ((S\NP[&#39;sg&#39;])/NP)</span>
<span class="go">sleeps =&gt; (S\NP[&#39;sg&#39;])</span>
</pre></div>
</div>
<p>Semantics are missing</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">lexicon</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
<span class="gp">... </span>    <span class="sd">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="sd">    :- S,NP</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">    eats =&gt; S\\NP[sg]/NP</span>
<span class="gp">... </span><span class="sd">    &#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="kc">True</span>
<span class="gp">... </span><span class="p">)))</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">AssertionError</span>: <span class="n">eats =&gt; S\NP[sg]/NP must contain semantics because include_semantics is set to True</span>
</pre></div>
</div>
</section>
<section id="ccg-combinator-semantics-computation">
<h3>CCG combinator semantics computation<a class="headerlink" href="#ccg-combinator-semantics-computation" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.logic</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.ccg.logic</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">read_expr</span> <span class="o">=</span> <span class="n">Expression</span><span class="o">.</span><span class="n">fromstring</span>
</pre></div>
</div>
<p>Compute semantics from function application</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">compute_function_semantics</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.P(x)&#39;</span><span class="p">),</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;book&#39;</span><span class="p">))))</span>
<span class="go">P(book)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">compute_function_semantics</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\P.P(book)&#39;</span><span class="p">),</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;read&#39;</span><span class="p">))))</span>
<span class="go">read(book)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">compute_function_semantics</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\P.P(book)&#39;</span><span class="p">),</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.read(x)&#39;</span><span class="p">))))</span>
<span class="go">read(book)</span>
</pre></div>
</div>
<p>Compute semantics from composition</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">compute_composition_semantics</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.P(x)&#39;</span><span class="p">),</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.Q(x)&#39;</span><span class="p">))))</span>
<span class="go">\x.P(Q(x))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">compute_composition_semantics</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.P(x)&#39;</span><span class="p">),</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;read&#39;</span><span class="p">))))</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">AssertionError</span>: <span class="n">`read` must be a lambda expression</span>
</pre></div>
</div>
<p>Compute semantics from substitution</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">compute_substitution_semantics</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x y.P(x,y)&#39;</span><span class="p">),</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.Q(x)&#39;</span><span class="p">))))</span>
<span class="go">\x.P(x,Q(x))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">compute_substitution_semantics</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.P(x)&#39;</span><span class="p">),</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;read&#39;</span><span class="p">))))</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">AssertionError</span>: <span class="n">`\x.P(x)` must be a lambda expression with 2 arguments</span>
</pre></div>
</div>
<p>Compute type-raise semantics</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">compute_type_raised_semantics</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.P(x)&#39;</span><span class="p">))))</span>
<span class="go">\F x.F(P(x))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">compute_type_raised_semantics</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.F(x)&#39;</span><span class="p">))))</span>
<span class="go">\F1 x.F1(F(x))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">compute_type_raised_semantics</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x y z.P(x,y,z)&#39;</span><span class="p">))))</span>
<span class="go">\F x y z.F(P(x,y,z))</span>
</pre></div>
</div>
</section>
</section>
</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/howto/ccg_semantics.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>