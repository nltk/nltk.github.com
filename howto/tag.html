<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: Sample usage for tag</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/nltk.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="sample-usage-for-tag">
<h1>Sample usage for tag<a class="headerlink" href="#sample-usage-for-tag" title="Permalink to this heading">¶</a></h1>
<section id="evaluation-of-taggers">
<h2>Evaluation of Taggers<a class="headerlink" href="#evaluation-of-taggers" title="Permalink to this heading">¶</a></h2>
<p>Evaluating the standard NLTK PerceptronTagger using Accuracy,
Precision, Recall and F-measure for each of the tags.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.tag</span> <span class="kn">import</span> <span class="n">PerceptronTagger</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">treebank</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tagger</span> <span class="o">=</span> <span class="n">PerceptronTagger</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gold_data</span> <span class="o">=</span> <span class="n">treebank</span><span class="o">.</span><span class="n">tagged_sents</span><span class="p">()[</span><span class="mi">10</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tagger</span><span class="o">.</span><span class="n">accuracy</span><span class="p">(</span><span class="n">gold_data</span><span class="p">))</span> 
<span class="go">0.885931...</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tagger</span><span class="o">.</span><span class="n">evaluate_per_tag</span><span class="p">(</span><span class="n">gold_data</span><span class="p">))</span>
<span class="go">   Tag | Prec.  | Recall | F-measure</span>
<span class="go">-------+--------+--------+-----------</span>
<span class="go">    &#39;&#39; | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">     , | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">-NONE- | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">     . | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">     : | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    CC | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    CD | 0.7647 | 1.0000 | 0.8667</span>
<span class="go">    DT | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    IN | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    JJ | 0.5882 | 0.8333 | 0.6897</span>
<span class="go">   JJR | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   JJS | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    NN | 0.7647 | 0.9630 | 0.8525</span>
<span class="go">   NNP | 0.8929 | 1.0000 | 0.9434</span>
<span class="go">   NNS | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   POS | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   PRP | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    RB | 0.8000 | 1.0000 | 0.8889</span>
<span class="go">   RBR | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">    TO | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    VB | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   VBD | 0.8571 | 0.9231 | 0.8889</span>
<span class="go">   VBG | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   VBN | 0.8333 | 0.5556 | 0.6667</span>
<span class="go">   VBP | 0.5714 | 0.8000 | 0.6667</span>
<span class="go">   VBZ | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    WP | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    `` | 1.0000 | 1.0000 | 1.0000</span>
</pre></div>
</div>
<p>List only the 10 most common tags:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tagger</span><span class="o">.</span><span class="n">evaluate_per_tag</span><span class="p">(</span><span class="n">gold_data</span><span class="p">,</span> <span class="n">truncate</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sort_by_count</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">   Tag | Prec.  | Recall | F-measure</span>
<span class="go">-------+--------+--------+-----------</span>
<span class="go">    IN | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    DT | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">    NN | 0.7647 | 0.9630 | 0.8525</span>
<span class="go">   NNP | 0.8929 | 1.0000 | 0.9434</span>
<span class="go">   NNS | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">-NONE- | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">    CD | 0.7647 | 1.0000 | 0.8667</span>
<span class="go">   VBD | 0.8571 | 0.9231 | 0.8889</span>
<span class="go">    JJ | 0.5882 | 0.8333 | 0.6897</span>
<span class="go">     , | 1.0000 | 1.0000 | 1.0000</span>
</pre></div>
</div>
<p>Similarly, we can display the confusion matrix for this tagger.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tagger</span><span class="o">.</span><span class="n">confusion</span><span class="p">(</span><span class="n">gold_data</span><span class="p">))</span>
<span class="go">       |        -                                                                            |</span>
<span class="go">       |        N                                                                            |</span>
<span class="go">       |        O                                                                            |</span>
<span class="go">       |        N                       J  J     N  N  P  P     R        V  V  V  V  V       |</span>
<span class="go">       |  &#39;     E        C  C  D  I  J  J  J  N  N  N  O  R  R  B  T  V  B  B  B  B  B  W  ` |</span>
<span class="go">       |  &#39;  ,  -  .  :  C  D  T  N  J  R  S  N  P  S  S  P  B  R  O  B  D  G  N  P  Z  P  ` |</span>
<span class="go">-------+-------------------------------------------------------------------------------------+</span>
<span class="go">    &#39;&#39; | &lt;3&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">     , |  .&lt;11&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">-NONE- |  .  . &lt;.&gt; .  .  .  4  .  .  4  .  .  7  2  .  .  .  1  .  .  .  .  .  .  3  .  .  . |</span>
<span class="go">     . |  .  .  .&lt;10&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">     : |  .  .  .  . &lt;1&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">    CC |  .  .  .  .  . &lt;5&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">    CD |  .  .  .  .  .  .&lt;13&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">    DT |  .  .  .  .  .  .  .&lt;28&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">    IN |  .  .  .  .  .  .  .  .&lt;34&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">    JJ |  .  .  .  .  .  .  .  .  .&lt;10&gt; .  .  .  1  .  .  .  .  1  .  .  .  .  .  .  .  .  . |</span>
<span class="go">   JJR |  .  .  .  .  .  .  .  .  .  . &lt;1&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">   JJS |  .  .  .  .  .  .  .  .  .  .  . &lt;1&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">    NN |  .  .  .  .  .  .  .  .  .  1  .  .&lt;26&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">   NNP |  .  .  .  .  .  .  .  .  .  .  .  .  .&lt;25&gt; .  .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">   NNS |  .  .  .  .  .  .  .  .  .  .  .  .  .  .&lt;22&gt; .  .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">   POS |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . &lt;1&gt; .  .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">   PRP |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . &lt;3&gt; .  .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">    RB |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . &lt;4&gt; .  .  .  .  .  .  .  .  .  . |</span>
<span class="go">   RBR |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . &lt;.&gt; .  .  .  .  .  .  .  .  . |</span>
<span class="go">    TO |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . &lt;2&gt; .  .  .  .  .  .  .  . |</span>
<span class="go">    VB |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . &lt;1&gt; .  .  .  .  .  .  . |</span>
<span class="go">   VBD |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .&lt;12&gt; .  1  .  .  .  . |</span>
<span class="go">   VBG |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . &lt;3&gt; .  .  .  .  . |</span>
<span class="go">   VBN |  .  .  .  .  .  .  .  .  .  2  .  .  .  .  .  .  .  .  .  .  .  2  . &lt;5&gt; .  .  .  . |</span>
<span class="go">   VBP |  .  .  .  .  .  .  .  .  .  .  .  .  1  .  .  .  .  .  .  .  .  .  .  . &lt;4&gt; .  .  . |</span>
<span class="go">   VBZ |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . &lt;2&gt; .  . |</span>
<span class="go">    WP |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . &lt;3&gt; . |</span>
<span class="go">    `` |  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . &lt;3&gt;|</span>
<span class="go">-------+-------------------------------------------------------------------------------------+</span>
<span class="go">(row = reference; col = test)</span>
</pre></div>
</div>
</section>
<section id="brill-trainer-with-evaluation">
<h2>Brill Trainer with evaluation<a class="headerlink" href="#brill-trainer-with-evaluation" title="Permalink to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Perform the relevant imports.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.tbl.template</span> <span class="kn">import</span> <span class="n">Template</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.tag.brill</span> <span class="kn">import</span> <span class="n">Pos</span><span class="p">,</span> <span class="n">Word</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.tag</span> <span class="kn">import</span> <span class="n">untag</span><span class="p">,</span> <span class="n">RegexpTagger</span><span class="p">,</span> <span class="n">BrillTaggerTrainer</span><span class="p">,</span> <span class="n">UnigramTagger</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load some data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">treebank</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">training_data</span> <span class="o">=</span> <span class="n">treebank</span><span class="o">.</span><span class="n">tagged_sents</span><span class="p">()[:</span><span class="mi">100</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">baseline_data</span> <span class="o">=</span> <span class="n">treebank</span><span class="o">.</span><span class="n">tagged_sents</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">200</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gold_data</span> <span class="o">=</span> <span class="n">treebank</span><span class="o">.</span><span class="n">tagged_sents</span><span class="p">()[</span><span class="mi">200</span><span class="p">:</span><span class="mi">300</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testing_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">untag</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">gold_data</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">backoff</span> <span class="o">=</span> <span class="n">RegexpTagger</span><span class="p">([</span>
<span class="gp">... </span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^-?[0-9]+(.[0-9]+)?$&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">),</span>   <span class="c1"># cardinal numbers</span>
<span class="gp">... </span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(The|the|A|a|An|an)$&#39;</span><span class="p">,</span> <span class="s1">&#39;AT&#39;</span><span class="p">),</span>   <span class="c1"># articles</span>
<span class="gp">... </span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*able$&#39;</span><span class="p">,</span> <span class="s1">&#39;JJ&#39;</span><span class="p">),</span>                <span class="c1"># adjectives</span>
<span class="gp">... </span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*ness$&#39;</span><span class="p">,</span> <span class="s1">&#39;NN&#39;</span><span class="p">),</span>                <span class="c1"># nouns formed from adjectives</span>
<span class="gp">... </span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*ly$&#39;</span><span class="p">,</span> <span class="s1">&#39;RB&#39;</span><span class="p">),</span>                  <span class="c1"># adverbs</span>
<span class="gp">... </span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*s$&#39;</span><span class="p">,</span> <span class="s1">&#39;NNS&#39;</span><span class="p">),</span>                  <span class="c1"># plural nouns</span>
<span class="gp">... </span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*ing$&#39;</span><span class="p">,</span> <span class="s1">&#39;VBG&#39;</span><span class="p">),</span>                <span class="c1"># gerunds</span>
<span class="gp">... </span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*ed$&#39;</span><span class="p">,</span> <span class="s1">&#39;VBD&#39;</span><span class="p">),</span>                 <span class="c1"># past tense verbs</span>
<span class="gp">... </span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*&#39;</span><span class="p">,</span> <span class="s1">&#39;NN&#39;</span><span class="p">)</span>                      <span class="c1"># nouns (default)</span>
<span class="gp">... </span><span class="p">])</span>
</pre></div>
</div>
<p>We’ve now created a simple <code class="docutils literal notranslate"><span class="pre">RegexpTagger</span></code>, which tags according to the regular expression
rules it has been supplied. This tagger in and of itself does not have a great accuracy.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">backoff</span><span class="o">.</span><span class="n">accuracy</span><span class="p">(</span><span class="n">gold_data</span><span class="p">)</span> 
<span class="go">0.245014...</span>
</pre></div>
</div>
<p>Neither does a simple <code class="docutils literal notranslate"><span class="pre">UnigramTagger</span></code>. This tagger is trained on some data,
and will then first try to match unigrams (i.e. tokens) of the sentence it has
to tag to the learned data.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">unigram_tagger</span> <span class="o">=</span> <span class="n">UnigramTagger</span><span class="p">(</span><span class="n">baseline_data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unigram_tagger</span><span class="o">.</span><span class="n">accuracy</span><span class="p">(</span><span class="n">gold_data</span><span class="p">)</span> 
<span class="go">0.581196...</span>
</pre></div>
</div>
<p>The lackluster accuracy here can be explained with the following example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">unigram_tagger</span><span class="o">.</span><span class="n">tag</span><span class="p">([</span><span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;would&quot;</span><span class="p">,</span> <span class="s2">&quot;like&quot;</span><span class="p">,</span> <span class="s2">&quot;this&quot;</span><span class="p">,</span> <span class="s2">&quot;sentence&quot;</span><span class="p">,</span> <span class="s2">&quot;to&quot;</span><span class="p">,</span> <span class="s2">&quot;be&quot;</span><span class="p">,</span> <span class="s2">&quot;tagged&quot;</span><span class="p">])</span>
<span class="go">[(&#39;I&#39;, &#39;NNP&#39;), (&#39;would&#39;, &#39;MD&#39;), (&#39;like&#39;, None), (&#39;this&#39;, &#39;DT&#39;), (&#39;sentence&#39;, None),</span>
<span class="go">(&#39;to&#39;, &#39;TO&#39;), (&#39;be&#39;, &#39;VB&#39;), (&#39;tagged&#39;, None)]</span>
</pre></div>
</div>
<p>As you can see, many tokens are tagged as <code class="docutils literal notranslate"><span class="pre">None</span></code>, as these tokens are OOV (out of vocabulary).
The <code class="docutils literal notranslate"><span class="pre">UnigramTagger</span></code> has never seen them, and as a result they are not in its database of known terms.</p>
<p>In practice, a <code class="docutils literal notranslate"><span class="pre">UnigramTagger</span></code> is exclusively used in conjunction with a <em>backoff</em>. Our real
baseline which will use such a backoff. We’ll create a <code class="docutils literal notranslate"><span class="pre">UnigramTagger</span></code> like before, but now
the <code class="docutils literal notranslate"><span class="pre">RegexpTagger</span></code> will be used as a backoff for the situations where the <code class="docutils literal notranslate"><span class="pre">UnigramTagger</span></code>
encounters an OOV token.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">baseline</span> <span class="o">=</span> <span class="n">UnigramTagger</span><span class="p">(</span><span class="n">baseline_data</span><span class="p">,</span> <span class="n">backoff</span><span class="o">=</span><span class="n">backoff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">baseline</span><span class="o">.</span><span class="n">accuracy</span><span class="p">(</span><span class="n">gold_data</span><span class="p">)</span> 
<span class="go">0.7537647...</span>
</pre></div>
</div>
<p>That is already much better. We can investigate the performance further by running
<code class="docutils literal notranslate"><span class="pre">evaluate_per_tag</span></code>. This method will output the <em>Precision</em>, <em>Recall</em> and <em>F-measure</em>
of each tag.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">baseline</span><span class="o">.</span><span class="n">evaluate_per_tag</span><span class="p">(</span><span class="n">gold_data</span><span class="p">,</span> <span class="n">sort_by_count</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">   Tag | Prec.  | Recall | F-measure</span>
<span class="go">-------+--------+--------+-----------</span>
<span class="go">   NNP | 0.9674 | 0.2738 | 0.4269</span>
<span class="go">    NN | 0.4111 | 0.9136 | 0.5670</span>
<span class="go">    IN | 0.9383 | 0.9580 | 0.9480</span>
<span class="go">    DT | 0.9819 | 0.8859 | 0.9314</span>
<span class="go">    JJ | 0.8167 | 0.2970 | 0.4356</span>
<span class="go">   NNS | 0.7393 | 0.9630 | 0.8365</span>
<span class="go">-NONE- | 1.0000 | 0.8345 | 0.9098</span>
<span class="go">     , | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">     . | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   VBD | 0.6429 | 0.8804 | 0.7431</span>
<span class="go">    CD | 1.0000 | 0.9872 | 0.9935</span>
<span class="go">    CC | 1.0000 | 0.9355 | 0.9667</span>
<span class="go">    VB | 0.7778 | 0.3684 | 0.5000</span>
<span class="go">   VBN | 0.9375 | 0.3000 | 0.4545</span>
<span class="go">    RB | 0.7778 | 0.7447 | 0.7609</span>
<span class="go">    TO | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   VBZ | 0.9643 | 0.6429 | 0.7714</span>
<span class="go">   VBG | 0.6415 | 0.9444 | 0.7640</span>
<span class="go">  PRP$ | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   PRP | 1.0000 | 0.5556 | 0.7143</span>
<span class="go">    MD | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   VBP | 0.6471 | 0.5789 | 0.6111</span>
<span class="go">   POS | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">     $ | 1.0000 | 0.8182 | 0.9000</span>
<span class="go">    &#39;&#39; | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">     : | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   WDT | 0.4000 | 0.2000 | 0.2667</span>
<span class="go">    `` | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   JJR | 1.0000 | 0.5000 | 0.6667</span>
<span class="go">  NNPS | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">   RBR | 1.0000 | 1.0000 | 1.0000</span>
<span class="go"> -LRB- | 0.0000 | 0.0000 | 0.0000</span>
<span class="go"> -RRB- | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">    RP | 0.6667 | 0.6667 | 0.6667</span>
<span class="go">    EX | 0.5000 | 0.5000 | 0.5000</span>
<span class="go">   JJS | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">    WP | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   PDT | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">    AT | 0.0000 | 0.0000 | 0.0000</span>
</pre></div>
</div>
<p>It’s clear that although the precision of tagging <cite>“NNP”</cite> is high, the recall is very low.
With other words, we’re missing a lot of cases where the true label is <cite>“NNP”</cite>. We can see
a similar effect with <cite>“JJ”</cite>.</p>
<p>We can also see a very expected result: The precision of <cite>“NN”</cite> is low, while the recall
is high. If a term is OOV (i.e. <code class="docutils literal notranslate"><span class="pre">UnigramTagger</span></code> defers it to <code class="docutils literal notranslate"><span class="pre">RegexpTagger</span></code>) and
<code class="docutils literal notranslate"><span class="pre">RegexpTagger</span></code> doesn’t have a good rule for it, then it will be tagged as <cite>“NN”</cite>. So,
we catch almost all tokens that are truly labeled as <cite>“NN”</cite>, but we also tag as <cite>“NN”</cite>
for many tokens that shouldn’t be <cite>“NN”</cite>.</p>
<p>This method gives us some insight in what parts of the tagger needs more attention, and why.
However, it doesn’t tell us what the terms with true label <cite>“NNP”</cite> or <cite>“JJ”</cite> are actually
tagged as.
To help that, we can create a confusion matrix.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">baseline</span><span class="o">.</span><span class="n">confusion</span><span class="p">(</span><span class="n">gold_data</span><span class="p">))</span>
<span class="go">       |                   -                                                                                                                                         |</span>
<span class="go">       |               -   N   -                                                                                                                                     |</span>
<span class="go">       |               L   O   R                                                           N                   P                                                     |</span>
<span class="go">       |               R   N   R                                       J   J           N   N   N   P   P   P   R       R               V   V   V   V   V   W         |</span>
<span class="go">       |       &#39;       B   E   B           A   C   C   D   E   I   J   J   J   M   N   N   P   N   D   O   R   P   R   B   R   T   V   B   B   B   B   B   D   W   ` |</span>
<span class="go">       |   $   &#39;   ,   -   -   -   .   :   T   C   D   T   X   N   J   R   S   D   N   P   S   S   T   S   P   $   B   R   P   O   B   D   G   N   P   Z   T   P   ` |</span>
<span class="go">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="go">     $ |  &lt;9&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   2   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    &#39;&#39; |   . &lt;10&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">     , |   .   .&lt;115&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go"> -LRB- |   .   .   .  &lt;.&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   3   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">-NONE- |   .   .   .   .&lt;121&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .  24   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go"> -RRB- |   .   .   .   .   .  &lt;.&gt;  .   .   .   .   .   .   .   .   .   .   .   .   3   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">     . |   .   .   .   .   .   .&lt;100&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">     : |   .   .   .   .   .   .   . &lt;10&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    AT |   .   .   .   .   .   .   .   .  &lt;.&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    CC |   .   .   .   .   .   .   .   .   . &lt;58&gt;  .   .   .   .   .   .   .   .   4   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    CD |   .   .   .   .   .   .   .   .   .   . &lt;77&gt;  .   .   .   .   .   .   .   1   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    DT |   .   .   .   .   .   .   .   .   1   .   .&lt;163&gt;  .   4   .   .   .   .  13   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   3   .   . |</span>
<span class="go">    EX |   .   .   .   .   .   .   .   .   .   .   .   .  &lt;1&gt;  .   .   .   .   .   1   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    IN |   .   .   .   .   .   .   .   .   .   .   .   .   .&lt;228&gt;  .   .   .   .   8   .   .   .   .   .   .   .   .   .   .   .   .   .   2   .   .   .   .   .   . |</span>
<span class="go">    JJ |   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;49&gt;  .   .   .  86   2   .   4   .   .   .   .   6   .   .   .   .  12   3   .   3   .   .   .   . |</span>
<span class="go">   JJR |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  &lt;3&gt;  .   .   3   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">   JJS |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  &lt;.&gt;  .   2   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    MD |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;19&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    NN |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   9   .   .   .&lt;296&gt;  .   .   5   .   .   .   .   .   .   .   .   5   .   9   .   .   .   .   .   . |</span>
<span class="go">   NNP |   .   .   .   .   .   .   .   .   .   .   .   2   .   .   .   .   .   . 199 &lt;89&gt;  .  26   .   .   .   .   2   .   .   .   .   2   5   .   .   .   .   .   . |</span>
<span class="go">  NNPS |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   1  &lt;.&gt;  3   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">   NNS |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   5   .   .&lt;156&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   1   .   .   . |</span>
<span class="go">   PDT |   .   .   .   .   .   .   .   .   .   .   .   1   .   .   .   .   .   .   .   .   .   .  &lt;.&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">   POS |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;14&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">   PRP |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  10   .   .   2   .   . &lt;15&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">  PRP$ |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;28&gt;  .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    RB |   .   .   .   .   .   .   .   .   .   .   .   .   1   4   .   .   .   .   6   .   .   .   .   .   .   . &lt;35&gt;  .   1   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">   RBR |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  &lt;4&gt;  .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    RP |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   1   .  &lt;2&gt;  .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    TO |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;47&gt;  .   .   .   .   .   .   .   .   . |</span>
<span class="go">    VB |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   2   .   .   .  30   .   .   .   .   .   .   .   1   .   .   . &lt;21&gt;  .   .   .   3   .   .   .   . |</span>
<span class="go">   VBD |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  10   .   .   .   .   .   .   .   .   .   .   .   . &lt;81&gt;  .   1   .   .   .   .   . |</span>
<span class="go">   VBG |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   2   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;34&gt;  .   .   .   .   .   . |</span>
<span class="go">   VBN |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   4   .   .   .   .   .   .   .   .   .   .   .   .  31   . &lt;15&gt;  .   .   .   .   . |</span>
<span class="go">   VBP |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   7   .   .   .   .   .   .   .   .   .   .   .   1   .   .   . &lt;11&gt;  .   .   .   . |</span>
<span class="go">   VBZ |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  15   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;27&gt;  .   .   . |</span>
<span class="go">   WDT |   .   .   .   .   .   .   .   .   .   .   .   .   .   7   .   .   .   .   1   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  &lt;2&gt;  .   . |</span>
<span class="go">    WP |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  &lt;2&gt;  . |</span>
<span class="go">    `` |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;10&gt;|</span>
<span class="go">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="go">(row = reference; col = test)</span>
</pre></div>
</div>
<p>Once again we can see that <cite>“NN”</cite> is the default if the tagger isn’t sure. Beyond that,
we can see why the recall for <cite>“NNP”</cite> is so low: these tokens are often tagged as <cite>“NN”</cite>.
This effect can also be seen for <cite>“JJ”</cite>, where the majority of tokens that ought to be
tagged as <cite>“JJ”</cite> are actually tagged as <cite>“NN”</cite> by our tagger.</p>
<p>This tagger will only serve as a baseline for the <code class="docutils literal notranslate"><span class="pre">BrillTaggerTrainer</span></code>, which uses
templates to attempt to improve the performance of the tagger.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set up templates</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Template</span><span class="o">.</span><span class="n">_cleartemplates</span><span class="p">()</span> <span class="c1">#clear any templates created in earlier tests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">templates</span> <span class="o">=</span> <span class="p">[</span><span class="n">Template</span><span class="p">(</span><span class="n">Pos</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">])),</span> <span class="n">Template</span><span class="p">(</span><span class="n">Pos</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="n">Word</span><span class="p">([</span><span class="mi">0</span><span class="p">]))]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Construct a BrillTaggerTrainer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span> <span class="o">=</span> <span class="n">BrillTaggerTrainer</span><span class="p">(</span><span class="n">baseline</span><span class="p">,</span> <span class="n">templates</span><span class="p">,</span> <span class="n">trace</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tagger1</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">training_data</span><span class="p">,</span> <span class="n">max_rules</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">TBL train (fast) (seqs: 100; tokens: 2417; tpls: 2; min score: 2; min acc: None)</span>
<span class="go">Finding initial useful rules...</span>
<span class="go">    Found 618 useful rules.</span>

<span class="go">           B      |</span>
<span class="go">   S   F   r   O  |        Score = Fixed - Broken</span>
<span class="go">   c   i   o   t  |  R     Fixed = num tags changed incorrect -&gt; correct</span>
<span class="go">   o   x   k   h  |  u     Broken = num tags changed correct -&gt; incorrect</span>
<span class="go">   r   e   e   e  |  l     Other = num tags changed incorrect -&gt; incorrect</span>
<span class="go">   e   d   n   r  |  e</span>
<span class="go">------------------+-------------------------------------------------------</span>
<span class="go">  13  14   1   4  | NN-&gt;VB if Pos:TO@[-1]</span>
<span class="go">   8   8   0   0  | NN-&gt;VB if Pos:MD@[-1]</span>
<span class="go">   7  10   3  22  | NN-&gt;IN if Pos:NNS@[-1]</span>
<span class="go">   5   5   0   0  | NN-&gt;VBP if Pos:PRP@[-1]</span>
<span class="go">   5   5   0   0  | VBD-&gt;VBN if Pos:VBZ@[-1]</span>
<span class="go">   5   5   0   0  | NNS-&gt;NN if Pos:IN@[-1] &amp; Word:asbestos@[0]</span>
<span class="go">   4   4   0   0  | NN-&gt;-NONE- if Pos:WP@[-1]</span>
<span class="go">   4   4   0   3  | NN-&gt;NNP if Pos:-NONE-@[-1]</span>
<span class="go">   4   6   2   2  | NN-&gt;NNP if Pos:NNP@[-1]</span>
<span class="go">   4   4   0   0  | NNS-&gt;VBZ if Pos:PRP@[-1]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tagger1</span><span class="o">.</span><span class="n">rules</span><span class="p">()[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">(Rule(&#39;000&#39;, &#39;NN&#39;, &#39;VB&#39;, [(Pos([-1]),&#39;MD&#39;)]), Rule(&#39;000&#39;, &#39;NN&#39;, &#39;IN&#39;, [(Pos([-1]),&#39;NNS&#39;)]))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tagger1</span><span class="o">.</span><span class="n">print_template_statistics</span><span class="p">(</span><span class="n">printunused</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">TEMPLATE STATISTICS (TRAIN)  2 templates, 10 rules)</span>
<span class="go">TRAIN (   2417 tokens) initial   555 0.7704 final:   496 0.7948</span>
<span class="go">#ID | Score (train) |  #Rules     | Template</span>
<span class="go">--------------------------------------------</span>
<span class="go">000 |    54   0.915 |   9   0.900 | Template(Pos([-1]))</span>
<span class="go">001 |     5   0.085 |   1   0.100 | Template(Pos([-1]),Word([0]))</span>

</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tagger1</span><span class="o">.</span><span class="n">accuracy</span><span class="p">(</span><span class="n">gold_data</span><span class="p">)</span> 
<span class="go">0.769230...</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tagger1</span><span class="o">.</span><span class="n">evaluate_per_tag</span><span class="p">(</span><span class="n">gold_data</span><span class="p">,</span> <span class="n">sort_by_count</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">   Tag | Prec.  | Recall | F-measure</span>
<span class="go">-------+--------+--------+-----------</span>
<span class="go">   NNP | 0.8298 | 0.3600 | 0.5021</span>
<span class="go">    NN | 0.4435 | 0.8364 | 0.5797</span>
<span class="go">    IN | 0.8476 | 0.9580 | 0.8994</span>
<span class="go">    DT | 0.9819 | 0.8859 | 0.9314</span>
<span class="go">    JJ | 0.8167 | 0.2970 | 0.4356</span>
<span class="go">   NNS | 0.7464 | 0.9630 | 0.8410</span>
<span class="go">-NONE- | 1.0000 | 0.8414 | 0.9139</span>
<span class="go">     , | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">     . | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   VBD | 0.6723 | 0.8696 | 0.7583</span>
<span class="go">    CD | 1.0000 | 0.9872 | 0.9935</span>
<span class="go">    CC | 1.0000 | 0.9355 | 0.9667</span>
<span class="go">    VB | 0.8103 | 0.8246 | 0.8174</span>
<span class="go">   VBN | 0.9130 | 0.4200 | 0.5753</span>
<span class="go">    RB | 0.7778 | 0.7447 | 0.7609</span>
<span class="go">    TO | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   VBZ | 0.9667 | 0.6905 | 0.8056</span>
<span class="go">   VBG | 0.6415 | 0.9444 | 0.7640</span>
<span class="go">  PRP$ | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   PRP | 1.0000 | 0.5556 | 0.7143</span>
<span class="go">    MD | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   VBP | 0.6316 | 0.6316 | 0.6316</span>
<span class="go">   POS | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">     $ | 1.0000 | 0.8182 | 0.9000</span>
<span class="go">    &#39;&#39; | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">     : | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   WDT | 0.4000 | 0.2000 | 0.2667</span>
<span class="go">    `` | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   JJR | 1.0000 | 0.5000 | 0.6667</span>
<span class="go">  NNPS | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">   RBR | 1.0000 | 1.0000 | 1.0000</span>
<span class="go"> -LRB- | 0.0000 | 0.0000 | 0.0000</span>
<span class="go"> -RRB- | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">    RP | 0.6667 | 0.6667 | 0.6667</span>
<span class="go">    EX | 0.5000 | 0.5000 | 0.5000</span>
<span class="go">   JJS | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">    WP | 1.0000 | 1.0000 | 1.0000</span>
<span class="go">   PDT | 0.0000 | 0.0000 | 0.0000</span>
<span class="go">    AT | 0.0000 | 0.0000 | 0.0000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tagger1</span><span class="o">.</span><span class="n">confusion</span><span class="p">(</span><span class="n">gold_data</span><span class="p">))</span>
<span class="go">       |                   -                                                                                                                                         |</span>
<span class="go">       |               -   N   -                                                                                                                                     |</span>
<span class="go">       |               L   O   R                                                           N                   P                                                     |</span>
<span class="go">       |               R   N   R                                       J   J           N   N   N   P   P   P   R       R               V   V   V   V   V   W         |</span>
<span class="go">       |       &#39;       B   E   B           A   C   C   D   E   I   J   J   J   M   N   N   P   N   D   O   R   P   R   B   R   T   V   B   B   B   B   B   D   W   ` |</span>
<span class="go">       |   $   &#39;   ,   -   -   -   .   :   T   C   D   T   X   N   J   R   S   D   N   P   S   S   T   S   P   $   B   R   P   O   B   D   G   N   P   Z   T   P   ` |</span>
<span class="go">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="go">     $ |  &lt;9&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   1   .   .   .   .   .   .   .   .   .   .   .   1   .   .   .   .   .   .   .   . |</span>
<span class="go">    &#39;&#39; |   . &lt;10&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">     , |   .   .&lt;115&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go"> -LRB- |   .   .   .  &lt;.&gt;  .   .   .   .   .   .   .   .   .   1   .   .   .   .   2   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">-NONE- |   .   .   .   .&lt;122&gt;  .   .   .   .   .   .   .   .   1   .   .   .   .  22   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go"> -RRB- |   .   .   .   .   .  &lt;.&gt;  .   .   .   .   .   .   .   .   .   .   .   .   2   1   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">     . |   .   .   .   .   .   .&lt;100&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">     : |   .   .   .   .   .   .   . &lt;10&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    AT |   .   .   .   .   .   .   .   .  &lt;.&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    CC |   .   .   .   .   .   .   .   .   . &lt;58&gt;  .   .   .   .   .   .   .   .   2   1   .   .   .   .   .   .   .   .   .   .   .   .   .   .   1   .   .   .   . |</span>
<span class="go">    CD |   .   .   .   .   .   .   .   .   .   . &lt;77&gt;  .   .   .   .   .   .   .   1   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    DT |   .   .   .   .   .   .   .   .   1   .   .&lt;163&gt;  .   5   .   .   .   .  12   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   3   .   . |</span>
<span class="go">    EX |   .   .   .   .   .   .   .   .   .   .   .   .  &lt;1&gt;  .   .   .   .   .   1   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    IN |   .   .   .   .   .   .   .   .   .   .   .   .   .&lt;228&gt;  .   .   .   .   8   .   .   .   .   .   .   .   .   .   .   .   .   .   2   .   .   .   .   .   . |</span>
<span class="go">    JJ |   .   .   .   .   .   .   .   .   .   .   .   .   .   4 &lt;49&gt;  .   .   .  79   4   .   4   .   .   .   .   6   .   .   .   1  12   3   .   3   .   .   .   . |</span>
<span class="go">   JJR |   .   .   .   .   .   .   .   .   .   .   .   .   .   2   .  &lt;3&gt;  .   .   1   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">   JJS |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  &lt;.&gt;  .   2   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    MD |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;19&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    NN |   .   .   .   .   .   .   .   .   .   .   .   .   .   7   9   .   .   .&lt;271&gt; 16   .   5   .   .   .   .   .   .   .   .   7   .   9   .   .   .   .   .   . |</span>
<span class="go">   NNP |   .   .   .   .   .   .   .   .   .   .   .   2   .   7   .   .   .   . 163&lt;117&gt;  .  26   .   .   .   .   2   .   .   .   1   2   5   .   .   .   .   .   . |</span>
<span class="go">  NNPS |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   1  &lt;.&gt;  3   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">   NNS |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   5   .   .&lt;156&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   1   .   .   . |</span>
<span class="go">   PDT |   .   .   .   .   .   .   .   .   .   .   .   1   .   .   .   .   .   .   .   .   .   .  &lt;.&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">   POS |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;14&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">   PRP |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  10   .   .   2   .   . &lt;15&gt;  .   .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">  PRP$ |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;28&gt;  .   .   .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    RB |   .   .   .   .   .   .   .   .   .   .   .   .   1   4   .   .   .   .   6   .   .   .   .   .   .   . &lt;35&gt;  .   1   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">   RBR |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  &lt;4&gt;  .   .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    RP |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   1   .  &lt;2&gt;  .   .   .   .   .   .   .   .   .   . |</span>
<span class="go">    TO |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;47&gt;  .   .   .   .   .   .   .   .   . |</span>
<span class="go">    VB |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   2   .   .   .   4   .   .   .   .   .   .   .   1   .   .   . &lt;47&gt;  .   .   .   3   .   .   .   . |</span>
<span class="go">   VBD |   .   .   .   .   .   .   .   .   .   .   .   .   .   1   .   .   .   .   8   1   .   .   .   .   .   .   .   .   .   .   . &lt;80&gt;  .   2   .   .   .   .   . |</span>
<span class="go">   VBG |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   2   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;34&gt;  .   .   .   .   .   . |</span>
<span class="go">   VBN |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   4   .   .   .   .   .   .   .   .   .   .   .   .  25   . &lt;21&gt;  .   .   .   .   . |</span>
<span class="go">   VBP |   .   .   .   .   .   .   .   .   .   .   .   .   .   2   .   .   .   .   4   .   .   .   .   .   .   .   .   .   .   .   1   .   .   . &lt;12&gt;  .   .   .   . |</span>
<span class="go">   VBZ |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  13   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;29&gt;  .   .   . |</span>
<span class="go">   WDT |   .   .   .   .   .   .   .   .   .   .   .   .   .   7   .   .   .   .   1   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  &lt;2&gt;  .   . |</span>
<span class="go">    WP |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  &lt;2&gt;  . |</span>
<span class="go">    `` |   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . &lt;10&gt;|</span>
<span class="go">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="go">(row = reference; col = test)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tagged</span><span class="p">,</span> <span class="n">test_stats</span> <span class="o">=</span> <span class="n">tagger1</span><span class="o">.</span><span class="n">batch_tag_incremental</span><span class="p">(</span><span class="n">testing_data</span><span class="p">,</span> <span class="n">gold_data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tagged</span><span class="p">[</span><span class="mi">33</span><span class="p">][</span><span class="mi">12</span><span class="p">:]</span>
<span class="go">[(&#39;foreign&#39;, &#39;NN&#39;), (&#39;debt&#39;, &#39;NN&#39;), (&#39;of&#39;, &#39;IN&#39;), (&#39;$&#39;, &#39;$&#39;), (&#39;64&#39;, &#39;CD&#39;),</span>
<span class="go">(&#39;billion&#39;, &#39;CD&#39;), (&#39;*U*&#39;, &#39;-NONE-&#39;), (&#39;--&#39;, &#39;:&#39;), (&#39;the&#39;, &#39;DT&#39;), (&#39;third-highest&#39;, &#39;NN&#39;),</span>
<span class="go">(&#39;in&#39;, &#39;IN&#39;), (&#39;the&#39;, &#39;DT&#39;), (&#39;developing&#39;, &#39;VBG&#39;), (&#39;world&#39;, &#39;NN&#39;), (&#39;.&#39;, &#39;.&#39;)]</span>
</pre></div>
</div>
<section id="regression-tests">
<h3>Regression Tests<a class="headerlink" href="#regression-tests" title="Permalink to this heading">¶</a></h3>
<section id="sequential-taggers">
<h4>Sequential Taggers<a class="headerlink" href="#sequential-taggers" title="Permalink to this heading">¶</a></h4>
<dl class="simple">
<dt>Add tests for:</dt><dd><ul class="simple">
<li><p>make sure backoff is being done correctly.</p></li>
<li><p>make sure ngram taggers don’t use previous sentences for context.</p></li>
<li><p>make sure ngram taggers see ‘beginning of the sentence’ as a
unique context</p></li>
<li><p>make sure regexp tagger’s regexps are tried in order</p></li>
<li><p>train on some simple examples, &amp; make sure that the size &amp; the
generated models are correct.</p></li>
<li><p>make sure cutoff works as intended</p></li>
<li><p>make sure that ngram models only exclude contexts covered by the
backoff tagger if the backoff tagger gets that context correct at
<em>all</em> locations.</p></li>
</ul>
</dd>
</dl>
</section>
</section>
</section>
<section id="regression-testing-for-issue-1025">
<h2>Regression Testing for issue #1025<a class="headerlink" href="#regression-testing-for-issue-1025" title="Permalink to this heading">¶</a></h2>
<p>We want to ensure that a RegexpTagger can be created with more than 100 patterns
and does not fail with: “AssertionError: sorry, but this version only supports 100 named groups”</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.tag</span> <span class="kn">import</span> <span class="n">RegexpTagger</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns</span> <span class="o">=</span> <span class="p">[(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="s1">&#39;NNP&#39;</span><span class="p">,)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tagger</span> <span class="o">=</span> <span class="n">RegexpTagger</span><span class="p">(</span><span class="n">patterns</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="regression-testing-for-issue-2483">
<h2>Regression Testing for issue #2483<a class="headerlink" href="#regression-testing-for-issue-2483" title="Permalink to this heading">¶</a></h2>
<p>Ensure that tagging with pos_tag (PerceptronTagger) does not throw an IndexError
when attempting tagging an empty string. What it must return instead is not
strictly defined.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.tag</span> <span class="kn">import</span> <span class="n">pos_tag</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos_tag</span><span class="p">([</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;beautiful&#39;</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="go">[...]</span>
</pre></div>
</div>
</section>
</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/howto/tag.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>