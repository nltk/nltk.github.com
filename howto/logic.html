<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: Sample usage for logic</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/nltk.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="sample-usage-for-logic">
<h1>Sample usage for logic<a class="headerlink" href="#sample-usage-for-logic" title="Permalink to this heading">¶</a></h1>
<section id="logic-lambda-calculus">
<h2>Logic &amp; Lambda Calculus<a class="headerlink" href="#logic-lambda-calculus" title="Permalink to this heading">¶</a></h2>
<p>The <cite>nltk.logic</cite> package allows expressions of First-Order Logic (FOL) to be
parsed into <code class="docutils literal notranslate"><span class="pre">Expression</span></code> objects. In addition to FOL, the parser
handles lambda-abstraction with variables of higher order.</p>
<section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.logic</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>The default inventory of logical constants is the following:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">boolean_ops</span><span class="p">()</span>
<span class="go">negation           -</span>
<span class="go">conjunction        &amp;</span>
<span class="go">disjunction        |</span>
<span class="go">implication        -&gt;</span>
<span class="go">equivalence        &lt;-&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">equality_preds</span><span class="p">()</span>
<span class="go">equality           =</span>
<span class="go">inequality         !=</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">binding_ops</span><span class="p">()</span>
<span class="go">existential        exists</span>
<span class="go">universal          all</span>
<span class="go">lambda             \</span>
</pre></div>
</div>
</section>
<section id="regression-tests">
<h3>Regression Tests<a class="headerlink" href="#regression-tests" title="Permalink to this heading">¶</a></h3>
<section id="untyped-logic">
<h4>Untyped Logic<a class="headerlink" href="#untyped-logic" title="Permalink to this heading">¶</a></h4>
<p>Process logical expressions conveniently:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">read_expr</span> <span class="o">=</span> <span class="n">Expression</span><span class="o">.</span><span class="n">fromstring</span>
</pre></div>
</div>
<section id="test-for-equality-under-alpha-conversion">
<h5>Test for equality under alpha-conversion<a class="headerlink" href="#test-for-equality-under-alpha-conversion" title="Permalink to this heading">¶</a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;exists x.P(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
<span class="go">exists x.P(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e2</span> <span class="o">=</span> <span class="n">e1</span><span class="o">.</span><span class="n">alpha_convert</span><span class="p">(</span><span class="n">Variable</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span>
<span class="go">exists z.P(z)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">==</span> <span class="n">e2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\X.\X.X(X)(1)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\X.X(X)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">==</span> <span class="nb">id</span>
<span class="go">True</span>
</pre></div>
</div>
</section>
<section id="test-numerals">
<h5>Test numerals<a class="headerlink" href="#test-numerals" title="Permalink to this heading">¶</a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\F x.x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">one</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\F x.F(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">two</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\F x.F(F(x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">three</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\F x.F(F(F(x)))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">four</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\F x.F(F(F(F(x))))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">succ</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\N F x.F(N(F,x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plus</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\M N F x.M(F,N(F,x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mult</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\M N F.M(N(F))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pred</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\N F x.(N(\G H.H(G(F)))(\u.x)(\u.u))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="n">ApplicationExpression</span><span class="p">(</span><span class="n">succ</span><span class="p">,</span> <span class="n">zero</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">==</span> <span class="n">one</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">=</span> <span class="n">ApplicationExpression</span><span class="p">(</span><span class="n">succ</span><span class="p">,</span> <span class="n">v1</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">==</span> <span class="n">two</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span> <span class="o">=</span> <span class="n">ApplicationExpression</span><span class="p">(</span><span class="n">ApplicationExpression</span><span class="p">(</span><span class="n">plus</span><span class="p">,</span> <span class="n">v1</span><span class="p">),</span> <span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span> <span class="o">==</span> <span class="n">three</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v4</span> <span class="o">=</span> <span class="n">ApplicationExpression</span><span class="p">(</span><span class="n">ApplicationExpression</span><span class="p">(</span><span class="n">mult</span><span class="p">,</span> <span class="n">v2</span><span class="p">),</span> <span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v4</span> <span class="o">==</span> <span class="n">four</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v5</span> <span class="o">=</span> <span class="n">ApplicationExpression</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">ApplicationExpression</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">v4</span><span class="p">))</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v5</span> <span class="o">==</span> <span class="n">two</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Overloaded operators also exist, for convenience.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">succ</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span> <span class="o">==</span> <span class="n">one</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">plus</span><span class="p">(</span><span class="n">one</span><span class="p">,</span><span class="n">two</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span> <span class="o">==</span> <span class="n">three</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mult</span><span class="p">(</span><span class="n">two</span><span class="p">,</span><span class="n">two</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span> <span class="o">==</span> <span class="n">four</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pred</span><span class="p">(</span><span class="n">pred</span><span class="p">(</span><span class="n">four</span><span class="p">))</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span> <span class="o">==</span> <span class="n">two</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">john</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;john&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">man</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.man(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">walk</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.walk(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">man</span><span class="p">(</span><span class="n">john</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="go">&lt;ApplicationExpression man(john)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="o">-</span><span class="n">walk</span><span class="p">(</span><span class="n">john</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">-walk(john)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="n">man</span><span class="p">(</span><span class="n">john</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">walk</span><span class="p">(</span><span class="n">john</span><span class="p">))</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">(man(john) &amp; walk(john))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="n">man</span><span class="p">(</span><span class="n">john</span><span class="p">)</span> <span class="o">|</span> <span class="n">walk</span><span class="p">(</span><span class="n">john</span><span class="p">))</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">(man(john) | walk(john))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="n">man</span><span class="p">(</span><span class="n">john</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">walk</span><span class="p">(</span><span class="n">john</span><span class="p">))</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">(man(john) -&gt; walk(john))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="n">man</span><span class="p">(</span><span class="n">john</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">walk</span><span class="p">(</span><span class="n">john</span><span class="p">))</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">(man(john) &lt;-&gt; walk(john))</span>
</pre></div>
</div>
<p>Python’s built-in lambda operator can also be used with Expressions</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">john</span> <span class="o">=</span> <span class="n">VariableExpression</span><span class="p">(</span><span class="n">Variable</span><span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">run_var</span> <span class="o">=</span> <span class="n">VariableExpression</span><span class="p">(</span><span class="n">Variable</span><span class="p">(</span><span class="s1">&#39;run&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">run</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">run_var</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">run</span><span class="p">(</span><span class="n">john</span><span class="p">)</span>
<span class="go">&lt;ApplicationExpression run(john)&gt;</span>
</pre></div>
</div>
<section id="betaconversiontestsuite-pl">
<h6><code class="docutils literal notranslate"><span class="pre">betaConversionTestSuite.pl</span></code><a class="headerlink" href="#betaconversiontestsuite-pl" title="Permalink to this heading">¶</a></h6>
<p>Tests based on Blackburn &amp; Bos’ book, <em>Representation and Inference
for Natural Language</em>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\P.P(mia)(\x.walk(x))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;walk(mia)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(man(x) &amp; ((\P.exists x.(woman(x) &amp; P(x)))(\y.love(x,y))))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(man(x) &amp; exists y.(woman(y) &amp; love(x,y)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\a.sleep(a)(mia)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;sleep(mia)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\a.\b.like(b,a)(mia)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b.like(b,mia)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\a.(\b.like(b,a)(vincent))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\a.like(vincent,a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\a.((\b.like(b,a)(vincent)) &amp; sleep(a))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\a.(like(vincent,a) &amp; sleep(a))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\a.\b.like(b,a)(mia)(vincent))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;like(vincent,mia)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P((\a.sleep(a)(vincent)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(sleep(vincent))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\A.A((\b.sleep(b)(vincent)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\A.A(sleep(vincent))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\A.A(sleep(vincent))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\A.A(sleep(vincent))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\A.A(vincent)(\b.sleep(b)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;sleep(vincent)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\A.believe(mia,A(vincent))(\b.sleep(b))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;believe(mia,sleep(vincent))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\A.(A(vincent) &amp; A(mia)))(\b.sleep(b))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(sleep(vincent) &amp; sleep(mia))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\A.\B.(\C.C(A(vincent))(\d.probably(d)) &amp; (\C.C(B(mia))(\d.improbably(d))))(\f.walk(f))(\f.talk(f))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(probably(walk(vincent)) &amp; improbably(talk(mia)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\a.\b.(\C.C(a,b)(\d.\f.love(d,f))))(jules)(mia)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;love(jules,mia)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\A.\B.exists c.(A(c) &amp; B(c)))(\d.boxer(d),\d.sleep(d))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists c.(boxer(c) &amp; sleep(c))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\A.Z(A)(\c.\a.like(a,c))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Z(\c.\a.like(a,c))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\A.\b.A(b)(\c.\b.like(b,c))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b.(\c.\b.like(b,c)(b))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\a.\b.(\C.C(a,b)(\b.\a.loves(b,a))))(jules)(mia)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;loves(jules,mia)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\A.\b.(exists b.A(b) &amp; A(b)))(\c.boxer(c))(vincent)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;((exists b.boxer(b)) &amp; boxer(vincent))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span>
<span class="go">True</span>
</pre></div>
</div>
</section>
</section>
<section id="test-parser">
<h5>Test Parser<a class="headerlink" href="#test-parser" title="Permalink to this heading">¶</a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;john&#39;</span><span class="p">))</span>
<span class="go">john</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;x&#39;</span><span class="p">))</span>
<span class="go">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;-man(x)&#39;</span><span class="p">))</span>
<span class="go">-man(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;--man(x)&#39;</span><span class="p">))</span>
<span class="go">--man(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(man(x))&#39;</span><span class="p">))</span>
<span class="go">man(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;((man(x)))&#39;</span><span class="p">))</span>
<span class="go">man(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;man(x) &lt;-&gt; tall(x)&#39;</span><span class="p">))</span>
<span class="go">(man(x) &lt;-&gt; tall(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(man(x) &lt;-&gt; tall(x))&#39;</span><span class="p">))</span>
<span class="go">(man(x) &lt;-&gt; tall(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(man(x) &amp; tall(x) &amp; walks(x))&#39;</span><span class="p">))</span>
<span class="go">(man(x) &amp; tall(x) &amp; walks(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(man(x) &amp; tall(x) &amp; walks(x))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">)</span>
<span class="go">(man(x) &amp; tall(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;man(x) | tall(x) &amp; walks(x)&#39;</span><span class="p">))</span>
<span class="go">(man(x) | (tall(x) &amp; walks(x)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;((man(x) &amp; tall(x)) | walks(x))&#39;</span><span class="p">))</span>
<span class="go">((man(x) &amp; tall(x)) | walks(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;man(x) &amp; (tall(x) | walks(x))&#39;</span><span class="p">))</span>
<span class="go">(man(x) &amp; (tall(x) | walks(x)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(man(x) &amp; (tall(x) | walks(x)))&#39;</span><span class="p">))</span>
<span class="go">(man(x) &amp; (tall(x) | walks(x)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(x) -&gt; Q(x) &lt;-&gt; R(x) | S(x) &amp; T(x)&#39;</span><span class="p">))</span>
<span class="go">((P(x) -&gt; Q(x)) &lt;-&gt; (R(x) | (S(x) &amp; T(x))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.man(x)&#39;</span><span class="p">))</span>
<span class="go">exists x.man(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(man(x) &amp; tall(x))&#39;</span><span class="p">))</span>
<span class="go">exists x.(man(x) &amp; tall(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(man(x) &amp; tall(x) &amp; walks(x))&#39;</span><span class="p">))</span>
<span class="go">exists x.(man(x) &amp; tall(x) &amp; walks(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;-P(x) &amp; Q(x)&#39;</span><span class="p">))</span>
<span class="go">(-P(x) &amp; Q(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;-P(x) &amp; Q(x)&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(-P(x)) &amp; Q(x)&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.man(x)&#39;</span><span class="p">))</span>
<span class="go">\x.man(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.man(x)(john)&#39;</span><span class="p">))</span>
<span class="go">\x.man(x)(john)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.man(x)(john) &amp; tall(x)&#39;</span><span class="p">))</span>
<span class="go">(\x.man(x)(john) &amp; tall(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.sees(x,y)&#39;</span><span class="p">))</span>
<span class="go">\x y.sees(x,y)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x  y.sees(x,y)&#39;</span><span class="p">))</span>
<span class="go">\x y.sees(x,y)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.sees(x,y)(a)&#39;</span><span class="p">))</span>
<span class="go">(\x y.sees(x,y))(a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x  y.sees(x,y)(a)&#39;</span><span class="p">))</span>
<span class="go">(\x y.sees(x,y))(a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.sees(x,y)(a)(b)&#39;</span><span class="p">))</span>
<span class="go">((\x y.sees(x,y))(a))(b)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x  y.sees(x,y)(a)(b)&#39;</span><span class="p">))</span>
<span class="go">((\x y.sees(x,y))(a))(b)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.sees(x,y)(a,b)&#39;</span><span class="p">))</span>
<span class="go">((\x y.sees(x,y))(a))(b)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x  y.sees(x,y)(a,b)&#39;</span><span class="p">))</span>
<span class="go">((\x y.sees(x,y))(a))(b)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;((\x.\y.sees(x,y))(a))(b)&#39;</span><span class="p">))</span>
<span class="go">((\x y.sees(x,y))(a))(b)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(x)(y)(z)&#39;</span><span class="p">))</span>
<span class="go">P(x,y,z)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(Q)&#39;</span><span class="p">))</span>
<span class="go">P(Q)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(Q(x))&#39;</span><span class="p">))</span>
<span class="go">P(Q(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\x.exists y.walks(x,y))(x)&#39;</span><span class="p">))</span>
<span class="go">(\x.exists y.walks(x,y))(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(x = john)&#39;</span><span class="p">))</span>
<span class="go">exists x.(x = john)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;((\P.\Q.exists x.(P(x) &amp; Q(x)))(\x.dog(x)))(\x.bark(x))&#39;</span><span class="p">))</span>
<span class="go">((\P Q.exists x.(P(x) &amp; Q(x)))(\x.dog(x)))(\x.bark(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists c.exists b.A(b,c) &amp; A(b,c)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(exists c.(exists b.A(b,c))) &amp; A(b,c)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists c.(exists b.A(b,c) &amp; A(b,c))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists c.((exists b.A(b,c)) &amp; A(b,c))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.x = y&#39;</span><span class="p">))</span>
<span class="go">exists x.(x = y)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;A(B)(C)&#39;</span><span class="p">))</span>
<span class="go">A(B,C)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;(A(B))(C)&#39;</span><span class="p">))</span>
<span class="go">A(B,C)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;A((B)(C))&#39;</span><span class="p">))</span>
<span class="go">A(B(C))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;A(B(C))&#39;</span><span class="p">))</span>
<span class="go">A(B(C))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;(A)(B(C))&#39;</span><span class="p">))</span>
<span class="go">A(B(C))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;(((A)))(((B))(((C))))&#39;</span><span class="p">))</span>
<span class="go">A(B(C))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A != B&#39;</span><span class="p">))</span>
<span class="go">-(A = B)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;P(x) &amp; x=y &amp; P(y)&#39;</span><span class="p">))</span>
<span class="go">(P(x) &amp; (x = y) &amp; P(y))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\walk.walk(x)&#39;</span><span class="p">))</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">&#39;walk&#39; is an illegal variable name.  Constants may not be abstracted.</span>
<span class="go">\walk.walk(x)</span>
<span class="go"> ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;all walk.walk(john)&#39;</span><span class="p">))</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">&#39;walk&#39; is an illegal variable name.  Constants may not be quantified.</span>
<span class="go">all walk.walk(john)</span>
<span class="go">    ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;x(john)&#39;</span><span class="p">))</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">&#39;x&#39; is an illegal predicate name.  Individual variables may not be used as predicates.</span>
<span class="go">x(john)</span>
<span class="go">^</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.logic</span> <span class="kn">import</span> <span class="n">LogicParser</span> <span class="c1"># hack to give access to custom quote chars</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lpq</span> <span class="o">=</span> <span class="n">LogicParser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lpq</span><span class="o">.</span><span class="n">quote_chars</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lpq</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(man(x) &amp; &#39;tall\&#39;s,&#39; (x) &amp; walks (x) )&quot;</span><span class="p">))</span>
<span class="go">(man(x) &amp; tall&#39;s,(x) &amp; walks(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lpq</span><span class="o">.</span><span class="n">quote_chars</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lpq</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&#39;tall\&#39;s,&#39;&quot;</span><span class="p">))</span>
<span class="go">&#39;tall\&#39;s,&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lpq</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&#39;spaced name(x)&#39;&quot;</span><span class="p">))</span>
<span class="go">&#39;spaced name(x)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lpq</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;-&#39;tall\&#39;s,&#39;(x)&quot;</span><span class="p">))</span>
<span class="go">-&#39;tall\&#39;s,&#39;(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lpq</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(man(x) &amp; &#39;tall\&#39;s,&#39; (x) &amp; walks (x) )&quot;</span><span class="p">))</span>
<span class="go">(man(x) &amp; &#39;tall\&#39;s,&#39;(x) &amp; walks(x))</span>
</pre></div>
</div>
</section>
<section id="simplify">
<h5>Simplify<a class="headerlink" href="#simplify" title="Permalink to this heading">¶</a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.man(x)(john)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">man(john)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.((man(x)))(john)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">man(john)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.sees(x,y)(john, mary)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">sees(john,mary)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x  y.sees(x,y)(john, mary)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">sees(john,mary)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.sees(x,y)(john)(mary)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">sees(john,mary)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x  y.sees(x,y)(john)(mary)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">sees(john,mary)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.sees(x,y)(john)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\y.sees(john,y)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x  y.sees(x,y)(john)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\y.sees(john,y)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\x.\y.sees(x,y)(john))(mary)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">sees(john,mary)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\x  y.sees(x,y)(john))(mary)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">sees(john,mary)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(man(x) &amp; (\x.exists y.walks(x,y))(x))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">exists x.(man(x) &amp; exists y.walks(x,y))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(man(x) &amp; (\x.exists y.walks(x,y))(y))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(man(x) &amp; exists z1.walks(y,z1))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">==</span> <span class="n">e2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\P Q.exists x.(P(x) &amp; Q(x)))(\x.dog(x))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">\Q.exists x.(dog(x) &amp; Q(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;((\P.\Q.exists x.(P(x) &amp; Q(x)))(\x.dog(x)))(\x.bark(x))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">exists x.(dog(x) &amp; bark(x))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\P.(P(x)(y))(\a b.Q(a,b))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">())</span>
<span class="go">Q(x,y)</span>
</pre></div>
</div>
</section>
<section id="replace">
<h5>Replace<a class="headerlink" href="#replace" title="Permalink to this heading">¶</a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;man(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="go">man(a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(man(x) &amp; tall(x))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="go">(man(a) &amp; tall(a))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.man(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="go">exists x.man(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.man(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">exists a.man(a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="go">exists x.give(x,a,z)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">exists x.give(x,a,z)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists z1.give(z1,x,z)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">==</span> <span class="n">e2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists z1.give(z1,x,z)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">==</span> <span class="n">e2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x y z.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="go">\x y z.give(x,y,z)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x y z.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">\x a z.give(x,a,z)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">z</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="go">\x y.give(x,y,a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">z</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">\x y.give(x,y,a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">z</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\z1.\y.give(z1,y,x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">==</span> <span class="n">e2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">z</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\z1.\y.give(z1,y,x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">==</span> <span class="n">e2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">z</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="go">\x.give(x,y,y)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.give(x,y,z)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">z</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">\x.give(x,y,y)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem</span> <span class="kn">import</span> <span class="n">logic</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logic</span><span class="o">.</span><span class="n">_counter</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;e1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;e2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;exists e1 e2.(walk(e1) &amp; talk(e2))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">exists e2 e01.(walk(e2) &amp; talk(e01))</span>
</pre></div>
</div>
</section>
<section id="variables-free">
<h5>Variables / Free<a class="headerlink" href="#variables-free" title="Permalink to this heading">¶</a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">examples</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s1">&#39;walk(john)&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="sa">r</span><span class="s1">&#39;walk(x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="sa">r</span><span class="s1">&#39;?vp(?np)&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="sa">r</span><span class="s1">&#39;see(john,mary)&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="sa">r</span><span class="s1">&#39;exists x.walk(x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="sa">r</span><span class="s1">&#39;\x.see(john,x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="sa">r</span><span class="s1">&#39;\x.see(john,x)(mary)&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="sa">r</span><span class="s1">&#39;P(x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="sa">r</span><span class="s1">&#39;\P.P(x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="sa">r</span><span class="s1">&#39;aa(x,bb(y),cc(z),P(w),u)&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="sa">r</span><span class="s1">&#39;bo(?det(?n),@x)&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">examples</span> <span class="o">=</span> <span class="p">[</span><span class="n">read_expr</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">examples</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">examples</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%-25s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">free</span><span class="p">()))</span>
<span class="go">walk(john)                []</span>
<span class="go">walk(x)                   [Variable(&#39;x&#39;)]</span>
<span class="go">?vp(?np)                  []</span>
<span class="go">see(john,mary)            []</span>
<span class="go">exists x.walk(x)          []</span>
<span class="go">\x.see(john,x)            []</span>
<span class="go">(\x.see(john,x))(mary)    []</span>
<span class="go">P(x)                      [Variable(&#39;P&#39;), Variable(&#39;x&#39;)]</span>
<span class="go">\P.P(x)                   [Variable(&#39;x&#39;)]</span>
<span class="go">aa(x,bb(y),cc(z),P(w),u)  [Variable(&#39;P&#39;), Variable(&#39;u&#39;), Variable(&#39;w&#39;), Variable(&#39;x&#39;), Variable(&#39;y&#39;), Variable(&#39;z&#39;)]</span>
<span class="go">bo(?det(?n),@x)           []</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">examples</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%-25s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">constants</span><span class="p">()))</span>
<span class="go">walk(john)                [Variable(&#39;john&#39;)]</span>
<span class="go">walk(x)                   []</span>
<span class="go">?vp(?np)                  [Variable(&#39;?np&#39;)]</span>
<span class="go">see(john,mary)            [Variable(&#39;john&#39;), Variable(&#39;mary&#39;)]</span>
<span class="go">exists x.walk(x)          []</span>
<span class="go">\x.see(john,x)            [Variable(&#39;john&#39;)]</span>
<span class="go">(\x.see(john,x))(mary)    [Variable(&#39;john&#39;), Variable(&#39;mary&#39;)]</span>
<span class="go">P(x)                      []</span>
<span class="go">\P.P(x)                   []</span>
<span class="go">aa(x,bb(y),cc(z),P(w),u)  []</span>
<span class="go">bo(?det(?n),@x)           [Variable(&#39;?n&#39;), Variable(&#39;@x&#39;)]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">examples</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%-25s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">predicates</span><span class="p">()))</span>
<span class="go">walk(john)                [Variable(&#39;walk&#39;)]</span>
<span class="go">walk(x)                   [Variable(&#39;walk&#39;)]</span>
<span class="go">?vp(?np)                  [Variable(&#39;?vp&#39;)]</span>
<span class="go">see(john,mary)            [Variable(&#39;see&#39;)]</span>
<span class="go">exists x.walk(x)          [Variable(&#39;walk&#39;)]</span>
<span class="go">\x.see(john,x)            [Variable(&#39;see&#39;)]</span>
<span class="go">(\x.see(john,x))(mary)    [Variable(&#39;see&#39;)]</span>
<span class="go">P(x)                      []</span>
<span class="go">\P.P(x)                   []</span>
<span class="go">aa(x,bb(y),cc(z),P(w),u)  [Variable(&#39;aa&#39;), Variable(&#39;bb&#39;), Variable(&#39;cc&#39;)]</span>
<span class="go">bo(?det(?n),@x)           [Variable(&#39;?det&#39;), Variable(&#39;bo&#39;)]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">examples</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%-25s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">variables</span><span class="p">()))</span>
<span class="go">walk(john)                []</span>
<span class="go">walk(x)                   [Variable(&#39;x&#39;)]</span>
<span class="go">?vp(?np)                  [Variable(&#39;?np&#39;), Variable(&#39;?vp&#39;)]</span>
<span class="go">see(john,mary)            []</span>
<span class="go">exists x.walk(x)          []</span>
<span class="go">\x.see(john,x)            []</span>
<span class="go">(\x.see(john,x))(mary)    []</span>
<span class="go">P(x)                      [Variable(&#39;P&#39;), Variable(&#39;x&#39;)]</span>
<span class="go">\P.P(x)                   [Variable(&#39;x&#39;)]</span>
<span class="go">aa(x,bb(y),cc(z),P(w),u)  [Variable(&#39;P&#39;), Variable(&#39;u&#39;), Variable(&#39;w&#39;), Variable(&#39;x&#39;), Variable(&#39;y&#39;), Variable(&#39;z&#39;)]</span>
<span class="go">bo(?det(?n),@x)           [Variable(&#39;?det&#39;), Variable(&#39;?n&#39;), Variable(&#39;@x&#39;)]</span>
</pre></div>
</div>
<dl>
<dt><cite>normalize</cite></dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\e083.(walk(e083, z472) &amp; talk(e092, z938))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">())</span>
<span class="go">\e01.(walk(e01,z3) &amp; talk(e02,z4))</span>
</pre></div>
</div>
</dd>
</dl>
</section>
</section>
<section id="typed-logic">
<h4>Typed Logic<a class="headerlink" href="#typed-logic" title="Permalink to this heading">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.logic</span> <span class="kn">import</span> <span class="n">LogicParser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tlp</span> <span class="o">=</span> <span class="n">LogicParser</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;man(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;walk(angus)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;-man(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(man(x) &lt;-&gt; tall(x))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(man(x) &amp; tall(x))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.man(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;john&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">e</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x y.sees(x,y)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,&lt;e,?&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.man(x)(john)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.sees(x,y)(john)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.\y.sees(x,y)(john)(mary)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\P.\Q.exists x.(P(x) &amp; Q(x))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;&lt;e,t&gt;,&lt;&lt;e,t&gt;,t&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.y&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;?,e&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\P.P(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;&lt;e,?&gt;,?&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parsed</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;see(john,mary)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">function</span><span class="p">)</span>
<span class="go">see(john)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">function</span><span class="p">)</span>
<span class="go">see</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,&lt;e,?&gt;&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parsed</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;P(x,y)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="p">)</span>
<span class="go">P(x,y)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">function</span><span class="p">)</span>
<span class="go">P(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">function</span><span class="p">)</span>
<span class="go">P</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,&lt;e,?&gt;&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">?</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">argument</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">e</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;-P(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,t&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">argument</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">e</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P &amp; Q&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">second</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(P(x) &amp; Q(x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,t&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">argument</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">e</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">second</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">second</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,t&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">second</span><span class="o">.</span><span class="n">argument</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">e</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x.P(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">argument</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">e</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\P.P(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;&lt;e,?&gt;,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">argument</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">e</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\x.P(x)(john)) &amp; Q(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,t&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,t&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">argument</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">e</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">argument</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">e</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x y.P(x,y)(john)(mary) &amp; Q(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,t&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,&lt;e,t&gt;&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;--P&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">t</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x y.P(x,y)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span>
<span class="go">&lt;e,&lt;e,?&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x y.P(x,y)&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;e,&lt;e,t&gt;&gt;&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">type</span>
<span class="go">&lt;e,&lt;e,t&gt;&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\P y.P(john,y)(\x y.see(x,y))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">type</span>
<span class="go">&lt;e,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span>
<span class="go">&lt;&lt;e,&lt;e,?&gt;&gt;,&lt;e,?&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span>
<span class="go">&lt;e,&lt;e,?&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">argument</span><span class="o">.</span><span class="n">type</span>
<span class="go">&lt;e,&lt;e,?&gt;&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists c f.(father(c) = f)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">type</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">type</span>
<span class="go">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">type</span>
<span class="go">e</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span>
<span class="go">&lt;e,e&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">second</span><span class="o">.</span><span class="n">type</span>
<span class="go">e</span>
</pre></div>
</div>
<p>typecheck()</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;P(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;Q(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">type</span>
<span class="go">?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">&amp;</span> <span class="n">b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">type</span>
<span class="go">?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">typecheck</span><span class="p">()</span>
<span class="go">{...}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">type</span>
<span class="go">t</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;P(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;P(x) &amp; Q(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">type</span>
<span class="go">?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">typecheck</span><span class="p">([</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">])</span>
<span class="go">{...}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">type</span>
<span class="go">t</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;man(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">dict</span><span class="p">((</span><span class="n">k</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">typecheck</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">())</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;man&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;e,?&gt;&#39;</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;man&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;e, t&gt;&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;man(x)&#39;</span><span class="p">,</span> <span class="n">sig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,t&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">dict</span><span class="p">((</span><span class="n">k</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">typecheck</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">())</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;man&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;e,t&gt;&#39;</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">&lt;e,t&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">dict</span><span class="p">((</span><span class="n">k</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">typecheck</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">())</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;man&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;e,t&gt;&#39;</span><span class="p">})</span>
<span class="go">True</span>
</pre></div>
</div>
<p>findtype()</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;man(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">findtype</span><span class="p">(</span><span class="n">Variable</span><span class="p">(</span><span class="s1">&#39;man&#39;</span><span class="p">)))</span>
<span class="go">&lt;e,?&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;see(x,y)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">findtype</span><span class="p">(</span><span class="n">Variable</span><span class="p">(</span><span class="s1">&#39;see&#39;</span><span class="p">)))</span>
<span class="go">&lt;e,&lt;e,?&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(Q(R(x)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">findtype</span><span class="p">(</span><span class="n">Variable</span><span class="p">(</span><span class="s1">&#39;Q&#39;</span><span class="p">)))</span>
<span class="go">?</span>
</pre></div>
</div>
<p>reading types from strings</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Type</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
<span class="go">e</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Type</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&lt;e,t&gt;&#39;</span><span class="p">)</span>
<span class="go">&lt;e,t&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Type</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&lt;&lt;e,t&gt;,&lt;e,t&gt;&gt;&#39;</span><span class="p">)</span>
<span class="go">&lt;&lt;e,t&gt;,&lt;e,t&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Type</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&lt;&lt;e,?&gt;,?&gt;&#39;</span><span class="p">)</span>
<span class="go">&lt;&lt;e,?&gt;,?&gt;</span>
</pre></div>
</div>
<p>alternative type format</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Type</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">()</span>
<span class="go">&#39;IND&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Type</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&lt;e,?&gt;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">()</span>
<span class="go">&#39;(IND -&gt; ANY)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Type</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;&lt;&lt;e,t&gt;,t&gt;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">()</span>
<span class="go">&#39;((IND -&gt; BOOL) -&gt; BOOL)&#39;</span>
</pre></div>
</div>
<p>Type.__eq__()</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.logic</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">ENTITY_TYPE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">TRUTH_TYPE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">ANY_TYPE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">et</span> <span class="o">=</span> <span class="n">ComplexType</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eet</span> <span class="o">=</span> <span class="n">ComplexType</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="n">ComplexType</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="n">t</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span> <span class="o">=</span> <span class="n">ComplexType</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ea</span> <span class="o">=</span> <span class="n">ComplexType</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aa</span> <span class="o">=</span> <span class="n">ComplexType</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">==</span> <span class="n">e</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">==</span> <span class="n">t</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">==</span> <span class="n">t</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">==</span> <span class="n">t</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">==</span> <span class="n">a</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">==</span> <span class="n">a</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">et</span> <span class="o">==</span> <span class="n">et</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">==</span> <span class="n">et</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">et</span> <span class="o">==</span> <span class="n">a</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">==</span> <span class="n">ComplexType</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">aa</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ComplexType</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">aa</span><span class="p">)</span> <span class="o">==</span> <span class="n">a</span>
<span class="go">True</span>
</pre></div>
</div>
<p>matches()</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">et</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">et</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ea</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">eet</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eet</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">ea</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aa</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">et</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aa</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<section id="type-error-during-parsing">
<h5>Type error during parsing<a class="headerlink" href="#type-error-during-parsing" title="Permalink to this heading">¶</a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x y.(P(x) &amp; P(x,y))&#39;</span><span class="p">))</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">InconsistentTypeHierarchyException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">The variable &#39;P&#39; was found in multiple places with different types.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x y.see(x,y)(\x.man(x))&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">TypeException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">The function &#39;\x y.see(x,y)&#39; is of type &#39;&lt;e,&lt;e,?&gt;&gt;&#39; and cannot be applied to &#39;\x.man(x)&#39; of type &#39;&lt;e,?&gt;&#39;.  Its argument must match type &#39;e&#39;.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\P x y.-P(x,y)(\x.-man(x))&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">TypeException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">The function &#39;\P x y.-P(x,y)&#39; is of type &#39;&lt;&lt;e,&lt;e,t&gt;&gt;,&lt;e,&lt;e,t&gt;&gt;&gt;&#39; and cannot be applied to &#39;\x.-man(x)&#39; of type &#39;&lt;e,t&gt;&#39;.  Its argument must match type &#39;&lt;e,&lt;e,t&gt;&gt;&#39;.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;-talk(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signature</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">typecheck</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;-talk(x,y)&#39;</span><span class="p">,</span> <span class="n">signature</span><span class="p">))</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">InconsistentTypeHierarchyException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">The variable &#39;talk&#39; was found in multiple places with different types.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;-P(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;-P(x,y)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">typecheck</span><span class="p">()</span>
<span class="go">{...}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">typecheck</span><span class="p">()</span>
<span class="go">{...}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">typecheck</span><span class="p">([</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">])</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">InconsistentTypeHierarchyException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">The variable &#39;P&#39; was found in multiple places with different types.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(x)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">tlp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(x,y)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signature</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;e,t&gt;&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">typecheck</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>
<span class="go">{...}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">typecheck</span><span class="p">([</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">],</span> <span class="n">signature</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">InconsistentTypeHierarchyException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">The variable &#39;P&#39; was found in multiple places with different types.</span>
</pre></div>
</div>
</section>
<section id="parse-errors">
<h5>Parse errors<a class="headerlink" href="#parse-errors" title="Permalink to this heading">¶</a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>

<span class="go">^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">(</span>
<span class="go"> ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">)</span>
<span class="go">^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;()&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">()</span>
<span class="go"> ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(P(x) &amp; Q(x)&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expected token &#39;)&#39;.</span>
<span class="go">(P(x) &amp; Q(x)</span>
<span class="go">            ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(P(x) &amp;&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">(P(x) &amp;</span>
<span class="go">       ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(P(x) | )&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">(P(x) | )</span>
<span class="go">        ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(x) -&gt;&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">P(x) -&gt;</span>
<span class="go">       ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(x&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expected token &#39;)&#39;.</span>
<span class="go">P(x</span>
<span class="go">   ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(x,&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">P(x,</span>
<span class="go">    ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(x,)&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">P(x,)</span>
<span class="go">    ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Variable and Expression expected following quantifier &#39;exists&#39;.</span>
<span class="go">exists</span>
<span class="go">       ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">exists x</span>
<span class="go">         ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">exists x.</span>
<span class="go">         ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\  &#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Variable and Expression expected following lambda operator.</span>
<span class="go">\</span>
<span class="go">  ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\ x&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">\ x</span>
<span class="go">    ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\ x y&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">\ x y</span>
<span class="go">      ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\ x.&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">\ x.</span>
<span class="go">    ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;P(x)Q(x)&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;Q&#39;.</span>
<span class="go">P(x)Q(x)</span>
<span class="go">    ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(P(x)Q(x)&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;Q&#39;.  Expected token &#39;)&#39;.</span>
<span class="go">(P(x)Q(x)</span>
<span class="go">     ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x y&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">exists x y</span>
<span class="go">           ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x y.&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expression expected.</span>
<span class="go">exists x y.</span>
<span class="go">           ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x -&gt; y&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;-&gt;&#39;.  Expression expected.</span>
<span class="go">exists x -&gt; y</span>
<span class="go">         ^</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; ((P(x) &amp; Q(x)) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expected token &#39;)&#39;.</span>
<span class="go">A -&gt; ((P(x) &amp; Q(x)) -&gt; Z</span>
<span class="go">                        ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; ((P(x) &amp;) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; ((P(x) &amp;) -&gt; Z</span>
<span class="go">             ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; ((P(x) | )) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; ((P(x) | )) -&gt; Z</span>
<span class="go">              ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (P(x) -&gt;) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; (P(x) -&gt;) -&gt; Z</span>
<span class="go">             ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (P(x) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">End of input found.  Expected token &#39;)&#39;.</span>
<span class="go">A -&gt; (P(x) -&gt; Z</span>
<span class="go">               ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (P(x,) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; (P(x,) -&gt; Z</span>
<span class="go">          ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (P(x,)) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; (P(x,)) -&gt; Z</span>
<span class="go">          ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (exists) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">&#39;)&#39; is an illegal variable name.  Constants may not be quantified.</span>
<span class="go">A -&gt; (exists) -&gt; Z</span>
<span class="go">            ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (exists x) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; (exists x) -&gt; Z</span>
<span class="go">              ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (exists x.) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; (exists x.) -&gt; Z</span>
<span class="go">               ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (\  ) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">&#39;)&#39; is an illegal variable name.  Constants may not be abstracted.</span>
<span class="go">A -&gt; (\  ) -&gt; Z</span>
<span class="go">         ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (\ x) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; (\ x) -&gt; Z</span>
<span class="go">         ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (\ x y) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; (\ x y) -&gt; Z</span>
<span class="go">           ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (\ x.) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; (\ x.) -&gt; Z</span>
<span class="go">          ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (P(x)Q(x)) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;Q&#39;.  Expected token &#39;)&#39;.</span>
<span class="go">A -&gt; (P(x)Q(x)) -&gt; Z</span>
<span class="go">          ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; ((P(x)Q(x)) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;Q&#39;.  Expected token &#39;)&#39;.</span>
<span class="go">A -&gt; ((P(x)Q(x)) -&gt; Z</span>
<span class="go">           ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (all x y) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; (all x y) -&gt; Z</span>
<span class="go">             ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (exists x y.) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;)&#39;.  Expression expected.</span>
<span class="go">A -&gt; (exists x y.) -&gt; Z</span>
<span class="go">                 ^</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;A -&gt; (exists x -&gt; y) -&gt; Z&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">LogicalExpressionException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">Unexpected token: &#39;-&gt;&#39;.  Expression expected.</span>
<span class="go">A -&gt; (exists x -&gt; y) -&gt; Z</span>
<span class="go">               ^</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/howto/logic.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>