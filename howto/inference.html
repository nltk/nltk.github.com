<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: Sample usage for inference</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/nltk.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="sample-usage-for-inference">
<h1>Sample usage for inference<a class="headerlink" href="#sample-usage-for-inference" title="Permalink to this heading">¶</a></h1>
<section id="logical-inference-and-model-building">
<h2>Logical Inference and Model Building<a class="headerlink" href="#logical-inference-and-model-building" title="Permalink to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.test.setup_fixt</span> <span class="kn">import</span> <span class="n">check_binary</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_binary</span><span class="p">(</span><span class="s1">&#39;mace4&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.drt</span> <span class="kn">import</span> <span class="n">DrtParser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem</span> <span class="kn">import</span> <span class="n">logic</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logic</span><span class="o">.</span><span class="n">_counter</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<section id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h3>
<p>Within the area of automated reasoning, first order theorem proving
and model building (or model generation) have both received much
attention, and have given rise to highly sophisticated techniques. We
focus therefore on providing an NLTK interface to third party tools
for these tasks.  In particular, the module <code class="docutils literal notranslate"><span class="pre">nltk.inference</span></code> can be
used to access both theorem provers and model builders.</p>
</section>
<section id="nltk-interface-to-theorem-provers">
<h3>NLTK Interface to Theorem Provers<a class="headerlink" href="#nltk-interface-to-theorem-provers" title="Permalink to this heading">¶</a></h3>
<p>The main class used to interface with a theorem prover is the <code class="docutils literal notranslate"><span class="pre">Prover</span></code>
class, found in <code class="docutils literal notranslate"><span class="pre">nltk.api</span></code>.  The <code class="docutils literal notranslate"><span class="pre">prove()</span></code> method takes three optional
arguments: a goal, a list of assumptions, and a <code class="docutils literal notranslate"><span class="pre">verbose</span></code> boolean to
indicate whether the proof should be printed to the console.  The proof goal
and any assumptions need to be instances of the <code class="docutils literal notranslate"><span class="pre">Expression</span></code> class
specified by <code class="docutils literal notranslate"><span class="pre">nltk.sem.logic</span></code>.  There are currently three theorem provers
included with NLTK: <code class="docutils literal notranslate"><span class="pre">Prover9</span></code>, <code class="docutils literal notranslate"><span class="pre">TableauProver</span></code>, and
<code class="docutils literal notranslate"><span class="pre">ResolutionProver</span></code>.  The first is an off-the-shelf prover, while the other
two are written in Python and included in the <code class="docutils literal notranslate"><span class="pre">nltk.inference</span></code> package.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem</span> <span class="kn">import</span> <span class="n">Expression</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_expr</span> <span class="o">=</span> <span class="n">Expression</span><span class="o">.</span><span class="n">fromstring</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;man(socrates)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;all x.(man(x) -&gt; mortal(x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>  <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;mortal(socrates)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Prover9</span><span class="p">()</span><span class="o">.</span><span class="n">prove</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="p">[</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TableauProver</span><span class="p">()</span><span class="o">.</span><span class="n">prove</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="p">[</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ResolutionProver</span><span class="p">()</span><span class="o">.</span><span class="n">prove</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="p">[</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[1] {-mortal(socrates)}     A</span>
<span class="go">[2] {man(socrates)}         A</span>
<span class="go">[3] {-man(z2), mortal(z2)}  A</span>
<span class="go">[4] {-man(socrates)}        (1, 3)</span>
<span class="go">[5] {mortal(socrates)}      (2, 3)</span>
<span class="go">[6] {}                      (1, 5)</span>

<span class="go">True</span>
</pre></div>
</div>
</section>
<section id="the-provercommand">
<h3>The <code class="docutils literal notranslate"><span class="pre">ProverCommand</span></code><a class="headerlink" href="#the-provercommand" title="Permalink to this heading">¶</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">ProverCommand</span></code> is a stateful holder for a theorem
prover.  The command stores a theorem prover instance (of type <code class="docutils literal notranslate"><span class="pre">Prover</span></code>),
a goal, a list of assumptions, the result of the proof, and a string version
of the entire proof.  Corresponding to the three included <code class="docutils literal notranslate"><span class="pre">Prover</span></code>
implementations, there are three <code class="docutils literal notranslate"><span class="pre">ProverCommand</span></code> implementations:
<code class="docutils literal notranslate"><span class="pre">Prover9Command</span></code>, <code class="docutils literal notranslate"><span class="pre">TableauProverCommand</span></code>, and
<code class="docutils literal notranslate"><span class="pre">ResolutionProverCommand</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ProverCommand</span></code>’s constructor takes its goal and assumptions.  The
<code class="docutils literal notranslate"><span class="pre">prove()</span></code> command executes the <code class="docutils literal notranslate"><span class="pre">Prover</span></code> and <code class="docutils literal notranslate"><span class="pre">proof()</span></code>
returns a String form of the proof
If the <code class="docutils literal notranslate"><span class="pre">prove()</span></code> method has not been called,
then the prover command will be unable to display a proof.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span> <span class="o">=</span> <span class="n">ResolutionProverCommand</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="p">[</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">prover</span><span class="o">.</span><span class="n">proof</span><span class="p">())</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;...&quot;</span>, line <span class="m">1212</span>, in <span class="n">__run</span>
    <span class="n">compileflags</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">in</span> <span class="n">test</span><span class="o">.</span><span class="n">globs</span>
  File <span class="nb">&quot;&lt;doctest nltk/test/inference.doctest[10]&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">  File &quot;...&quot;, line ..., in proof</span>
<span class="gr">    raise LookupError(&quot;You have to call prove() first to get a proof!&quot;)</span>
<span class="gr">LookupError</span>: <span class="n">You have to call prove() first to get a proof!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">prove</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">prover</span><span class="o">.</span><span class="n">proof</span><span class="p">())</span>
<span class="go">[1] {-mortal(socrates)}     A</span>
<span class="go">[2] {man(socrates)}         A</span>
<span class="go">[3] {-man(z4), mortal(z4)}  A</span>
<span class="go">[4] {-man(socrates)}        (1, 3)</span>
<span class="go">[5] {mortal(socrates)}      (2, 3)</span>
<span class="go">[6] {}                      (1, 5)</span>
</pre></div>
</div>
<p>The prover command stores the result of proving so that if <code class="docutils literal notranslate"><span class="pre">prove()</span></code> is
called again, then the command can return the result without executing the
prover again.  This allows the user to access the result of the proof without
wasting time re-computing what it already knows.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">prove</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">prove</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The assumptions and goal may be accessed using the <code class="docutils literal notranslate"><span class="pre">assumptions()</span></code> and
<code class="docutils literal notranslate"><span class="pre">goal()</span></code> methods, respectively.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">assumptions</span><span class="p">()</span>
<span class="go">[&lt;ApplicationExpression man(socrates)&gt;, &lt;AllExpression all x.(man(x) -&gt; mortal(x))&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">goal</span><span class="p">()</span>
<span class="go">&lt;ApplicationExpression mortal(socrates)&gt;</span>
</pre></div>
</div>
<p>The assumptions list may be modified using the <code class="docutils literal notranslate"><span class="pre">add_assumptions()</span></code> and
<code class="docutils literal notranslate"><span class="pre">retract_assumptions()</span></code> methods.  Both methods take a list of <code class="docutils literal notranslate"><span class="pre">Expression</span></code>
objects.  Since adding or removing assumptions may change the result of the
proof, the stored result is cleared when either of these methods are called.
That means that <code class="docutils literal notranslate"><span class="pre">proof()</span></code> will be unavailable until <code class="docutils literal notranslate"><span class="pre">prove()</span></code> is called and
a call to <code class="docutils literal notranslate"><span class="pre">prove()</span></code> will execute the theorem prover.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">retract_assumptions</span><span class="p">([</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;man(socrates)&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">prover</span><span class="o">.</span><span class="n">proof</span><span class="p">())</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;...&quot;</span>, line <span class="m">1212</span>, in <span class="n">__run</span>
    <span class="n">compileflags</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">in</span> <span class="n">test</span><span class="o">.</span><span class="n">globs</span>
  File <span class="nb">&quot;&lt;doctest nltk/test/inference.doctest[10]&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">  File &quot;...&quot;, line ..., in proof</span>
<span class="gr">    raise LookupError(&quot;You have to call prove() first to get a proof!&quot;)</span>
<span class="gr">LookupError</span>: <span class="n">You have to call prove() first to get a proof!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">prove</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">prover</span><span class="o">.</span><span class="n">proof</span><span class="p">())</span>
<span class="go">[1] {-mortal(socrates)}     A</span>
<span class="go">[2] {-man(z6), mortal(z6)}  A</span>
<span class="go">[3] {-man(socrates)}        (1, 2)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">add_assumptions</span><span class="p">([</span><span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;man(socrates)&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">prove</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</section>
<section id="prover9">
<h3>Prover9<a class="headerlink" href="#prover9" title="Permalink to this heading">¶</a></h3>
<section id="prover9-installation">
<h4>Prover9 Installation<a class="headerlink" href="#prover9-installation" title="Permalink to this heading">¶</a></h4>
<p>You can download Prover9 from <a class="reference external" href="https://www.cs.unm.edu/~mccune/prover9/">https://www.cs.unm.edu/~mccune/prover9/</a>.</p>
<p>Extract the source code into a suitable directory and follow the
instructions in the Prover9 <code class="docutils literal notranslate"><span class="pre">README.make</span></code> file to compile the executables.
Install these into an appropriate location; the
<code class="docutils literal notranslate"><span class="pre">prover9_search</span></code> variable is currently configured to look in the
following locations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Prover9</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">binary_locations</span><span class="p">()</span>
<span class="go">[&#39;/usr/local/bin/prover9&#39;,</span>
<span class="go"> &#39;/usr/local/bin/prover9/bin&#39;,</span>
<span class="go"> &#39;/usr/local/bin&#39;,</span>
<span class="go"> &#39;/usr/bin&#39;,</span>
<span class="go"> &#39;/usr/local/prover9&#39;,</span>
<span class="go"> &#39;/usr/local/share/prover9&#39;]</span>
</pre></div>
</div>
<p>Alternatively, the environment variable <code class="docutils literal notranslate"><span class="pre">PROVER9HOME</span></code> may be configured with
the binary’s location.</p>
<p>The path to the correct directory can be set manually in the following
manner:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">config_prover9</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;/usr/local/bin&#39;</span><span class="p">)</span> 
<span class="go">[Found prover9: /usr/local/bin/prover9]</span>
</pre></div>
</div>
<p>If the executables cannot be found, <code class="docutils literal notranslate"><span class="pre">Prover9</span></code> will issue a warning message:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">prove</span><span class="p">()</span> 
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">LookupError</span>:
<span class="go">===========================================================================</span>
<span class="go">  NLTK was unable to find the prover9 executable!  Use config_prover9() or</span>
<span class="go">  set the PROVER9HOME environment variable.</span>

<span class="go">    &gt;&gt; config_prover9(&#39;/path/to/prover9&#39;)</span>

<span class="go">  For more information, on prover9, see:</span>
<span class="go">    &lt;https://www.cs.unm.edu/~mccune/prover9/&gt;</span>
<span class="go">===========================================================================</span>
</pre></div>
</div>
</section>
<section id="using-prover9">
<h4>Using Prover9<a class="headerlink" href="#using-prover9" title="Permalink to this heading">¶</a></h4>
<p>The general case in theorem proving is to determine whether <code class="docutils literal notranslate"><span class="pre">S</span> <span class="pre">|-</span> <span class="pre">g</span></code>
holds, where <code class="docutils literal notranslate"><span class="pre">S</span></code> is a possibly empty set of assumptions, and <code class="docutils literal notranslate"><span class="pre">g</span></code>
is a proof goal.</p>
<p>As mentioned earlier, NLTK input to <code class="docutils literal notranslate"><span class="pre">Prover9</span></code> must be
<code class="docutils literal notranslate"><span class="pre">Expression</span></code>s of <code class="docutils literal notranslate"><span class="pre">nltk.sem.logic</span></code>. A <code class="docutils literal notranslate"><span class="pre">Prover9</span></code> instance is
initialized with a proof goal and, possibly, some assumptions. The
<code class="docutils literal notranslate"><span class="pre">prove()</span></code> method attempts to find a proof of the goal, given the
list of assumptions (in this case, none).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">goal</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;(man(x) &lt;-&gt; --man(x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span> <span class="o">=</span> <span class="n">Prover9Command</span><span class="p">(</span><span class="n">goal</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">prove</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Given a <code class="docutils literal notranslate"><span class="pre">ProverCommand</span></code> instance <code class="docutils literal notranslate"><span class="pre">prover</span></code>, the method
<code class="docutils literal notranslate"><span class="pre">prover.proof()</span></code> will return a String of the extensive proof information
provided by Prover9, shown in abbreviated form here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">==============================</span> <span class="n">Prover9</span> <span class="o">===============================</span>
<span class="n">Prover9</span> <span class="p">(</span><span class="mi">32</span><span class="p">)</span> <span class="n">version</span> <span class="o">...</span>
<span class="n">Process</span> <span class="o">...</span> <span class="n">was</span> <span class="n">started</span> <span class="n">by</span> <span class="o">...</span> <span class="n">on</span> <span class="o">...</span>
<span class="o">...</span>
<span class="n">The</span> <span class="n">command</span> <span class="n">was</span> <span class="s2">&quot;.../prover9 -f ...&quot;</span><span class="o">.</span>
<span class="o">==============================</span> <span class="n">end</span> <span class="n">of</span> <span class="n">head</span> <span class="o">===========================</span>

<span class="o">==============================</span> <span class="n">INPUT</span> <span class="o">=================================</span>

<span class="o">%</span> <span class="n">Reading</span> <span class="kn">from</span> <span class="nn">file</span> <span class="o">/</span><span class="n">var</span><span class="o">/...</span>


<span class="n">formulas</span><span class="p">(</span><span class="n">goals</span><span class="p">)</span><span class="o">.</span>
<span class="p">(</span><span class="nb">all</span> <span class="n">x</span> <span class="p">(</span><span class="n">man</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">man</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span><span class="o">.</span>
<span class="n">end_of_list</span><span class="o">.</span>

<span class="o">...</span>
<span class="o">==============================</span> <span class="n">end</span> <span class="n">of</span> <span class="n">search</span> <span class="o">=========================</span>

<span class="n">THEOREM</span> <span class="n">PROVED</span>

<span class="n">Exiting</span> <span class="k">with</span> <span class="mi">1</span> <span class="n">proof</span><span class="o">.</span>

<span class="n">Process</span> <span class="mi">6317</span> <span class="n">exit</span> <span class="p">(</span><span class="n">max_proofs</span><span class="p">)</span> <span class="n">Mon</span> <span class="n">Jan</span> <span class="mi">21</span> <span class="mi">15</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">28</span> <span class="mi">2008</span>
</pre></div>
</div>
<p>As mentioned earlier, we may want to list some assumptions for
the proof, as shown here.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;mortal(socrates)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;all x.(man(x) -&gt; mortal(x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span> <span class="o">=</span> <span class="n">Prover9Command</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">assumptions</span><span class="o">=</span><span class="p">[</span><span class="n">a1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">print_assumptions</span><span class="p">()</span>
<span class="go">all x.(man(x) -&gt; mortal(x))</span>
</pre></div>
</div>
<p>However, the assumptions are not sufficient to derive the goal:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">prover</span><span class="o">.</span><span class="n">prove</span><span class="p">())</span>
<span class="go">False</span>
</pre></div>
</div>
<p>So let’s add another assumption:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;man(socrates)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">add_assumptions</span><span class="p">([</span><span class="n">a2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">print_assumptions</span><span class="p">()</span>
<span class="go">all x.(man(x) -&gt; mortal(x))</span>
<span class="go">man(socrates)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">prover</span><span class="o">.</span><span class="n">prove</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We can also show the assumptions in <code class="docutils literal notranslate"><span class="pre">Prover9</span></code> format.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">print_assumptions</span><span class="p">(</span><span class="n">output_format</span><span class="o">=</span><span class="s1">&#39;Prover9&#39;</span><span class="p">)</span>
<span class="go">all x (man(x) -&gt; mortal(x))</span>
<span class="go">man(socrates)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">print_assumptions</span><span class="p">(</span><span class="n">output_format</span><span class="o">=</span><span class="s1">&#39;Spass&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">  . . .</span>
<span class="gr">NameError</span>: <span class="n">Unrecognized value for &#39;output_format&#39;: Spass</span>
</pre></div>
</div>
<p>Assumptions can be retracted from the list of assumptions.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">retract_assumptions</span><span class="p">([</span><span class="n">a1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">print_assumptions</span><span class="p">()</span>
<span class="go">man(socrates)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">retract_assumptions</span><span class="p">([</span><span class="n">a1</span><span class="p">])</span>
</pre></div>
</div>
<p>Statements can be loaded from a file and parsed. We can then add these
statements as new assumptions.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;all x.(boxer(x) -&gt; -boxerdog(x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span> <span class="o">=</span> <span class="n">Prover9Command</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">prove</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nltk.data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;grammars/sample_grammars/background0.fol&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">new</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">all x.(boxerdog(x) -&gt; dog(x))</span>
<span class="go">all x.(boxer(x) -&gt; person(x))</span>
<span class="go">all x.-(dog(x) &amp; person(x))</span>
<span class="go">exists x.boxer(x)</span>
<span class="go">exists x.boxerdog(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prover</span><span class="o">.</span><span class="n">add_assumptions</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">prover</span><span class="o">.</span><span class="n">prove</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">prover</span><span class="o">.</span><span class="n">proof</span><span class="p">())</span>
<span class="go">============================== prooftrans ============================</span>
<span class="go">Prover9 (...) version ...</span>
<span class="go">Process ... was started by ... on ...</span>
<span class="gp">...</span>
<span class="go">The command was &quot;.../prover9&quot;.</span>
<span class="go">============================== end of head ===========================</span>

<span class="go">============================== end of input ==========================</span>

<span class="go">============================== PROOF =================================</span>

<span class="go">% -------- Comments from original proof --------</span>
<span class="go">% Proof 1 at ... seconds.</span>
<span class="go">% Length of proof is 13.</span>
<span class="go">% Level of proof is 4.</span>
<span class="go">% Maximum clause weight is 0.</span>
<span class="go">% Given clauses 0.</span>

<span class="go">1 (all x (boxerdog(x) -&gt; dog(x))).  [assumption].</span>
<span class="go">2 (all x (boxer(x) -&gt; person(x))).  [assumption].</span>
<span class="go">3 (all x -(dog(x) &amp; person(x))).  [assumption].</span>
<span class="go">6 (all x (boxer(x) -&gt; -boxerdog(x))).  [goal].</span>
<span class="go">8 -boxerdog(x) | dog(x).  [clausify(1)].</span>
<span class="go">9 boxerdog(c3).  [deny(6)].</span>
<span class="go">11 -boxer(x) | person(x).  [clausify(2)].</span>
<span class="go">12 boxer(c3).  [deny(6)].</span>
<span class="go">14 -dog(x) | -person(x).  [clausify(3)].</span>
<span class="go">15 dog(c3).  [resolve(9,a,8,a)].</span>
<span class="go">18 person(c3).  [resolve(12,a,11,a)].</span>
<span class="go">19 -person(c3).  [resolve(15,a,14,a)].</span>
<span class="go">20 $F.  [resolve(19,a,18,a)].</span>

<span class="go">============================== end of proof ==========================</span>
</pre></div>
</div>
</section>
</section>
<section id="the-equiv-method">
<h3>The equiv() method<a class="headerlink" href="#the-equiv-method" title="Permalink to this heading">¶</a></h3>
<p>One application of the theorem prover functionality is to check if
two Expressions have the same meaning.
The <code class="docutils literal notranslate"><span class="pre">equiv()</span></code> method calls a theorem prover to determine whether two
Expressions are logically equivalent.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(man(x) &amp; walks(x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;exists x.(walks(x) &amp; man(x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">equiv</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The same method can be used on Discourse Representation Structures (DRSs).
In this case, each DRS is converted to a first order logic form, and then
passed to the theorem prover.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dp</span> <span class="o">=</span> <span class="n">DrtParser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([x],[man(x), walks(x)])&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([x],[walks(x), man(x)])&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">equiv</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</section>
<section id="nltk-interface-to-model-builders">
<h3>NLTK Interface to Model Builders<a class="headerlink" href="#nltk-interface-to-model-builders" title="Permalink to this heading">¶</a></h3>
<p>The top-level to model builders is parallel to that for
theorem-provers. The <code class="docutils literal notranslate"><span class="pre">ModelBuilder</span></code> interface is located
in <code class="docutils literal notranslate"><span class="pre">nltk.inference.api</span></code>.  It is currently only implemented by
<code class="docutils literal notranslate"><span class="pre">Mace</span></code>, which interfaces with the Mace4 model builder.</p>
<p>Typically we use a model builder to show that some set of formulas has
a model, and is therefore consistent. One way of doing this is by
treating our candidate set of sentences as assumptions, and leaving
the goal unspecified.
Thus, the following interaction shows how both <code class="docutils literal notranslate"><span class="pre">{a,</span> <span class="pre">c1}</span></code> and <code class="docutils literal notranslate"><span class="pre">{a,</span> <span class="pre">c2}</span></code>
are consistent sets, since Mace succeeds in a building a
model for each of them, while <code class="docutils literal notranslate"><span class="pre">{c1,</span> <span class="pre">c2}</span></code> is inconsistent.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a3</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;exists x.(man(x) and walks(x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;mortal(socrates)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;-mortal(socrates)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mace</span> <span class="o">=</span> <span class="n">Mace</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mace</span><span class="o">.</span><span class="n">build_model</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="n">a3</span><span class="p">,</span> <span class="n">c1</span><span class="p">]))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mace</span><span class="o">.</span><span class="n">build_model</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="n">a3</span><span class="p">,</span> <span class="n">c2</span><span class="p">]))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We can also use the model builder as an adjunct to theorem prover.
Let’s suppose we are trying to prove <code class="docutils literal notranslate"><span class="pre">S</span> <span class="pre">|-</span> <span class="pre">g</span></code>, i.e. that <code class="docutils literal notranslate"><span class="pre">g</span></code>
is logically entailed by assumptions <code class="docutils literal notranslate"><span class="pre">S</span> <span class="pre">=</span> <span class="pre">{s1,</span> <span class="pre">s2,</span> <span class="pre">...,</span> <span class="pre">sn}</span></code>.
We can this same input to Mace4, and the model builder will try to
find a counterexample, that is, to show that <code class="docutils literal notranslate"><span class="pre">g</span></code> does <em>not</em> follow
from <code class="docutils literal notranslate"><span class="pre">S</span></code>. So, given this input, Mace4 will try to find a model for
the set <code class="docutils literal notranslate"><span class="pre">S'</span> <span class="pre">=</span> <span class="pre">{s1,</span> <span class="pre">s2,</span> <span class="pre">...,</span> <span class="pre">sn,</span> <span class="pre">(not</span> <span class="pre">g)}</span></code>. If <code class="docutils literal notranslate"><span class="pre">g</span></code> fails to follow
from <code class="docutils literal notranslate"><span class="pre">S</span></code>, then Mace4 may well return with a counterexample faster
than Prover9 concludes that it cannot find the required proof.
Conversely, if <code class="docutils literal notranslate"><span class="pre">g</span></code> <em>is</em> provable from <code class="docutils literal notranslate"><span class="pre">S</span></code>, Mace4 may take a long
time unsuccessfully trying to find a counter model, and will eventually give up.</p>
<p>In the following example, we see that the model builder does succeed
in building a model of the assumptions together with the negation of
the goal. That is, it succeeds in finding a model
where there is a woman that every man loves; Adam is a man; Eve is a
woman; but Adam does not love Eve.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a4</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;exists y. (woman(y) &amp; all x. (man(x) -&gt; love(x,y)))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a5</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;man(adam)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a6</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;woman(eve)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;love(adam,eve)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mace</span><span class="o">.</span><span class="n">build_model</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="p">[</span><span class="n">a4</span><span class="p">,</span> <span class="n">a5</span><span class="p">,</span> <span class="n">a6</span><span class="p">]))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The Model Builder will fail to find a model if the assumptions do entail
the goal.  Mace will continue to look for models of ever-increasing sizes
until the end_size number is reached.  By default, end_size is 500,
but it can be set manually for quicker response time.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a7</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;all x.(man(x) -&gt; mortal(x))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a8</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;man(socrates)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;mortal(socrates)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Mace</span><span class="p">(</span><span class="n">end_size</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span><span class="o">.</span><span class="n">build_model</span><span class="p">(</span><span class="n">g2</span><span class="p">,</span> <span class="p">[</span><span class="n">a7</span><span class="p">,</span> <span class="n">a8</span><span class="p">]))</span>
<span class="go">False</span>
</pre></div>
</div>
<p>There is also a <code class="docutils literal notranslate"><span class="pre">ModelBuilderCommand</span></code> class that, like <code class="docutils literal notranslate"><span class="pre">ProverCommand</span></code>,
stores a <code class="docutils literal notranslate"><span class="pre">ModelBuilder</span></code>, a goal, assumptions, a result, and a model.  The
only implementation in NLTK is <code class="docutils literal notranslate"><span class="pre">MaceCommand</span></code>.</p>
</section>
<section id="mace4">
<h3>Mace4<a class="headerlink" href="#mace4" title="Permalink to this heading">¶</a></h3>
<section id="mace4-installation">
<h4>Mace4 Installation<a class="headerlink" href="#mace4-installation" title="Permalink to this heading">¶</a></h4>
<p>Mace4 is packaged with Prover9, and can be downloaded from the same
source, namely <a class="reference external" href="https://www.cs.unm.edu/~mccune/prover9/">https://www.cs.unm.edu/~mccune/prover9/</a>. It is installed
in the same manner as Prover9.</p>
</section>
<section id="using-mace4">
<h4>Using Mace4<a class="headerlink" href="#using-mace4" title="Permalink to this heading">¶</a></h4>
<p>Check whether Mace4 can find a model.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;(see(mary,john) &amp; -(mary = john))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mb</span> <span class="o">=</span> <span class="n">MaceCommand</span><span class="p">(</span><span class="n">assumptions</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mb</span><span class="o">.</span><span class="n">build_model</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Show the model in ‘tabular’ format.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mb</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;tabular&#39;</span><span class="p">))</span>
<span class="go">% number = 1</span>
<span class="go">% seconds = 0</span>

<span class="go">% Interpretation of size 2</span>

<span class="go"> john : 0</span>

<span class="go"> mary : 1</span>

<span class="go"> see :</span>
<span class="go">       | 0 1</span>
<span class="go">    ---+----</span>
<span class="go">     0 | 0 0</span>
<span class="go">     1 | 1 0</span>
</pre></div>
</div>
<p>Show the model in ‘tabular’ format.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mb</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;cooked&#39;</span><span class="p">))</span>
<span class="go">% number = 1</span>
<span class="go">% seconds = 0</span>

<span class="go">% Interpretation of size 2</span>

<span class="go">john = 0.</span>

<span class="go">mary = 1.</span>

<span class="go">- see(0,0).</span>
<span class="go">- see(0,1).</span>
<span class="go">  see(1,0).</span>
<span class="go">- see(1,1).</span>
</pre></div>
</div>
<p>The property <code class="docutils literal notranslate"><span class="pre">valuation</span></code> accesses the stored <code class="docutils literal notranslate"><span class="pre">Valuation</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mb</span><span class="o">.</span><span class="n">valuation</span><span class="p">)</span>
<span class="go">{&#39;john&#39;: &#39;a&#39;, &#39;mary&#39;: &#39;b&#39;, &#39;see&#39;: {(&#39;b&#39;, &#39;a&#39;)}}</span>
</pre></div>
</div>
<p>We can return to our earlier example and inspect the model:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mb</span> <span class="o">=</span> <span class="n">MaceCommand</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">assumptions</span><span class="o">=</span><span class="p">[</span><span class="n">a4</span><span class="p">,</span> <span class="n">a5</span><span class="p">,</span> <span class="n">a6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">mb</span><span class="o">.</span><span class="n">build_model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mb</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;cooked&#39;</span><span class="p">))</span>
<span class="go">% number = 1</span>
<span class="go">% seconds = 0</span>

<span class="go">% Interpretation of size 2</span>

<span class="go">adam = 0.</span>

<span class="go">eve = 0.</span>

<span class="go">c1 = 1.</span>

<span class="go">  man(0).</span>
<span class="go">- man(1).</span>

<span class="go">  woman(0).</span>
<span class="go">  woman(1).</span>

<span class="go">- love(0,0).</span>
<span class="go">  love(0,1).</span>
<span class="go">- love(1,0).</span>
<span class="go">- love(1,1).</span>
</pre></div>
</div>
<p>Here, we can see that <code class="docutils literal notranslate"><span class="pre">adam</span></code> and <code class="docutils literal notranslate"><span class="pre">eve</span></code> have been assigned the same
individual, namely <code class="docutils literal notranslate"><span class="pre">0</span></code> as value; <code class="docutils literal notranslate"><span class="pre">0</span></code> is both a man and a woman; a second
individual <code class="docutils literal notranslate"><span class="pre">1</span></code> is also a woman; and <code class="docutils literal notranslate"><span class="pre">0</span></code> loves <code class="docutils literal notranslate"><span class="pre">1</span></code>. Thus, this is
an interpretation in which there is a woman that every man loves but
Adam doesn’t love Eve.</p>
<p>Mace can also be used with propositional logic.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;P&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">read_expr</span><span class="p">(</span><span class="s1">&#39;Q&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mb</span> <span class="o">=</span> <span class="n">MaceCommand</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="p">[</span><span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="o">&gt;-</span><span class="n">q</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mb</span><span class="o">.</span><span class="n">build_model</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mb</span><span class="o">.</span><span class="n">valuation</span><span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mb</span><span class="o">.</span><span class="n">valuation</span><span class="p">[</span><span class="s1">&#39;Q&#39;</span><span class="p">]</span>
<span class="go">False</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/howto/inference.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>