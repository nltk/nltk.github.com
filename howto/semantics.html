<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: Sample usage for semantics</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/nltk.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="sample-usage-for-semantics">
<h1>Sample usage for semantics<a class="headerlink" href="#sample-usage-for-semantics" title="Permalink to this heading">¶</a></h1>
<section id="semantics">
<h2>Semantics<a class="headerlink" href="#semantics" title="Permalink to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Setup tests by setting the counter to 0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem</span> <span class="kn">import</span> <span class="n">logic</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logic</span><span class="o">.</span><span class="n">_counter</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem</span> <span class="kn">import</span> <span class="n">Valuation</span><span class="p">,</span> <span class="n">Model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;betty&#39;</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;fido&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;girl&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="s1">&#39;g2&#39;</span><span class="p">])),</span> <span class="p">(</span><span class="s1">&#39;boy&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">])),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">])),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([(</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;g2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;g2&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">)]))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">Valuation</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dom</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">domain</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">dom</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
</pre></div>
</div>
<section id="evaluation">
<h3>Evaluation<a class="headerlink" href="#evaluation" title="Permalink to this heading">¶</a></h3>
<p>The top-level method of a <code class="docutils literal notranslate"><span class="pre">Model</span></code> instance is <code class="docutils literal notranslate"><span class="pre">evaluate()</span></code>, which
assigns a semantic value to expressions of the <code class="docutils literal notranslate"><span class="pre">logic</span></code> module, under
an assignment <code class="docutils literal notranslate"><span class="pre">g</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dom</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">domain</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sem</span><span class="o">.</span><span class="n">Assignment</span><span class="p">(</span><span class="n">dom</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s1">&#39;all x.(boy(x) -&gt; - girl(x))&#39;</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">evaluate()</span></code> calls a recursive function <code class="docutils literal notranslate"><span class="pre">satisfy()</span></code>, which in turn
calls a function <code class="docutils literal notranslate"><span class="pre">i()</span></code> to interpret non-logical constants and
individual variables. <code class="docutils literal notranslate"><span class="pre">i()</span></code> delegates the interpretation of these to
the the model’s <code class="docutils literal notranslate"><span class="pre">Valuation</span></code> and the variable assignment <code class="docutils literal notranslate"><span class="pre">g</span></code>
respectively. Any atomic expression which cannot be assigned a value
by <code class="docutils literal notranslate"><span class="pre">i</span></code> raises an <code class="docutils literal notranslate"><span class="pre">Undefined</span></code> exception; this is caught by
<code class="docutils literal notranslate"><span class="pre">evaluate</span></code>, which returns the string <code class="docutils literal notranslate"><span class="pre">'Undefined'</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s1">&#39;walk(adam)&#39;</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">trace</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="go">&#39;walk(adam)&#39; is undefined under M, g</span>
<span class="go">&#39;Undefined&#39;</span>
</pre></div>
</div>
</section>
<section id="batch-processing">
<h3>Batch Processing<a class="headerlink" href="#batch-processing" title="Permalink to this heading">¶</a></h3>
<p>The utility functions <code class="docutils literal notranslate"><span class="pre">interpret_sents()</span></code> and <code class="docutils literal notranslate"><span class="pre">evaluate_sents()</span></code> are intended to
help with processing multiple sentences. Here’s an example of the first of these:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sents</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Mary walks&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sem</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">interpret_sents</span><span class="p">(</span><span class="n">sents</span><span class="p">,</span> <span class="s1">&#39;grammars/sample_grammars/sem2.fcfg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="p">(</span><span class="n">synrep</span><span class="p">,</span> <span class="n">semrep</span><span class="p">)</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">synrep</span><span class="p">)</span>
<span class="go">(S[SEM=&lt;walk(mary)&gt;]</span>
<span class="go">  (NP[-LOC, NUM=&#39;sg&#39;, SEM=&lt;\P.P(mary)&gt;]</span>
<span class="go">    (PropN[-LOC, NUM=&#39;sg&#39;, SEM=&lt;\P.P(mary)&gt;] Mary))</span>
<span class="go">  (VP[NUM=&#39;sg&#39;, SEM=&lt;\x.walk(x)&gt;]</span>
<span class="go">    (IV[NUM=&#39;sg&#39;, SEM=&lt;\x.walk(x)&gt;, TNS=&#39;pres&#39;] walks)))</span>
</pre></div>
</div>
<p>In order to provide backwards compatibility with ‘legacy’ grammars where the semantics value
is specified with a lowercase
<code class="docutils literal notranslate"><span class="pre">sem</span></code> feature, the relevant feature name can be passed to the function using the
<code class="docutils literal notranslate"><span class="pre">semkey</span></code> parameter, as shown here:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sents</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;raining&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">grammar</span><span class="o">.</span><span class="n">FeatureGrammar</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="si">% s</span><span class="s2">tart S</span>
<span class="gp">... </span><span class="s2">S[sem=&lt;raining&gt;] -&gt; &#39;raining&#39;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sem</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">interpret_sents</span><span class="p">(</span><span class="n">sents</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">semkey</span><span class="o">=</span><span class="s1">&#39;sem&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="p">(</span><span class="n">synrep</span><span class="p">,</span> <span class="n">semrep</span><span class="p">)</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">semrep</span><span class="p">)</span>
<span class="go">raining</span>
</pre></div>
</div>
<p>The function <code class="docutils literal notranslate"><span class="pre">evaluate_sents()</span></code> works in a similar manner, but also needs to be
passed a <code class="docutils literal notranslate"><span class="pre">Model</span></code> against which the semantic representations are evaluated.</p>
<section id="unit-tests">
<h4>Unit Tests<a class="headerlink" href="#unit-tests" title="Permalink to this heading">¶</a></h4>
</section>
</section>
<section id="unit-tests-for-relations-and-valuations">
<h3>Unit tests for relations and valuations<a class="headerlink" href="#unit-tests-for-relations-and-valuations" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>Relations are sets of tuples, all of the same length.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([(</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;d2&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_rel</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([(</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;d1&#39;</span><span class="p">,)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_rel</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">  . . .</span>
<span class="gr">ValueError</span>: <span class="n">Set set([(&#39;d1&#39;, &#39;d2&#39;), (&#39;d1&#39;,)]) contains sequences of different lengths</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s3</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_rel</span><span class="p">(</span><span class="n">s3</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">  . . .</span>
<span class="gr">ValueError</span>: <span class="n">Set set([&#39;d2&#39;, &#39;d1&#39;]) contains sequences of different lengths</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s4</span> <span class="o">=</span> <span class="n">set2rel</span><span class="p">(</span><span class="n">s3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_rel</span><span class="p">(</span><span class="n">s4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_rel</span><span class="p">(</span><span class="nb">set</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">null_binary_rel</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_rel</span><span class="p">(</span><span class="n">null_binary_rel</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Sets of entities are converted into sets of singleton tuples
(containing strings).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">set2rel</span><span class="p">(</span><span class="n">s3</span><span class="p">))</span>
<span class="go">[(&#39;d1&#39;,), (&#39;d2&#39;,)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">set2rel</span><span class="p">(</span><span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,])))</span>
<span class="go">[&#39;1&#39;, &#39;3&#39;, &#39;5&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set2rel</span><span class="p">(</span><span class="nb">set</span><span class="p">())</span> <span class="o">==</span> <span class="nb">set</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set2rel</span><span class="p">(</span><span class="n">set2rel</span><span class="p">(</span><span class="n">s3</span><span class="p">))</span> <span class="o">==</span> <span class="n">set2rel</span><span class="p">(</span><span class="n">s3</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Predication is evaluated by set membership.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">s1</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s1">&#39;d2&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">s1</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s1">&#39;d1&#39;</span><span class="p">,)</span> <span class="ow">in</span> <span class="n">s1</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;d2&#39;</span> <span class="ow">in</span> <span class="n">s1</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s1">&#39;d1&#39;</span><span class="p">,)</span> <span class="ow">in</span> <span class="n">s4</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s1">&#39;d1&#39;</span><span class="p">,)</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;d1&#39;</span> <span class="ow">in</span>  <span class="n">null_binary_rel</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">Valuation</span><span class="p">([(</span><span class="s1">&#39;Fido&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">])),</span> <span class="p">(</span><span class="s1">&#39;walk&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">())])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s1">&#39;dog&#39;</span><span class="p">])</span>
<span class="go">[(&#39;d1&#39;,), (&#39;d2&#39;,)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span><span class="o">.</span><span class="n">domain</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">symbols</span><span class="p">)</span>
<span class="go">[&#39;Fido&#39;, &#39;dog&#39;, &#39;walk&#39;]</span>
</pre></div>
</div>
<p>Parse a valuation from a string.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">john =&gt; b1</span>
<span class="gp">... </span><span class="s2">mary =&gt; g1</span>
<span class="gp">... </span><span class="s2">suzie =&gt; g2</span>
<span class="gp">... </span><span class="s2">fido =&gt; d1</span>
<span class="gp">... </span><span class="s2">tess =&gt; d2</span>
<span class="gp">... </span><span class="s2">noosa =&gt; n</span>
<span class="gp">... </span><span class="s2">girl =&gt; {g1, g2}</span>
<span class="gp">... </span><span class="s2">boy =&gt; {b1, b2}</span>
<span class="gp">... </span><span class="s2">dog =&gt; {d1, d2}</span>
<span class="gp">... </span><span class="s2">bark =&gt; {d1, d2}</span>
<span class="gp">... </span><span class="s2">walk =&gt; {b1, g2, d1}</span>
<span class="gp">... </span><span class="s2">chase =&gt; {(b1, g1), (b2, g1), (g1, d1), (g2, d2)}</span>
<span class="gp">... </span><span class="s2">see =&gt; {(b1, g1), (b2, d2), (g1, b1),(d2, b1), (g2, n)}</span>
<span class="gp">... </span><span class="s2">in =&gt; {(b1, n), (b2, n), (d2, n)}</span>
<span class="gp">... </span><span class="s2">with =&gt; {(b1, g1), (g1, b1), (d1, b1), (b1, d1)}</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">Valuation</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> 
<span class="go">{&#39;bark&#39;: set([(&#39;d1&#39;,), (&#39;d2&#39;,)]),</span>
<span class="go"> &#39;boy&#39;: set([(&#39;b1&#39;,), (&#39;b2&#39;,)]),</span>
<span class="go"> &#39;chase&#39;: set([(&#39;b1&#39;, &#39;g1&#39;), (&#39;g2&#39;, &#39;d2&#39;), (&#39;g1&#39;, &#39;d1&#39;), (&#39;b2&#39;, &#39;g1&#39;)]),</span>
<span class="go"> &#39;dog&#39;: set([(&#39;d1&#39;,), (&#39;d2&#39;,)]),</span>
<span class="go"> &#39;fido&#39;: &#39;d1&#39;,</span>
<span class="go"> &#39;girl&#39;: set([(&#39;g2&#39;,), (&#39;g1&#39;,)]),</span>
<span class="go"> &#39;in&#39;: set([(&#39;d2&#39;, &#39;n&#39;), (&#39;b1&#39;, &#39;n&#39;), (&#39;b2&#39;, &#39;n&#39;)]),</span>
<span class="go"> &#39;john&#39;: &#39;b1&#39;,</span>
<span class="go"> &#39;mary&#39;: &#39;g1&#39;,</span>
<span class="go"> &#39;noosa&#39;: &#39;n&#39;,</span>
<span class="go"> &#39;see&#39;: set([(&#39;b1&#39;, &#39;g1&#39;), (&#39;b2&#39;, &#39;d2&#39;), (&#39;d2&#39;, &#39;b1&#39;), (&#39;g2&#39;, &#39;n&#39;), (&#39;g1&#39;, &#39;b1&#39;)]),</span>
<span class="go"> &#39;suzie&#39;: &#39;g2&#39;,</span>
<span class="go"> &#39;tess&#39;: &#39;d2&#39;,</span>
<span class="go"> &#39;walk&#39;: set([(&#39;d1&#39;,), (&#39;b1&#39;,), (&#39;g2&#39;,)]),</span>
<span class="go"> &#39;with&#39;: set([(&#39;b1&#39;, &#39;g1&#39;), (&#39;d1&#39;, &#39;b1&#39;), (&#39;b1&#39;, &#39;d1&#39;), (&#39;g1&#39;, &#39;b1&#39;)])}</span>
</pre></div>
</div>
</section>
<section id="unit-tests-for-function-argument-application-in-a-model">
<h3>Unit tests for function argument application in a Model<a class="headerlink" href="#unit-tests-for-function-argument-application-in-a-model" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;betty&#39;</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;fido&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">),</span>\
<span class="gp">... </span>     <span class="p">(</span><span class="s1">&#39;girl&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="s1">&#39;g2&#39;</span><span class="p">])),</span> <span class="p">(</span><span class="s1">&#39;boy&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">])),</span> <span class="p">(</span><span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">])),</span>
<span class="gp">... </span>     <span class="p">(</span><span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([(</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;g2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;g2&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">)])),</span>
<span class="gp">... </span>     <span class="p">(</span><span class="s1">&#39;kiss&#39;</span><span class="p">,</span> <span class="n">null_binary_rel</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">Valuation</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dom</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">domain</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">dom</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Assignment</span><span class="p">(</span><span class="n">dom</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="s1">&#39;boy&#39;</span><span class="p">])</span>
<span class="go">[(&#39;b1&#39;,), (&#39;b2&#39;,)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s1">&#39;b1&#39;</span><span class="p">,)</span> <span class="ow">in</span> <span class="n">val</span><span class="p">[</span><span class="s1">&#39;boy&#39;</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s1">&#39;g1&#39;</span><span class="p">,)</span> <span class="ow">in</span> <span class="n">val</span><span class="p">[</span><span class="s1">&#39;boy&#39;</span><span class="p">]</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,)</span> <span class="ow">in</span> <span class="n">val</span><span class="p">[</span><span class="s1">&#39;boy&#39;</span><span class="p">]</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">val</span><span class="p">[</span><span class="s1">&#39;love&#39;</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">val</span><span class="p">[</span><span class="s1">&#39;kiss&#39;</span><span class="p">]</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">domain</span><span class="p">)</span>
<span class="go">[&#39;b1&#39;, &#39;b2&#39;, &#39;d1&#39;, &#39;g1&#39;, &#39;g2&#39;]</span>
</pre></div>
</div>
<section id="model-tests">
<h4>Model Tests<a class="headerlink" href="#model-tests" title="Permalink to this heading">¶</a></h4>
<p>Extension of Lambda expressions</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v0</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;betty&#39;</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;fido&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">),</span>\
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;girl&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="s1">&#39;g2&#39;</span><span class="p">])),</span> <span class="p">(</span><span class="s1">&#39;boy&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">])),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">])),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([(</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;g2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;g2&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">)]))]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">val0</span> <span class="o">=</span> <span class="n">Valuation</span><span class="p">(</span><span class="n">v0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dom0</span> <span class="o">=</span> <span class="n">val0</span><span class="o">.</span><span class="n">domain</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m0</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">dom0</span><span class="p">,</span> <span class="n">val0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g0</span> <span class="o">=</span> <span class="n">Assignment</span><span class="p">(</span><span class="n">dom0</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x. \y. love(x, y)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x. dog(x) (adam)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x. (dog(x) | boy(x)) (adam)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x. \y. love(x, y)(fido)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x. \y. love(x, y)(adam)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x. \y. love(x, y)(betty)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x. \y. love(x, y)(betty)(adam)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x. \y. love(x, y)(betty, adam)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\y. \x. love(x, y)(fido)(adam)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\y. \x. love(x, y)(betty, adam)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\x. exists y. love(x, y)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\z. adam&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="s1">&#39;b1&#39;</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\z. love(x, y)&#39;</span><span class="p">,</span> <span class="n">g0</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="go">True</span>
</pre></div>
</div>
</section>
</section>
<section id="propositional-model-test">
<h3>Propositional Model Test<a class="headerlink" href="#propositional-model-test" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tests</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;P &amp; Q&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;P &amp; R&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- P&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- R&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- - P&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- (P &amp; R)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;P | R&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;R | P&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;R | R&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- P | R&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;P | - P&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;P -&gt; Q&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;P -&gt; R&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;R -&gt; P&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;P &lt;-&gt; P&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;R &lt;-&gt; R&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;P &lt;-&gt; R&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val1</span> <span class="o">=</span> <span class="n">Valuation</span><span class="p">([(</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dom</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">dom</span><span class="p">,</span> <span class="n">val1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Assignment</span><span class="p">(</span><span class="n">dom</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">sent</span><span class="p">,</span> <span class="n">testvalue</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tests</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">semvalue</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">sent</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">semvalue</span> <span class="o">==</span> <span class="n">testvalue</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="go">* * * * * * * * * * * * * * * * *</span>
</pre></div>
</div>
</section>
<section id="test-of-i-function">
<h3>Test of i Function<a class="headerlink" href="#test-of-i-function" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem</span> <span class="kn">import</span> <span class="n">Expression</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;betty&#39;</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;fido&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">),</span>
<span class="gp">... </span>     <span class="p">(</span><span class="s1">&#39;girl&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="s1">&#39;g2&#39;</span><span class="p">])),</span> <span class="p">(</span><span class="s1">&#39;boy&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">])),</span> <span class="p">(</span><span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">])),</span>
<span class="gp">... </span>     <span class="p">(</span><span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([(</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;g2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;g1&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;g2&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">)]))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">Valuation</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dom</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">domain</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">dom</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Assignment</span><span class="p">(</span><span class="n">dom</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;g2&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span> <span class="s1">&#39;girl&#39;</span><span class="p">,</span> <span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="s1">&#39;walks&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_exprs</span> <span class="o">=</span> <span class="p">[</span><span class="n">Expression</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">exprs</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_set</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">set</span><span class="p">)</span> <span class="k">else</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">parsed</span> <span class="ow">in</span> <span class="n">parsed_exprs</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; gets value </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="n">sorted_set</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">i</span><span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="n">g</span><span class="p">))))</span>
<span class="gp">... </span>    <span class="k">except</span> <span class="n">Undefined</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; is Undefined&quot;</span> <span class="o">%</span> <span class="n">parsed</span><span class="p">)</span>
<span class="go">&#39;adam&#39; gets value b1</span>
<span class="go">&#39;girl&#39; gets value [(&#39;g1&#39;,), (&#39;g2&#39;,)]</span>
<span class="go">&#39;love&#39; gets value [(&#39;b1&#39;, &#39;g1&#39;), (&#39;b2&#39;, &#39;g2&#39;), (&#39;g1&#39;, &#39;b1&#39;), (&#39;g2&#39;, &#39;b1&#39;)]</span>
<span class="go">&#39;walks&#39; is Undefined</span>
<span class="go">&#39;x&#39; gets value b1</span>
<span class="go">&#39;y&#39; gets value g2</span>
<span class="go">&#39;z&#39; is Undefined</span>
</pre></div>
</div>
</section>
<section id="test-for-formulas-in-model">
<h3>Test for formulas in Model<a class="headerlink" href="#test-for-formulas-in-model" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tests</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;love(adam, betty)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;love(adam, sue)&#39;</span><span class="p">,</span> <span class="s1">&#39;Undefined&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;dog(fido)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- dog(fido)&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- - dog(fido)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- dog(sue)&#39;</span><span class="p">,</span> <span class="s1">&#39;Undefined&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;dog(fido) &amp; boy(adam)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- (dog(fido) &amp; boy(adam))&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- dog(fido) &amp; boy(adam)&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;dog(fido) | boy(adam)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- (dog(fido) | boy(adam))&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- dog(fido) | boy(adam)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- dog(fido) | - boy(adam)&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;dog(fido) -&gt; boy(adam)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- (dog(fido) -&gt; boy(adam))&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- dog(fido) -&gt; boy(adam)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x . love(adam, x)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;all x . love(adam, x)&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;fido = fido&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x . all y. love(x, y)&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x . (x = fido)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;all x . (dog(x) | - dog(x))&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;adam = mia&#39;</span><span class="p">,</span> <span class="s1">&#39;Undefined&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">x. (boy(x) | girl(x))&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">x. exists y. (boy(x) &amp; love(x, y))&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;g2&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;g1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists z1. boy(z1)&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. (boy(x) &amp; - (x = adam))&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. (boy(x) &amp; all y. love(y, x))&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;all x. (boy(x) | girl(x))&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;all x. (girl(x) -&gt; exists y. boy(y) &amp; love(x, y))&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. (boy(x) &amp; all y. (girl(y) -&gt; love(y, x)))&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. (boy(x) &amp; all y. (girl(y) -&gt; love(x, y)))&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;all x. (dog(x) -&gt; - girl(x))&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. exists y. (love(x, y) &amp; love(x, y))&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">sent</span><span class="p">,</span> <span class="n">testvalue</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tests</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">semvalue</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">sent</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">semvalue</span> <span class="o">==</span> <span class="n">testvalue</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">sent</span><span class="p">,</span> <span class="n">semvalue</span><span class="p">)</span>
<span class="go">* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span>
</pre></div>
</div>
</section>
<section id="satisfier-tests">
<h3>Satisfier Tests<a class="headerlink" href="#satisfier-tests" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">formulas</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="s1">&#39;boy(x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;(x = x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;(boy(x) | girl(x))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;(boy(x) &amp; girl(x))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;love(adam, x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;love(x, adam)&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;- (x = adam)&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;exists z22. love(x, z22)&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;exists y. love(y, x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;all y. (girl(y) -&gt; love(x, y))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;all y. (girl(y) -&gt; love(y, x))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;all y. (girl(y) -&gt; (boy(x) &amp; love(y, x)))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;boy(x) &amp; all y. (girl(y) -&gt; love(x, y))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;boy(x) &amp; all y. (girl(y) -&gt; love(y, x))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;boy(x) &amp; exists y. (girl(y) &amp; love(y, x))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;girl(x) -&gt; dog(x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;all y. (dog(y) -&gt; (x = y))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;- exists y. love(y, x)&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;exists y. (love(adam, y) &amp; love(y, x))&#39;</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">purge</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">)</span>
<span class="go">{&#39;x&#39;: &#39;b1&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">formulas</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; gets value: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">)))</span>
<span class="gp">... </span>    <span class="k">except</span> <span class="n">Undefined</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; is Undefined&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="p">)</span>
<span class="go">&#39;boy(x)&#39; gets value: True</span>
<span class="go">&#39;(x = x)&#39; gets value: True</span>
<span class="go">&#39;(boy(x) | girl(x))&#39; gets value: True</span>
<span class="go">&#39;(boy(x) &amp; girl(x))&#39; gets value: False</span>
<span class="go">&#39;love(adam, x)&#39; gets value: False</span>
<span class="go">&#39;love(x, adam)&#39; gets value: False</span>
<span class="go">&#39;- (x = adam)&#39; gets value: False</span>
<span class="go">&#39;exists z22. love(x, z22)&#39; gets value: True</span>
<span class="go">&#39;exists y. love(y, x)&#39; gets value: True</span>
<span class="go">&#39;all y. (girl(y) -&gt; love(x, y))&#39; gets value: False</span>
<span class="go">&#39;all y. (girl(y) -&gt; love(y, x))&#39; gets value: True</span>
<span class="go">&#39;all y. (girl(y) -&gt; (boy(x) &amp; love(y, x)))&#39; gets value: True</span>
<span class="go">&#39;boy(x) &amp; all y. (girl(y) -&gt; love(x, y))&#39; gets value: False</span>
<span class="go">&#39;boy(x) &amp; all y. (girl(y) -&gt; love(y, x))&#39; gets value: True</span>
<span class="go">&#39;boy(x) &amp; exists y. (girl(y) &amp; love(y, x))&#39; gets value: True</span>
<span class="go">&#39;girl(x) -&gt; dog(x)&#39; gets value: True</span>
<span class="go">&#39;all y. (dog(y) -&gt; (x = y))&#39; gets value: False</span>
<span class="go">&#39;- exists y. love(y, x)&#39; gets value: False</span>
<span class="go">&#39;exists y. (love(adam, y) &amp; love(y, x))&#39; gets value: True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem</span> <span class="kn">import</span> <span class="n">Expression</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">fmla</span> <span class="ow">in</span> <span class="n">formulas</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">p</span> <span class="o">=</span> <span class="n">Expression</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">fmla</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">g</span><span class="o">.</span><span class="n">purge</span><span class="p">()</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Satisfiers of &#39;</span><span class="si">%s</span><span class="s2">&#39;:</span><span class="se">\n\t</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">satisfiers</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">g</span><span class="p">))))</span>
<span class="go">Satisfiers of &#39;boy(x)&#39;:</span>
<span class="go">[&#39;b1&#39;, &#39;b2&#39;]</span>
<span class="go">Satisfiers of &#39;(x = x)&#39;:</span>
<span class="go">[&#39;b1&#39;, &#39;b2&#39;, &#39;d1&#39;, &#39;g1&#39;, &#39;g2&#39;]</span>
<span class="go">Satisfiers of &#39;(boy(x) | girl(x))&#39;:</span>
<span class="go">[&#39;b1&#39;, &#39;b2&#39;, &#39;g1&#39;, &#39;g2&#39;]</span>
<span class="go">Satisfiers of &#39;(boy(x) &amp; girl(x))&#39;:</span>
<span class="go">[]</span>
<span class="go">Satisfiers of &#39;love(adam,x)&#39;:</span>
<span class="go">[&#39;g1&#39;]</span>
<span class="go">Satisfiers of &#39;love(x,adam)&#39;:</span>
<span class="go">[&#39;g1&#39;, &#39;g2&#39;]</span>
<span class="go">Satisfiers of &#39;-(x = adam)&#39;:</span>
<span class="go">[&#39;b2&#39;, &#39;d1&#39;, &#39;g1&#39;, &#39;g2&#39;]</span>
<span class="go">Satisfiers of &#39;exists z22.love(x,z22)&#39;:</span>
<span class="go">[&#39;b1&#39;, &#39;b2&#39;, &#39;g1&#39;, &#39;g2&#39;]</span>
<span class="go">Satisfiers of &#39;exists y.love(y,x)&#39;:</span>
<span class="go">[&#39;b1&#39;, &#39;g1&#39;, &#39;g2&#39;]</span>
<span class="go">Satisfiers of &#39;all y.(girl(y) -&gt; love(x,y))&#39;:</span>
<span class="go">[]</span>
<span class="go">Satisfiers of &#39;all y.(girl(y) -&gt; love(y,x))&#39;:</span>
<span class="go">[&#39;b1&#39;]</span>
<span class="go">Satisfiers of &#39;all y.(girl(y) -&gt; (boy(x) &amp; love(y,x)))&#39;:</span>
<span class="go">[&#39;b1&#39;]</span>
<span class="go">Satisfiers of &#39;(boy(x) &amp; all y.(girl(y) -&gt; love(x,y)))&#39;:</span>
<span class="go">[]</span>
<span class="go">Satisfiers of &#39;(boy(x) &amp; all y.(girl(y) -&gt; love(y,x)))&#39;:</span>
<span class="go">[&#39;b1&#39;]</span>
<span class="go">Satisfiers of &#39;(boy(x) &amp; exists y.(girl(y) &amp; love(y,x)))&#39;:</span>
<span class="go">[&#39;b1&#39;]</span>
<span class="go">Satisfiers of &#39;(girl(x) -&gt; dog(x))&#39;:</span>
<span class="go">[&#39;b1&#39;, &#39;b2&#39;, &#39;d1&#39;]</span>
<span class="go">Satisfiers of &#39;all y.(dog(y) -&gt; (x = y))&#39;:</span>
<span class="go">[&#39;d1&#39;]</span>
<span class="go">Satisfiers of &#39;-exists y.love(y,x)&#39;:</span>
<span class="go">[&#39;b2&#39;, &#39;d1&#39;]</span>
<span class="go">Satisfiers of &#39;exists y.(love(adam,y) &amp; love(y,x))&#39;:</span>
<span class="go">[&#39;b1&#39;]</span>
</pre></div>
</div>
</section>
<section id="tests-based-on-the-blackburn-bos-testsuite">
<h3>Tests based on the Blackburn &amp; Bos testsuite<a class="headerlink" href="#tests-based-on-the-blackburn-bos-testsuite" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;jules&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;vincent&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;pumpkin&#39;</span><span class="p">,</span> <span class="s1">&#39;d3&#39;</span><span class="p">),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;honey_bunny&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;yolanda&#39;</span><span class="p">,</span> <span class="s1">&#39;d5&#39;</span><span class="p">),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;customer&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">])),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;robber&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d3&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">])),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([(</span><span class="s1">&#39;d3&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">)]))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val1</span> <span class="o">=</span> <span class="n">Valuation</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dom1</span> <span class="o">=</span> <span class="n">val1</span><span class="o">.</span><span class="n">domain</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">dom1</span><span class="p">,</span> <span class="n">val1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">Assignment</span><span class="p">(</span><span class="n">dom1</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;jules&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;vincent&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;pumpkin&#39;</span><span class="p">,</span> <span class="s1">&#39;d3&#39;</span><span class="p">),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;honey_bunny&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;yolanda&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;customer&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">,</span> <span class="s1">&#39;d5&#39;</span><span class="p">,</span> <span class="s1">&#39;d6&#39;</span><span class="p">])),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;robber&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d3&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">])),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val2</span> <span class="o">=</span> <span class="n">Valuation</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dom2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">,</span> <span class="s1">&#39;d3&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">,</span> <span class="s1">&#39;d5&#39;</span><span class="p">,</span> <span class="s1">&#39;d6&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">dom2</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span> <span class="o">=</span> <span class="n">Assignment</span><span class="p">(</span><span class="n">dom2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g21</span> <span class="o">=</span> <span class="n">Assignment</span><span class="p">(</span><span class="n">dom2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g21</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;d3&#39;</span><span class="p">)</span>
<span class="go">{&#39;y&#39;: &#39;d3&#39;}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;mia&#39;</span><span class="p">,</span> <span class="s1">&#39;d1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;jody&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;jules&#39;</span><span class="p">,</span> <span class="s1">&#39;d3&#39;</span><span class="p">),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;vincent&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;woman&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">])),</span> <span class="p">(</span><span class="s1">&#39;man&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d3&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">])),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;joke&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d5&#39;</span><span class="p">,</span> <span class="s1">&#39;d6&#39;</span><span class="p">])),</span> <span class="p">(</span><span class="s1">&#39;episode&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d7&#39;</span><span class="p">,</span> <span class="s1">&#39;d8&#39;</span><span class="p">])),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([(</span><span class="s1">&#39;d5&#39;</span><span class="p">,</span> <span class="s1">&#39;d7&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;d5&#39;</span><span class="p">,</span> <span class="s1">&#39;d8&#39;</span><span class="p">)])),</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;tell&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">([(</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d5&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;d2&#39;</span><span class="p">,</span> <span class="s1">&#39;d6&#39;</span><span class="p">)]))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val3</span> <span class="o">=</span> <span class="n">Valuation</span><span class="p">(</span><span class="n">v3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dom3</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="s1">&#39;d2&#39;</span><span class="p">,</span> <span class="s1">&#39;d3&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">,</span> <span class="s1">&#39;d5&#39;</span><span class="p">,</span> <span class="s1">&#39;d6&#39;</span><span class="p">,</span> <span class="s1">&#39;d7&#39;</span><span class="p">,</span> <span class="s1">&#39;d8&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">dom3</span><span class="p">,</span> <span class="n">val3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g3</span> <span class="o">=</span> <span class="n">Assignment</span><span class="p">(</span><span class="n">dom3</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tests</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. robber(x)&#39;</span><span class="p">,</span> <span class="n">m1</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. exists y. love(y, x)&#39;</span><span class="p">,</span> <span class="n">m1</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x0. exists x1. love(x1, x0)&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;all x. all y. love(y, x)&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- (all x. all y. love(y, x))&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;all x. all y. - love(y, x)&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;yolanda = honey_bunny&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;mia = honey_bunny&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="s1">&#39;Undefined&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- (yolanda = honey_bunny)&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- (mia = honey_bunny)&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="s1">&#39;Undefined&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;all x. (robber(x) | customer(x))&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- (all x. (robber(x) | customer(x)))&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;(robber(x) | customer(x))&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="s1">&#39;Undefined&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;(robber(y) | customer(y))&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g21</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. (man(x) &amp; exists x. woman(x))&#39;</span><span class="p">,</span> <span class="n">m3</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. (man(x) &amp; exists x. woman(x))&#39;</span><span class="p">,</span> <span class="n">m3</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- exists x. woman(x)&#39;</span><span class="p">,</span> <span class="n">m3</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. (tasty(x) &amp; burger(x))&#39;</span><span class="p">,</span> <span class="n">m3</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="s1">&#39;Undefined&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;- exists x. (tasty(x) &amp; burger(x))&#39;</span><span class="p">,</span> <span class="n">m3</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="s1">&#39;Undefined&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. (man(x) &amp; - exists y. woman(y))&#39;</span><span class="p">,</span> <span class="n">m3</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. (man(x) &amp; - exists x. woman(x))&#39;</span><span class="p">,</span> <span class="n">m3</span><span class="p">,</span> <span class="n">g3</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;exists x. (woman(x) &amp; - exists x. customer(x))&#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="s1">&#39;Undefined&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">tests</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">sentence</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">testvalue</span> <span class="o">=</span> <span class="n">item</span>
<span class="gp">... </span>    <span class="n">semvalue</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">sentence</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">semvalue</span> <span class="o">==</span> <span class="n">testvalue</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">g</span><span class="o">.</span><span class="n">purge</span><span class="p">()</span>
<span class="go">* * * * * * * * * * * * * * * * * * * * * *</span>
</pre></div>
</div>
</section>
<section id="tests-for-mapping-from-syntax-to-semantics">
<h3>Tests for mapping from syntax to semantics<a class="headerlink" href="#tests-for-mapping-from-syntax-to-semantics" title="Permalink to this heading">¶</a></h3>
<p>Load a valuation from a file.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nltk.data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem.util</span> <span class="kn">import</span> <span class="n">parse_sents</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;grammars/sample_grammars/valuation1.val&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dom</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">domain</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">dom</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Assignment</span><span class="p">(</span><span class="n">dom</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gramfile</span> <span class="o">=</span> <span class="s1">&#39;grammars/sample_grammars/sem2.fcfg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;John sees a girl&#39;</span><span class="p">,</span> <span class="s1">&#39;every dog barks&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parses</span> <span class="o">=</span> <span class="n">parse_sents</span><span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="n">gramfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">sent</span><span class="p">,</span> <span class="n">trees</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="n">parses</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">()</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sentence: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">sent</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">trees</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Parse:</span><span class="se">\n</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="n">tree</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Semantics: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>  <span class="n">root_semrep</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>

<span class="go">Sentence: John sees a girl</span>
<span class="go">Parse:</span>
<span class="go"> (S[SEM=&lt;exists x.(girl(x) &amp; see(john,x))&gt;]</span>
<span class="go">  (NP[-LOC, NUM=&#39;sg&#39;, SEM=&lt;\P.P(john)&gt;]</span>
<span class="go">    (PropN[-LOC, NUM=&#39;sg&#39;, SEM=&lt;\P.P(john)&gt;] John))</span>
<span class="go">  (VP[NUM=&#39;sg&#39;, SEM=&lt;\y.exists x.(girl(x) &amp; see(y,x))&gt;]</span>
<span class="go">    (TV[NUM=&#39;sg&#39;, SEM=&lt;\X y.X(\x.see(y,x))&gt;, TNS=&#39;pres&#39;] sees)</span>
<span class="go">    (NP[NUM=&#39;sg&#39;, SEM=&lt;\Q.exists x.(girl(x) &amp; Q(x))&gt;]</span>
<span class="go">      (Det[NUM=&#39;sg&#39;, SEM=&lt;\P Q.exists x.(P(x) &amp; Q(x))&gt;] a)</span>
<span class="go">      (Nom[NUM=&#39;sg&#39;, SEM=&lt;\x.girl(x)&gt;]</span>
<span class="go">        (N[NUM=&#39;sg&#39;, SEM=&lt;\x.girl(x)&gt;] girl)))))</span>
<span class="go">Semantics: exists x.(girl(x) &amp; see(john,x))</span>

<span class="go">Sentence: every dog barks</span>
<span class="go">Parse:</span>
<span class="go"> (S[SEM=&lt;all x.(dog(x) -&gt; bark(x))&gt;]</span>
<span class="go">  (NP[NUM=&#39;sg&#39;, SEM=&lt;\Q.all x.(dog(x) -&gt; Q(x))&gt;]</span>
<span class="go">    (Det[NUM=&#39;sg&#39;, SEM=&lt;\P Q.all x.(P(x) -&gt; Q(x))&gt;] every)</span>
<span class="go">    (Nom[NUM=&#39;sg&#39;, SEM=&lt;\x.dog(x)&gt;]</span>
<span class="go">      (N[NUM=&#39;sg&#39;, SEM=&lt;\x.dog(x)&gt;] dog)))</span>
<span class="go">  (VP[NUM=&#39;sg&#39;, SEM=&lt;\x.bark(x)&gt;]</span>
<span class="go">    (IV[NUM=&#39;sg&#39;, SEM=&lt;\x.bark(x)&gt;, TNS=&#39;pres&#39;] barks)))</span>
<span class="go">Semantics: all x.(dog(x) -&gt; bark(x))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sent</span> <span class="o">=</span> <span class="s2">&quot;every dog barks&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sem</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">interpret_sents</span><span class="p">([</span><span class="n">sent</span><span class="p">],</span> <span class="n">gramfile</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">syntree</span><span class="p">,</span> <span class="n">semrep</span><span class="p">)</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">syntree</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">()</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">semrep</span><span class="p">)</span>
<span class="go">(S[SEM=&lt;all x.(dog(x) -&gt; bark(x))&gt;]</span>
<span class="go">  (NP[NUM=&#39;sg&#39;, SEM=&lt;\Q.all x.(dog(x) -&gt; Q(x))&gt;]</span>
<span class="go">    (Det[NUM=&#39;sg&#39;, SEM=&lt;\P Q.all x.(P(x) -&gt; Q(x))&gt;] every)</span>
<span class="go">    (Nom[NUM=&#39;sg&#39;, SEM=&lt;\x.dog(x)&gt;]</span>
<span class="go">      (N[NUM=&#39;sg&#39;, SEM=&lt;\x.dog(x)&gt;] dog)))</span>
<span class="go">  (VP[NUM=&#39;sg&#39;, SEM=&lt;\x.bark(x)&gt;]</span>
<span class="go">    (IV[NUM=&#39;sg&#39;, SEM=&lt;\x.bark(x)&gt;, TNS=&#39;pres&#39;] barks)))</span>

<span class="go">all x.(dog(x) -&gt; bark(x))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sem</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">evaluate_sents</span><span class="p">([</span><span class="n">sent</span><span class="p">],</span> <span class="n">gramfile</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">g</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">syntree</span><span class="p">,</span> <span class="n">semrel</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">syntree</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">()</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">semrep</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">()</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="go">(S[SEM=&lt;all x.(dog(x) -&gt; bark(x))&gt;]</span>
<span class="go">  (NP[NUM=&#39;sg&#39;, SEM=&lt;\Q.all x.(dog(x) -&gt; Q(x))&gt;]</span>
<span class="go">    (Det[NUM=&#39;sg&#39;, SEM=&lt;\P Q.all x.(P(x) -&gt; Q(x))&gt;] every)</span>
<span class="go">    (Nom[NUM=&#39;sg&#39;, SEM=&lt;\x.dog(x)&gt;]</span>
<span class="go">      (N[NUM=&#39;sg&#39;, SEM=&lt;\x.dog(x)&gt;] dog)))</span>
<span class="go">  (VP[NUM=&#39;sg&#39;, SEM=&lt;\x.bark(x)&gt;]</span>
<span class="go">    (IV[NUM=&#39;sg&#39;, SEM=&lt;\x.bark(x)&gt;, TNS=&#39;pres&#39;] barks)))</span>

<span class="go">all x.(dog(x) -&gt; bark(x))</span>

<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sents</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Mary walks&#39;</span><span class="p">,</span> <span class="s1">&#39;John sees a dog&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sem</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">interpret_sents</span><span class="p">(</span><span class="n">sents</span><span class="p">,</span> <span class="s1">&#39;grammars/sample_grammars/sem2.fcfg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="p">(</span><span class="n">synrep</span><span class="p">,</span> <span class="n">semrep</span><span class="p">)</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">synrep</span><span class="p">)</span>
<span class="go">(S[SEM=&lt;walk(mary)&gt;]</span>
<span class="go">  (NP[-LOC, NUM=&#39;sg&#39;, SEM=&lt;\P.P(mary)&gt;]</span>
<span class="go">    (PropN[-LOC, NUM=&#39;sg&#39;, SEM=&lt;\P.P(mary)&gt;] Mary))</span>
<span class="go">  (VP[NUM=&#39;sg&#39;, SEM=&lt;\x.walk(x)&gt;]</span>
<span class="go">    (IV[NUM=&#39;sg&#39;, SEM=&lt;\x.walk(x)&gt;, TNS=&#39;pres&#39;] walks)))</span>
<span class="go">(S[SEM=&lt;exists x.(dog(x) &amp; see(john,x))&gt;]</span>
<span class="go">  (NP[-LOC, NUM=&#39;sg&#39;, SEM=&lt;\P.P(john)&gt;]</span>
<span class="go">    (PropN[-LOC, NUM=&#39;sg&#39;, SEM=&lt;\P.P(john)&gt;] John))</span>
<span class="go">  (VP[NUM=&#39;sg&#39;, SEM=&lt;\y.exists x.(dog(x) &amp; see(y,x))&gt;]</span>
<span class="go">    (TV[NUM=&#39;sg&#39;, SEM=&lt;\X y.X(\x.see(y,x))&gt;, TNS=&#39;pres&#39;] sees)</span>
<span class="go">    (NP[NUM=&#39;sg&#39;, SEM=&lt;\Q.exists x.(dog(x) &amp; Q(x))&gt;]</span>
<span class="go">      (Det[NUM=&#39;sg&#39;, SEM=&lt;\P Q.exists x.(P(x) &amp; Q(x))&gt;] a)</span>
<span class="go">      (Nom[NUM=&#39;sg&#39;, SEM=&lt;\x.dog(x)&gt;]</span>
<span class="go">        (N[NUM=&#39;sg&#39;, SEM=&lt;\x.dog(x)&gt;] dog)))))</span>
</pre></div>
</div>
</section>
<section id="cooper-storage">
<h3>Cooper Storage<a class="headerlink" href="#cooper-storage" title="Permalink to this heading">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.sem</span> <span class="kn">import</span> <span class="n">cooper_storage</span> <span class="k">as</span> <span class="n">cs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentence</span> <span class="o">=</span> <span class="s1">&#39;every girl chases a dog&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trees</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">parse_with_bindops</span><span class="p">(</span><span class="n">sentence</span><span class="p">,</span> <span class="n">grammar</span><span class="o">=</span><span class="s1">&#39;grammars/book_grammars/storage.fcfg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">semrep</span> <span class="o">=</span> <span class="n">trees</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">label</span><span class="p">()[</span><span class="s1">&#39;SEM&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs_semrep</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">CooperStore</span><span class="p">(</span><span class="n">semrep</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cs_semrep</span><span class="o">.</span><span class="n">core</span><span class="p">)</span>
<span class="go">chase(z2,z4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">bo</span> <span class="ow">in</span> <span class="n">cs_semrep</span><span class="o">.</span><span class="n">store</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">bo</span><span class="p">)</span>
<span class="go">bo(\P.all x.(girl(x) -&gt; P(x)),z2)</span>
<span class="go">bo(\P.exists x.(dog(x) &amp; P(x)),z4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs_semrep</span><span class="o">.</span><span class="n">s_retrieve</span><span class="p">(</span><span class="n">trace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Permutation 1</span>
<span class="go">   (\P.all x.(girl(x) -&gt; P(x)))(\z2.chase(z2,z4))</span>
<span class="go">   (\P.exists x.(dog(x) &amp; P(x)))(\z4.all x.(girl(x) -&gt; chase(x,z4)))</span>
<span class="go">Permutation 2</span>
<span class="go">   (\P.exists x.(dog(x) &amp; P(x)))(\z4.chase(z2,z4))</span>
<span class="go">   (\P.all x.(girl(x) -&gt; P(x)))(\z2.exists x.(dog(x) &amp; chase(z2,x)))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">reading</span> <span class="ow">in</span> <span class="n">cs_semrep</span><span class="o">.</span><span class="n">readings</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">reading</span><span class="p">)</span>
<span class="go">exists x.(dog(x) &amp; all z3.(girl(z3) -&gt; chase(z3,x)))</span>
<span class="go">all x.(girl(x) -&gt; exists z4.(dog(z4) &amp; chase(x,z4)))</span>
</pre></div>
</div>
</section>
</section>
</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/howto/semantics.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>