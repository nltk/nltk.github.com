<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: nltk.translate.ribes_score module</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="nltk.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="module-nltk.translate.ribes_score">
<span id="nltk-translate-ribes-score-module"></span><h1>nltk.translate.ribes_score module<a class="headerlink" href="#module-nltk.translate.ribes_score" title="Permalink to this heading">¶</a></h1>
<p>RIBES score implementation</p>
<dl class="py function">
<dt class="sig sig-object py" id="nltk.translate.ribes_score.corpus_ribes">
<span class="sig-prename descclassname"><span class="pre">nltk.translate.ribes_score.</span></span><span class="sig-name descname"><span class="pre">corpus_ribes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_references</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hypotheses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ribes_score.html#corpus_ribes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ribes_score.corpus_ribes" title="Permalink to this definition">¶</a></dt>
<dd><p>This function “calculates RIBES for a system output (hypothesis) with
multiple references, and returns “best” score among multi-references and
individual scores. The scores are corpus-wise, i.e., averaged by the number
of sentences.” (c.f. RIBES version 1.03.1 code).</p>
<p>Different from BLEU’s micro-average precision, RIBES calculates the
macro-average precision by averaging the best RIBES score for each pair of
hypothesis and its corresponding references</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hyp1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;It&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;guide&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">,</span> <span class="s1">&#39;which&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s1">&#39;ensures&#39;</span><span class="p">,</span> <span class="s1">&#39;that&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;military&#39;</span><span class="p">,</span> <span class="s1">&#39;always&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s1">&#39;obeys&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;commands&#39;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;party&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref1a</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;It&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;guide&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">,</span> <span class="s1">&#39;that&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;ensures&#39;</span><span class="p">,</span> <span class="s1">&#39;that&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;military&#39;</span><span class="p">,</span> <span class="s1">&#39;will&#39;</span><span class="p">,</span> <span class="s1">&#39;forever&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;heed&#39;</span><span class="p">,</span> <span class="s1">&#39;Party&#39;</span><span class="p">,</span> <span class="s1">&#39;commands&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref1b</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;It&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;guiding&#39;</span><span class="p">,</span> <span class="s1">&#39;principle&#39;</span><span class="p">,</span> <span class="s1">&#39;which&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;guarantees&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;military&#39;</span><span class="p">,</span> <span class="s1">&#39;forces&#39;</span><span class="p">,</span> <span class="s1">&#39;always&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;being&#39;</span><span class="p">,</span> <span class="s1">&#39;under&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;command&#39;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;Party&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref1c</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;It&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;practical&#39;</span><span class="p">,</span> <span class="s1">&#39;guide&#39;</span><span class="p">,</span> <span class="s1">&#39;for&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;army&#39;</span><span class="p">,</span> <span class="s1">&#39;always&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="s1">&#39;heed&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;directions&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;party&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hyp2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;he&#39;</span><span class="p">,</span> <span class="s1">&#39;read&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;book&#39;</span><span class="p">,</span> <span class="s1">&#39;because&#39;</span><span class="p">,</span> <span class="s1">&#39;he&#39;</span><span class="p">,</span> <span class="s1">&#39;was&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s1">&#39;interested&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;history&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref2a</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;he&#39;</span><span class="p">,</span> <span class="s1">&#39;was&#39;</span><span class="p">,</span> <span class="s1">&#39;interested&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;history&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;because&#39;</span><span class="p">,</span> <span class="s1">&#39;he&#39;</span><span class="p">,</span> <span class="s1">&#39;read&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;book&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">list_of_references</span> <span class="o">=</span> <span class="p">[[</span><span class="n">ref1a</span><span class="p">,</span> <span class="n">ref1b</span><span class="p">,</span> <span class="n">ref1c</span><span class="p">],</span> <span class="p">[</span><span class="n">ref2a</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hypotheses</span> <span class="o">=</span> <span class="p">[</span><span class="n">hyp1</span><span class="p">,</span> <span class="n">hyp2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">corpus_ribes</span><span class="p">(</span><span class="n">list_of_references</span><span class="p">,</span> <span class="n">hypotheses</span><span class="p">),</span><span class="mi">4</span><span class="p">)</span>
<span class="go">0.3597</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>references</strong> (<em>list</em><em>(</em><em>list</em><em>(</em><em>list</em><em>(</em><em>str</em><em>)</em><em>)</em><em>)</em>) – a corpus of lists of reference sentences, w.r.t. hypotheses</p></li>
<li><p><strong>hypotheses</strong> (<em>list</em><em>(</em><em>list</em><em>(</em><em>str</em><em>)</em><em>)</em>) – a list of hypothesis sentences</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – hyperparameter used as a prior for the unigram precision.</p></li>
<li><p><strong>beta</strong> (<em>float</em>) – hyperparameter used as a prior for the brevity penalty.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The best ribes score from one of the references.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.translate.ribes_score.find_increasing_sequences">
<span class="sig-prename descclassname"><span class="pre">nltk.translate.ribes_score.</span></span><span class="sig-name descname"><span class="pre">find_increasing_sequences</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ribes_score.html#find_increasing_sequences"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ribes_score.find_increasing_sequences" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the <em>worder</em> list, this function groups monotonic +1 sequences.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">worder</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">find_increasing_sequences</span><span class="p">(</span><span class="n">worder</span><span class="p">))</span>
<span class="go">[(7, 8, 9, 10), (0, 1, 2, 3, 4, 5)]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worder</strong> – The worder list output from word_rank_alignment</p></li>
<li><p><strong>type</strong> – list(int)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.translate.ribes_score.kendall_tau">
<span class="sig-prename descclassname"><span class="pre">nltk.translate.ribes_score.</span></span><span class="sig-name descname"><span class="pre">kendall_tau</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ribes_score.html#kendall_tau"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ribes_score.kendall_tau" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the Kendall’s Tau correlation coefficient given the <em>worder</em>
list of word alignments from word_rank_alignment(), using the formula:</p>
<blockquote>
<div><p>tau = 2 * num_increasing_pairs / num_possible_pairs -1</p>
</div></blockquote>
<p>Note that the no. of increasing pairs can be discontinuous in the <em>worder</em>
list and each each increasing sequence can be tabulated as choose(len(seq), 2)
no. of increasing pairs, e.g.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">worder</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number_possible_pairs</span> <span class="o">=</span> <span class="n">choose</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">worder</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">kendall_tau</span><span class="p">(</span><span class="n">worder</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
<span class="go">-0.236</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">kendall_tau</span><span class="p">(</span><span class="n">worder</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
<span class="go">0.382</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worder</strong> (<em>list</em><em>(</em><em>int</em><em>)</em>) – The worder list output from word_rank_alignment</p></li>
<li><p><strong>normalize</strong> (<em>boolean</em>) – Flag to indicate normalization to between 0.0 and 1.0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The Kendall’s Tau correlation coefficient.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.translate.ribes_score.position_of_ngram">
<span class="sig-prename descclassname"><span class="pre">nltk.translate.ribes_score.</span></span><span class="sig-name descname"><span class="pre">position_of_ngram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ngram</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sentence</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ribes_score.html#position_of_ngram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ribes_score.position_of_ngram" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the position of the first instance of the ngram
appearing in a sentence.</p>
<p>Note that one could also use string as follows but the code is a little
convoluted with type casting back and forth:</p>
<blockquote>
<div><p>char_pos = ‘ ‘.join(sent)[:’ ‘.join(sent).index(’ ‘.join(ngram))]
word_pos = char_pos.count(’ ‘)</p>
</div></blockquote>
<p>Another way to conceive this is:</p>
<blockquote>
<div><dl class="simple">
<dt>return next(i for i, ng in enumerate(ngrams(sentence, len(ngram)))</dt><dd><p>if ng == ngram)</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ngram</strong> (<em>tuple</em>) – The ngram that needs to be searched</p></li>
<li><p><strong>sentence</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – The list of tokens to search from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.translate.ribes_score.sentence_ribes">
<span class="sig-prename descclassname"><span class="pre">nltk.translate.ribes_score.</span></span><span class="sig-name descname"><span class="pre">sentence_ribes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">references</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hypothesis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ribes_score.html#sentence_ribes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ribes_score.sentence_ribes" title="Permalink to this definition">¶</a></dt>
<dd><p>The RIBES (Rank-based Intuitive Bilingual Evaluation Score) from
Hideki Isozaki, Tsutomu Hirao, Kevin Duh, Katsuhito Sudoh and
Hajime Tsukada. 2010. “Automatic Evaluation of Translation Quality for
Distant Language Pairs”. In Proceedings of EMNLP.
<a class="reference external" href="https://www.aclweb.org/anthology/D/D10/D10-1092.pdf">https://www.aclweb.org/anthology/D/D10/D10-1092.pdf</a></p>
<p>The generic RIBES scores used in shared task, e.g. Workshop for
Asian Translation (WAT) uses the following RIBES calculations:</p>
<blockquote>
<div><p>RIBES = kendall_tau * (alpha**p1) * (beta**bp)</p>
</div></blockquote>
<p>Please note that this re-implementation differs from the official
RIBES implementation and though it emulates the results as describe
in the original paper, there are further optimization implemented
in the official RIBES script.</p>
<p>Users are encouraged to use the official RIBES script instead of this
implementation when evaluating your machine translation system. Refer
to <a class="reference external" href="https://www.kecl.ntt.co.jp/icl/lirg/ribes/">https://www.kecl.ntt.co.jp/icl/lirg/ribes/</a> for the official script.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>references</strong> (<em>list</em><em>(</em><em>list</em><em>(</em><em>str</em><em>)</em><em>)</em>) – a list of reference sentences</p></li>
<li><p><strong>hypothesis</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – a hypothesis sentence</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – hyperparameter used as a prior for the unigram precision.</p></li>
<li><p><strong>beta</strong> (<em>float</em>) – hyperparameter used as a prior for the brevity penalty.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The best ribes score from one of the references.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.translate.ribes_score.spearman_rho">
<span class="sig-prename descclassname"><span class="pre">nltk.translate.ribes_score.</span></span><span class="sig-name descname"><span class="pre">spearman_rho</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ribes_score.html#spearman_rho"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ribes_score.spearman_rho" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the Spearman’s Rho correlation coefficient given the <em>worder</em>
list of word alignment from word_rank_alignment(), using the formula:</p>
<blockquote>
<div><p>rho = 1 - sum(d**2) / choose(len(worder)+1, 3)</p>
</div></blockquote>
<p>Given that d is the sum of difference between the <em>worder</em> list of indices
and the original word indices from the reference sentence.</p>
<p>Using the (H0,R0) and (H5, R5) example from the paper</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">worder</span> <span class="o">=</span>  <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">spearman_rho</span><span class="p">(</span><span class="n">worder</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">-0.591</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">spearman_rho</span><span class="p">(</span><span class="n">worder</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">0.205</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worder</strong> – The worder list output from word_rank_alignment</p></li>
<li><p><strong>type</strong> – list(int)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.translate.ribes_score.word_rank_alignment">
<span class="sig-prename descclassname"><span class="pre">nltk.translate.ribes_score.</span></span><span class="sig-name descname"><span class="pre">word_rank_alignment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hypothesis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">character_based</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ribes_score.html#word_rank_alignment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ribes_score.word_rank_alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the word rank alignment algorithm described in the paper to produce
the <em>worder</em> list, i.e. a list of word indices of the hypothesis word orders
w.r.t. the list of reference words.</p>
<p>Below is (H0, R0) example from the Isozaki et al. 2010 paper,
note the examples are indexed from 1 but the results here are indexed from 0:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ref</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;he was interested in world history because he &#39;</span>
<span class="gp">... </span><span class="s1">&#39;read the book&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hyp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;he read the book because he was interested in world &#39;</span>
<span class="gp">... </span><span class="s1">&#39;history&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">word_rank_alignment</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">hyp</span><span class="p">)</span>
<span class="go">[7, 8, 9, 10, 6, 0, 1, 2, 3, 4, 5]</span>
</pre></div>
</div>
<p>The (H1, R1) example from the paper, note the 0th index:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ref</span> <span class="o">=</span> <span class="s1">&#39;John hit Bob yesterday&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hyp</span> <span class="o">=</span> <span class="s1">&#39;Bob hit John yesterday&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">word_rank_alignment</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">hyp</span><span class="p">)</span>
<span class="go">[2, 1, 0, 3]</span>
</pre></div>
</div>
<p>Here is the (H2, R2) example from the paper, note the 0th index here too:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ref</span> <span class="o">=</span> <span class="s1">&#39;the boy read the book&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hyp</span> <span class="o">=</span> <span class="s1">&#39;the book was read by the boy&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">word_rank_alignment</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">hyp</span><span class="p">)</span>
<span class="go">[3, 4, 2, 0, 1]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reference</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – a reference sentence</p></li>
<li><p><strong>hypothesis</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – a hypothesis sentence</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/api/nltk.translate.ribes_score.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>