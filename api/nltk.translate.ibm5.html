<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: nltk.translate.ibm5 module</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="nltk.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="module-nltk.translate.ibm5">
<span id="nltk-translate-ibm5-module"></span><h1>nltk.translate.ibm5 module<a class="headerlink" href="#module-nltk.translate.ibm5" title="Permalink to this heading">¶</a></h1>
<p>Translation model that keeps track of vacant positions in the target
sentence to decide where to place translated words.</p>
<p>Translation can be viewed as a process where each word in the source
sentence is stepped through sequentially, generating translated words
for each source word. The target sentence can be viewed as being made
up of <code class="docutils literal notranslate"><span class="pre">m</span></code> empty slots initially, which gradually fill up as generated
words are placed in them.</p>
<p>Models 3 and 4 use distortion probabilities to decide how to place
translated words. For simplicity, these models ignore the history of
which slots have already been occupied with translated words.
Consider the placement of the last translated word: there is only one
empty slot left in the target sentence, so the distortion probability
should be 1.0 for that position and 0.0 everywhere else. However, the
distortion probabilities for Models 3 and 4 are set up such that all
positions are under consideration.</p>
<p>IBM Model 5 fixes this deficiency by accounting for occupied slots
during translation. It introduces the vacancy function v(j), the number
of vacancies up to, and including, position j in the target sentence.</p>
<section id="terminology">
<h2>Terminology<a class="headerlink" href="#terminology" title="Permalink to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Maximum vacancy</dt>
<dd class="field-odd"><p>The number of valid slots that a word can be placed in.
This is not necessarily the same as the number of vacant slots.
For example, if a tablet contains more than one word, the head word
cannot be placed at the last vacant slot because there will be no
space for the other words in the tablet. The number of valid slots
has to take into account the length of the tablet.
Non-head words cannot be placed before the head word, so vacancies
to the left of the head word are ignored.</p>
</dd>
<dt class="field-even">Vacancy difference</dt>
<dd class="field-even"><p>For a head word: (v(j) - v(center of previous cept))
Can be positive or negative.
For a non-head word: (v(j) - v(position of previously placed word))
Always positive, because successive words in a tablet are assumed to
appear to the right of the previous word.</p>
</dd>
</dl>
<p>Positioning of target words fall under three cases:</p>
<ol class="arabic simple">
<li><p>Words generated by NULL are distributed uniformly</p></li>
<li><p>For a head word t, its position is modeled by the probability
v_head(dv | max_v,word_class_t(t))</p></li>
<li><p>For a non-head word t, its position is modeled by the probability
v_non_head(dv | max_v,word_class_t(t))</p></li>
</ol>
<p>dv and max_v are defined differently for head and non-head words.</p>
<p>The EM algorithm used in Model 5 is:</p>
<dl class="field-list simple">
<dt class="field-odd">E step</dt>
<dd class="field-odd"><p>In the training data, collect counts, weighted by prior
probabilities.</p>
<ul class="simple">
<li><ol class="loweralpha simple">
<li><p>count how many times a source language word is translated
into a target language word</p></li>
</ol>
</li>
<li><ol class="loweralpha simple" start="2">
<li><p>for a particular word class and maximum vacancy, count how
many times a head word and the previous cept’s center have
a particular difference in number of vacancies</p></li>
</ol>
</li>
<li><ol class="loweralpha simple" start="2">
<li><p>for a particular word class and maximum vacancy, count how
many times a non-head word and the previous target word
have a particular difference in number of vacancies</p></li>
</ol>
</li>
<li><ol class="loweralpha simple" start="4">
<li><p>count how many times a source word is aligned to phi number
of target words</p></li>
</ol>
</li>
<li><ol class="loweralpha simple" start="5">
<li><p>count how many times NULL is aligned to a target word</p></li>
</ol>
</li>
</ul>
</dd>
<dt class="field-even">M step</dt>
<dd class="field-even"><p>Estimate new probabilities based on the counts from the E step</p>
</dd>
</dl>
<p>Like Model 4, there are too many possible alignments to consider. Thus,
a hill climbing approach is used to sample good candidates. In addition,
pruning is used to weed out unlikely alignments based on Model 4 scores.</p>
</section>
<section id="notations">
<h2>Notations<a class="headerlink" href="#notations" title="Permalink to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">i</dt>
<dd class="field-odd"><p>Position in the source sentence
Valid values are 0 (for NULL), 1, 2, …, length of source sentence</p>
</dd>
<dt class="field-even">j</dt>
<dd class="field-even"><p>Position in the target sentence
Valid values are 1, 2, …, length of target sentence</p>
</dd>
<dt class="field-odd">l</dt>
<dd class="field-odd"><p>Number of words in the source sentence, excluding NULL</p>
</dd>
<dt class="field-even">m</dt>
<dd class="field-even"><p>Number of words in the target sentence</p>
</dd>
<dt class="field-odd">s</dt>
<dd class="field-odd"><p>A word in the source language</p>
</dd>
<dt class="field-even">t</dt>
<dd class="field-even"><p>A word in the target language</p>
</dd>
<dt class="field-odd">phi</dt>
<dd class="field-odd"><p>Fertility, the number of target words produced by a source word</p>
</dd>
<dt class="field-even">p1</dt>
<dd class="field-even"><p>Probability that a target word produced by a source word is
accompanied by another target word that is aligned to NULL</p>
</dd>
<dt class="field-odd">p0</dt>
<dd class="field-odd"><p>1 - p1</p>
</dd>
<dt class="field-even">max_v</dt>
<dd class="field-even"><p>Maximum vacancy</p>
</dd>
<dt class="field-odd">dv</dt>
<dd class="field-odd"><p>Vacancy difference, Δv</p>
</dd>
</dl>
<p>The definition of v_head here differs from GIZA++, section 4.7 of
[Brown et al., 1993], and [Koehn, 2010]. In the latter cases, v_head is
v_head(v(j) | v(center of previous cept),max_v,word_class(t)).</p>
<p>Here, we follow appendix B of [Brown et al., 1993] and combine v(j) with
v(center of previous cept) to obtain dv:
v_head(v(j) - v(center of previous cept) | max_v,word_class(t)).</p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
<p>Philipp Koehn. 2010. Statistical Machine Translation.
Cambridge University Press, New York.</p>
<p>Peter E Brown, Stephen A. Della Pietra, Vincent J. Della Pietra, and
Robert L. Mercer. 1993. The Mathematics of Statistical Machine
Translation: Parameter Estimation. Computational Linguistics, 19 (2),
263-311.</p>
<dl class="py class">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nltk.translate.ibm5.</span></span><span class="sig-name descname"><span class="pre">IBMModel5</span></span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#IBMModel5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="nltk.translate.ibm_model.html#nltk.translate.ibm_model.IBMModel" title="nltk.translate.ibm_model.IBMModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">IBMModel</span></code></a></p>
<p>Translation model that keeps track of vacant positions in the target
sentence to decide where to place translated words</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bitext</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitext</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s1">&#39;klein&#39;</span><span class="p">,</span> <span class="s1">&#39;ist&#39;</span><span class="p">,</span> <span class="s1">&#39;das&#39;</span><span class="p">,</span> <span class="s1">&#39;haus&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;house&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;small&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitext</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s1">&#39;das&#39;</span><span class="p">,</span> <span class="s1">&#39;haus&#39;</span><span class="p">,</span> <span class="s1">&#39;war&#39;</span><span class="p">,</span> <span class="s1">&#39;ja&#39;</span><span class="p">,</span> <span class="s1">&#39;groß&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;house&#39;</span><span class="p">,</span> <span class="s1">&#39;was&#39;</span><span class="p">,</span> <span class="s1">&#39;big&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitext</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s1">&#39;das&#39;</span><span class="p">,</span> <span class="s1">&#39;buch&#39;</span><span class="p">,</span> <span class="s1">&#39;ist&#39;</span><span class="p">,</span> <span class="s1">&#39;ja&#39;</span><span class="p">,</span> <span class="s1">&#39;klein&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;book&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;small&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitext</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s1">&#39;ein&#39;</span><span class="p">,</span> <span class="s1">&#39;haus&#39;</span><span class="p">,</span> <span class="s1">&#39;ist&#39;</span><span class="p">,</span> <span class="s1">&#39;klein&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;house&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;small&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitext</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s1">&#39;das&#39;</span><span class="p">,</span> <span class="s1">&#39;haus&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;house&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitext</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s1">&#39;das&#39;</span><span class="p">,</span> <span class="s1">&#39;buch&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;book&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitext</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s1">&#39;ein&#39;</span><span class="p">,</span> <span class="s1">&#39;buch&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;book&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitext</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s1">&#39;ich&#39;</span><span class="p">,</span> <span class="s1">&#39;fasse&#39;</span><span class="p">,</span> <span class="s1">&#39;das&#39;</span><span class="p">,</span> <span class="s1">&#39;buch&#39;</span><span class="p">,</span> <span class="s1">&#39;zusammen&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;summarize&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;book&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bitext</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AlignedSent</span><span class="p">([</span><span class="s1">&#39;fasse&#39;</span><span class="p">,</span> <span class="s1">&#39;zusammen&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;summarize&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src_classes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;the&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;small&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;big&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;house&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;book&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;was&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;summarize&#39;</span><span class="p">:</span> <span class="mi">5</span> <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trg_classes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;das&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;ein&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;haus&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;buch&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;klein&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;groß&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;ist&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;war&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;ja&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;ich&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;fasse&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;zusammen&#39;</span><span class="p">:</span> <span class="mi">6</span> <span class="p">}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ibm5</span> <span class="o">=</span> <span class="n">IBMModel5</span><span class="p">(</span><span class="n">bitext</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">src_classes</span><span class="p">,</span> <span class="n">trg_classes</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ibm5</span><span class="o">.</span><span class="n">head_vacancy_table</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ibm5</span><span class="o">.</span><span class="n">head_vacancy_table</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ibm5</span><span class="o">.</span><span class="n">non_head_vacancy_table</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">][</span><span class="mi">6</span><span class="p">],</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ibm5</span><span class="o">.</span><span class="n">fertility_table</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;summarize&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ibm5</span><span class="o">.</span><span class="n">fertility_table</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;book&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">ibm5</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">0.033</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test_sentence</span> <span class="o">=</span> <span class="n">bitext</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_sentence</span><span class="o">.</span><span class="n">words</span>
<span class="go">[&#39;das&#39;, &#39;buch&#39;, &#39;ist&#39;, &#39;ja&#39;, &#39;klein&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_sentence</span><span class="o">.</span><span class="n">mots</span>
<span class="go">[&#39;the&#39;, &#39;book&#39;, &#39;is&#39;, &#39;small&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_sentence</span><span class="o">.</span><span class="n">alignment</span>
<span class="go">Alignment([(0, 0), (1, 1), (2, 2), (3, None), (4, 3)])</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5.MIN_SCORE_FACTOR">
<span class="sig-name descname"><span class="pre">MIN_SCORE_FACTOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.2</span></em><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5.MIN_SCORE_FACTOR" title="Permalink to this definition">¶</a></dt>
<dd><p>Alignments with scores below this factor are pruned during sampling</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence_aligned_corpus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_word_classes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_word_classes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probability_tables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#IBMModel5.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Train on <code class="docutils literal notranslate"><span class="pre">sentence_aligned_corpus</span></code> and create a lexical
translation model, vacancy models, a fertility model, and a
model for generating NULL-aligned words.</p>
<p>Translation direction is from <code class="docutils literal notranslate"><span class="pre">AlignedSent.mots</span></code> to
<code class="docutils literal notranslate"><span class="pre">AlignedSent.words</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentence_aligned_corpus</strong> (<em>list</em><em>(</em><a class="reference internal" href="nltk.translate.AlignedSent.html#nltk.translate.AlignedSent" title="nltk.translate.AlignedSent"><em>AlignedSent</em></a><em>)</em>) – Sentence-aligned parallel corpus</p></li>
<li><p><strong>iterations</strong> (<em>int</em>) – Number of iterations to run training algorithm</p></li>
<li><p><strong>source_word_classes</strong> (<em>dict</em><em>[</em><em>str</em><em>]</em><em>: int</em>) – Lookup table that maps a source word
to its word class, the latter represented by an integer id</p></li>
<li><p><strong>target_word_classes</strong> (<em>dict</em><em>[</em><em>str</em><em>]</em><em>: int</em>) – Lookup table that maps a target word
to its word class, the latter represented by an integer id</p></li>
<li><p><strong>probability_tables</strong> (<em>dict</em><em>[</em><em>str</em><em>]</em><em>: object</em>) – Optional. Use this to pass in custom
probability values. If not specified, probabilities will be
set to a uniform distribution, or some other sensible value.
If specified, all the following entries must be present:
<code class="docutils literal notranslate"><span class="pre">translation_table</span></code>, <code class="docutils literal notranslate"><span class="pre">alignment_table</span></code>,
<code class="docutils literal notranslate"><span class="pre">fertility_table</span></code>, <code class="docutils literal notranslate"><span class="pre">p1</span></code>, <code class="docutils literal notranslate"><span class="pre">head_distortion_table</span></code>,
<code class="docutils literal notranslate"><span class="pre">non_head_distortion_table</span></code>, <code class="docutils literal notranslate"><span class="pre">head_vacancy_table</span></code>,
<code class="docutils literal notranslate"><span class="pre">non_head_vacancy_table</span></code>. See <code class="docutils literal notranslate"><span class="pre">IBMModel</span></code>, <code class="docutils literal notranslate"><span class="pre">IBMModel4</span></code>,
and <code class="docutils literal notranslate"><span class="pre">IBMModel5</span></code> for the type and purpose of these tables.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5.hillclimb">
<span class="sig-name descname"><span class="pre">hillclimb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alignment_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j_pegged</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#IBMModel5.hillclimb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5.hillclimb" title="Permalink to this definition">¶</a></dt>
<dd><p>Starting from the alignment in <code class="docutils literal notranslate"><span class="pre">alignment_info</span></code>, look at
neighboring alignments iteratively for the best one, according
to Model 4</p>
<p>Note that Model 4 scoring is used instead of Model 5 because the
latter is too expensive to compute.</p>
<p>There is no guarantee that the best alignment in the alignment
space will be found, because the algorithm might be stuck in a
local maximum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>j_pegged</strong> (<em>int</em>) – If specified, the search will be constrained to
alignments where <code class="docutils literal notranslate"><span class="pre">j_pegged</span></code> remains unchanged</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The best alignment found from hill climbing</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="nltk.translate.ibm_model.html#nltk.translate.ibm_model.AlignmentInfo" title="nltk.translate.ibm_model.AlignmentInfo">AlignmentInfo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5.maximize_vacancy_probabilities">
<span class="sig-name descname"><span class="pre">maximize_vacancy_probabilities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">counts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#IBMModel5.maximize_vacancy_probabilities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5.maximize_vacancy_probabilities" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5.prob_t_a_given_s">
<span class="sig-name descname"><span class="pre">prob_t_a_given_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alignment_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#IBMModel5.prob_t_a_given_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5.prob_t_a_given_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Probability of target sentence and an alignment given the
source sentence</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5.prune">
<span class="sig-name descname"><span class="pre">prune</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alignment_infos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#IBMModel5.prune"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes alignments from <code class="docutils literal notranslate"><span class="pre">alignment_infos</span></code> that have
substantially lower Model 4 scores than the best alignment</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Pruned alignments</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>set(<a class="reference internal" href="nltk.translate.ibm_model.html#nltk.translate.ibm_model.AlignmentInfo" title="nltk.translate.ibm_model.AlignmentInfo">AlignmentInfo</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5.reset_probabilities">
<span class="sig-name descname"><span class="pre">reset_probabilities</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#IBMModel5.reset_probabilities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5.reset_probabilities" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence_pair</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#IBMModel5.sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample the most probable alignments from the entire alignment
space according to Model 4</p>
<p>Note that Model 4 scoring is used instead of Model 5 because the
latter is too expensive to compute.</p>
<p>First, determine the best alignment according to IBM Model 2.
With this initial alignment, use hill climbing to determine the
best alignment according to a IBM Model 4. Add this
alignment and its neighbors to the sample set. Repeat this
process with other initial alignments obtained by pegging an
alignment point. Finally, prune alignments that have
substantially lower Model 4 scores than the best alignment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sentence_pair</strong> (<a class="reference internal" href="nltk.translate.AlignedSent.html#nltk.translate.AlignedSent" title="nltk.translate.AlignedSent"><em>AlignedSent</em></a>) – Source and target language sentence pair
to generate a sample of alignments from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set of best alignments represented by their <code class="docutils literal notranslate"><span class="pre">AlignmentInfo</span></code>
and the best alignment of the set for convenience</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>set(<a class="reference internal" href="nltk.translate.ibm_model.html#nltk.translate.ibm_model.AlignmentInfo" title="nltk.translate.ibm_model.AlignmentInfo">AlignmentInfo</a>), <a class="reference internal" href="nltk.translate.ibm_model.html#nltk.translate.ibm_model.AlignmentInfo" title="nltk.translate.ibm_model.AlignmentInfo">AlignmentInfo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5.set_uniform_probabilities">
<span class="sig-name descname"><span class="pre">set_uniform_probabilities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence_aligned_corpus</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#IBMModel5.set_uniform_probabilities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5.set_uniform_probabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Set vacancy probabilities uniformly to
1 / cardinality of vacancy difference values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.IBMModel5.train">
<span class="sig-name descname"><span class="pre">train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parallel_corpus</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#IBMModel5.train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.IBMModel5.train" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nltk.translate.ibm5.Model5Counts">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nltk.translate.ibm5.</span></span><span class="sig-name descname"><span class="pre">Model5Counts</span></span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#Model5Counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.Model5Counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="nltk.translate.ibm_model.html#nltk.translate.ibm_model.Counts" title="nltk.translate.ibm_model.Counts"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counts</span></code></a></p>
<p>Data object to store counts of various parameters during training.
Includes counts for vacancies.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.Model5Counts.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#Model5Counts.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.Model5Counts.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.Model5Counts.update_vacancy">
<span class="sig-name descname"><span class="pre">update_vacancy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alignment_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trg_classes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slots</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#Model5Counts.update_vacancy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.Model5Counts.update_vacancy" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>count</strong> – Value to add to the vacancy counts</p></li>
<li><p><strong>alignment_info</strong> – Alignment under consideration</p></li>
<li><p><strong>i</strong> – Source word position under consideration</p></li>
<li><p><strong>trg_classes</strong> – Target word classes</p></li>
<li><p><strong>slots</strong> – Vacancy states of the slots in the target sentence.
Output parameter that will be modified as new words are placed
in the target sentence.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nltk.translate.ibm5.Slots">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nltk.translate.ibm5.</span></span><span class="sig-name descname"><span class="pre">Slots</span></span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#Slots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.Slots" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents positions in a target sentence. Used to keep track of
which slot (position) is occupied.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.Slots.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_sentence_length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#Slots.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.Slots.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.Slots.occupy">
<span class="sig-name descname"><span class="pre">occupy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#Slots.occupy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.Slots.occupy" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Mark slot at <code class="docutils literal notranslate"><span class="pre">position</span></code> as occupied</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.translate.ibm5.Slots.vacancies_at">
<span class="sig-name descname"><span class="pre">vacancies_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/translate/ibm5.html#Slots.vacancies_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.translate.ibm5.Slots.vacancies_at" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number of vacant slots up to, and including, <code class="docutils literal notranslate"><span class="pre">position</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/api/nltk.translate.ibm5.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>