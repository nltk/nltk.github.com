<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: nltk.metrics.confusionmatrix module</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nltk.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="module-nltk.metrics.confusionmatrix">
<span id="nltk-metrics-confusionmatrix-module"></span><h1>nltk.metrics.confusionmatrix module<a class="headerlink" href="#module-nltk.metrics.confusionmatrix" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="nltk.metrics.confusionmatrix.ConfusionMatrix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nltk.metrics.confusionmatrix.</span></span><span class="sig-name descname"><span class="pre">ConfusionMatrix</span></span><a class="reference internal" href="../_modules/nltk/metrics/confusionmatrix.html#ConfusionMatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.confusionmatrix.ConfusionMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The confusion matrix between a list of reference values and a
corresponding list of test values.  Entry <em>[r,t]</em> of this
matrix is a count of the number of times that the reference value
<em>r</em> corresponds to the test value <em>t</em>.  E.g.:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.metrics</span> <span class="kn">import</span> <span class="n">ConfusionMatrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ref</span>  <span class="o">=</span> <span class="s1">&#39;DET NN VB DET JJ NN NN IN DET NN&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span> <span class="o">=</span> <span class="s1">&#39;DET VB VB DET NN NN NN IN DET NN&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cm</span> <span class="o">=</span> <span class="n">ConfusionMatrix</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">test</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cm</span><span class="p">[</span><span class="s1">&#39;NN&#39;</span><span class="p">,</span> <span class="s1">&#39;NN&#39;</span><span class="p">])</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Note that the diagonal entries <em>Ri=Tj</em> of this matrix
corresponds to correct values; and the off-diagonal entries
correspond to incorrect values.</p>
<dl class="py method">
<dt class="sig sig-object py" id="nltk.metrics.confusionmatrix.ConfusionMatrix.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/confusionmatrix.html#ConfusionMatrix.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.confusionmatrix.ConfusionMatrix.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new confusion matrix from a list of reference
values and a corresponding list of test values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reference</strong> (<em>list</em>) – An ordered list of reference values.</p></li>
<li><p><strong>test</strong> (<em>list</em>) – A list of values to compare against the
corresponding reference values.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">reference</span></code> and <code class="docutils literal notranslate"><span class="pre">length</span></code> do not have
the same length.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.metrics.confusionmatrix.ConfusionMatrix.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/confusionmatrix.html#ConfusionMatrix.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.confusionmatrix.ConfusionMatrix.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Tabulate the <strong>recall</strong>, <strong>precision</strong> and <strong>f-measure</strong>
for each value in this confusion matrix.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reference</span> <span class="o">=</span> <span class="s2">&quot;DET NN VB DET JJ NN NN IN DET NN&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span> <span class="o">=</span> <span class="s2">&quot;DET VB VB DET NN NN NN IN DET NN&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cm</span> <span class="o">=</span> <span class="n">ConfusionMatrix</span><span class="p">(</span><span class="n">reference</span><span class="p">,</span> <span class="n">test</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">evaluate</span><span class="p">())</span>
<span class="go">Tag | Prec.  | Recall | F-measure</span>
<span class="go">----+--------+--------+-----------</span>
<span class="go">DET | 1.0000 | 1.0000 | 1.0000</span>
<span class="go"> IN | 1.0000 | 1.0000 | 1.0000</span>
<span class="go"> JJ | 0.0000 | 0.0000 | 0.0000</span>
<span class="go"> NN | 0.7500 | 0.7500 | 0.7500</span>
<span class="go"> VB | 0.5000 | 1.0000 | 0.6667</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alpha</strong> (<em>float</em>) – Ratio of the cost of false negative compared to false
positives, as used in the f-measure computation. Defaults to 0.5,
where the costs are equal.</p></li>
<li><p><strong>truncate</strong> (<em>int</em><em>, </em><em>optional</em>) – If specified, then only show the specified
number of values. Any sorting (e.g., sort_by_count)
will be performed before truncation. Defaults to None</p></li>
<li><p><strong>sort_by_count</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to sort the outputs on frequency
in the reference label. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tabulated recall, precision and f-measure string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.metrics.confusionmatrix.ConfusionMatrix.f_measure">
<span class="sig-name descname"><span class="pre">f_measure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/confusionmatrix.html#ConfusionMatrix.f_measure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.confusionmatrix.ConfusionMatrix.f_measure" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a value used in the confusion matrix, return the f-measure
that corresponds to this value. The f-measure is the harmonic mean
of the <code class="docutils literal notranslate"><span class="pre">precision</span></code> and <code class="docutils literal notranslate"><span class="pre">recall</span></code>, weighted by <code class="docutils literal notranslate"><span class="pre">alpha</span></code>.
In particular, given the precision <em>p</em> and recall <em>r</em> defined by:</p>
<ul class="simple">
<li><p><em>p</em> = true positive / (true positive + false negative)</p></li>
<li><p><em>r</em> = true positive / (true positive + false positive)</p></li>
</ul>
<p>The f-measure is:</p>
<ul class="simple">
<li><p><em>1/(alpha/p + (1-alpha)/r)</em></p></li>
</ul>
<p>With <code class="docutils literal notranslate"><span class="pre">alpha</span> <span class="pre">=</span> <span class="pre">0.5</span></code>, this reduces to:</p>
<ul class="simple">
<li><p><em>2pr / (p + r)</em></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – value used in the ConfusionMatrix</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – Ratio of the cost of false negative compared to false
positives. Defaults to 0.5, where the costs are equal.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the F-measure corresponding to <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.metrics.confusionmatrix.ConfusionMatrix.key">
<span class="sig-name descname"><span class="pre">key</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/confusionmatrix.html#ConfusionMatrix.key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.confusionmatrix.ConfusionMatrix.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.metrics.confusionmatrix.ConfusionMatrix.precision">
<span class="sig-name descname"><span class="pre">precision</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/confusionmatrix.html#ConfusionMatrix.precision"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.confusionmatrix.ConfusionMatrix.precision" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a value in the confusion matrix, return the precision
that corresponds to this value. The precision is defined as:</p>
<ul class="simple">
<li><p><em>p</em> = true positive / (true positive + false negative)</p></li>
</ul>
<p>and can loosely be considered the ratio of how often <code class="docutils literal notranslate"><span class="pre">value</span></code>
was predicted correctly relative to the number of predictions
for <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – value used in the ConfusionMatrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the precision corresponding to <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.metrics.confusionmatrix.ConfusionMatrix.pretty_format">
<span class="sig-name descname"><span class="pre">pretty_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_percents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values_in_chart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/confusionmatrix.html#ConfusionMatrix.pretty_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.confusionmatrix.ConfusionMatrix.pretty_format" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A multi-line string representation of this confusion matrix.</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>truncate</strong> (<em>int</em>) – If specified, then only show the specified
number of values.  Any sorting (e.g., sort_by_count)
will be performed before truncation.</p></li>
<li><p><strong>sort_by_count</strong> – If true, then sort by the count of each
label in the reference data.  I.e., labels that occur more
frequently in the reference label will be towards the left
edge of the matrix, and labels that occur less frequently
will be towards the right edge.</p></li>
</ul>
</dd>
</dl>
<p>&#64;todo: add marginals?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nltk.metrics.confusionmatrix.ConfusionMatrix.recall">
<span class="sig-name descname"><span class="pre">recall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/confusionmatrix.html#ConfusionMatrix.recall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.confusionmatrix.ConfusionMatrix.recall" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a value in the confusion matrix, return the recall
that corresponds to this value. The recall is defined as:</p>
<ul class="simple">
<li><p><em>r</em> = true positive / (true positive + false positive)</p></li>
</ul>
<p>and can loosely be considered the ratio of how often <code class="docutils literal notranslate"><span class="pre">value</span></code>
was predicted correctly relative to how often <code class="docutils literal notranslate"><span class="pre">value</span></code> was
the true result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – value used in the ConfusionMatrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the recall corresponding to <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.confusionmatrix.demo">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.confusionmatrix.</span></span><span class="sig-name descname"><span class="pre">demo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/confusionmatrix.html#demo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.confusionmatrix.demo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/api/nltk.metrics.ConfusionMatrix.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>