<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: nltk.metrics.distance module</title>
  

  <link rel="stylesheet" href="../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="nltk.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="module-nltk.metrics.distance">
<span id="nltk-metrics-distance-module"></span><h1>nltk.metrics.distance module<a class="headerlink" href="#module-nltk.metrics.distance" title="Permalink to this heading">¶</a></h1>
<p>Distance Metrics.</p>
<p>Compute the distance between two items (usually strings).
As metrics, they must satisfy the following three requirements:</p>
<ol class="arabic simple">
<li><p>d(a, a) = 0</p></li>
<li><p>d(a, b) &gt;= 0</p></li>
<li><p>d(a, c) &lt;= d(a, b) + d(b, c)</p></li>
</ol>
<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.binary_distance">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">binary_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#binary_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.binary_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple equality test.</p>
<p>0.0 if the labels are identical, 1.0 if they are different.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.metrics</span> <span class="kn">import</span> <span class="n">binary_distance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">binary_distance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">binary_distance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.custom_distance">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">custom_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#custom_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.custom_distance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.demo">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">demo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#demo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.demo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.edit_distance">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">edit_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">substitution_cost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transpositions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#edit_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.edit_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Levenshtein edit-distance between two strings.
The edit distance is the number of characters that need to be
substituted, inserted, or deleted, to transform s1 into s2.  For
example, transforming “rain” to “shine” requires three steps,
consisting of two substitutions and one insertion:
“rain” -&gt; “sain” -&gt; “shin” -&gt; “shine”.  These operations could have
been done in other orders, but at least three steps are needed.</p>
<p>Allows specifying the cost of substitution edits (e.g., “a” -&gt; “b”),
because sometimes it makes sense to assign greater penalties to
substitutions.</p>
<p>This also optionally allows transposition edits (e.g., “ab” -&gt; “ba”),
though this is disabled by default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s2</strong> (<em>str</em>) – The strings to be analysed</p></li>
<li><p><strong>transpositions</strong> (<em>bool</em>) – Whether to allow transposition edits</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.edit_distance_align">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">edit_distance_align</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">substitution_cost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#edit_distance_align"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.edit_distance_align" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the minimum Levenshtein edit-distance based alignment
mapping between two strings. The alignment finds the mapping
from string s1 to s2 that minimizes the edit distance cost.
For example, mapping “rain” to “shine” would involve 2
substitutions, 2 matches and an insertion resulting in
the following mapping:
[(0, 0), (1, 1), (2, 2), (3, 3), (4, 4), (4, 5)]
NB: (0, 0) is the start state without any letters associated
See more: <a class="reference external" href="https://web.stanford.edu/class/cs124/lec/med.pdf">https://web.stanford.edu/class/cs124/lec/med.pdf</a></p>
<p>In case of multiple valid minimum-distance alignments, the
backtrace has the following operation precedence:</p>
<ol class="arabic simple">
<li><p>Substitute s1 and s2 characters</p></li>
<li><p>Skip s1 character</p></li>
<li><p>Skip s2 character</p></li>
</ol>
<p>The backtrace is carried out in reverse string order.</p>
<p>This function does not support transposition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s2</strong> (<em>str</em>) – The strings to be aligned</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="nltk.corpus.reader.markdown.html#nltk.corpus.reader.markdown.List" title="nltk.corpus.reader.markdown.List">List</a>[Tuple(int, int)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.fractional_presence">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">fractional_presence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#fractional_presence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.fractional_presence" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.interval_distance">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">interval_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#interval_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.interval_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Krippendorff’s interval distance metric</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.metrics</span> <span class="kn">import</span> <span class="n">interval_distance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interval_distance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">81</span>
</pre></div>
</div>
<p>Krippendorff 1980, Content Analysis: An Introduction to its Methodology</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.jaccard_distance">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">jaccard_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#jaccard_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.jaccard_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance metric comparing set-similarity.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.jaro_similarity">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">jaro_similarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#jaro_similarity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.jaro_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the Jaro similarity between 2 sequences from:</p>
<blockquote>
<div><p>Matthew A. Jaro (1989). Advances in record linkage methodology
as applied to the 1985 census of Tampa Florida. Journal of the
American Statistical Association. 84 (406): 414-20.</p>
</div></blockquote>
<p>The Jaro distance between is the min no. of single-character transpositions
required to change one word into another. The Jaro similarity formula from
<a class="reference external" href="https://en.wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance">https://en.wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance</a> :</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">jaro_sim</span> <span class="pre">=</span> <span class="pre">0</span> <span class="pre">if</span> <span class="pre">m</span> <span class="pre">=</span> <span class="pre">0</span> <span class="pre">else</span> <span class="pre">1/3</span> <span class="pre">*</span> <span class="pre">(m/|s_1|</span> <span class="pre">+</span> <span class="pre">m/s_2</span> <span class="pre">+</span> <span class="pre">(m-t)/m)</span></code></p>
</div></blockquote>
<dl class="simple">
<dt>where</dt><dd><ul class="simple">
<li><p><cite>|s_i|</cite> is the length of string <cite>s_i</cite></p></li>
<li><p><cite>m</cite> is the no. of matching characters</p></li>
<li><p><cite>t</cite> is the half no. of possible transpositions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.jaro_winkler_similarity">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">jaro_winkler_similarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_l</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#jaro_winkler_similarity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.jaro_winkler_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>The Jaro Winkler distance is an extension of the Jaro similarity in:</p>
<blockquote>
<div><p>William E. Winkler. 1990. String Comparator Metrics and Enhanced
Decision Rules in the Fellegi-Sunter Model of Record Linkage.
Proceedings of the Section on Survey Research Methods.
American Statistical Association: 354-359.</p>
</div></blockquote>
<p>such that:</p>
<blockquote>
<div><p>jaro_winkler_sim = jaro_sim + ( l * p * (1 - jaro_sim) )</p>
</div></blockquote>
<p>where,</p>
<ul class="simple">
<li><dl class="simple">
<dt>jaro_sim is the output from the Jaro Similarity,</dt><dd><p>see jaro_similarity()</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>l is the length of common prefix at the start of the string</dt><dd><ul>
<li><dl class="simple">
<dt>this implementation provides an upperbound for the l value</dt><dd><p>to keep the prefixes.A common value of this upperbound is 4.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>p is the constant scaling factor to overweigh common prefixes.</dt><dd><p>The Jaro-Winkler similarity will fall within the [0, 1] bound,
given that max(p)&lt;=0.25 , default is p=0.1 in Winkler (1990)</p>
</dd>
</dl>
</li>
</ul>
<p>Test using outputs from <a class="reference external" href="https://www.census.gov/srd/papers/pdf/rr93-8.pdf">https://www.census.gov/srd/papers/pdf/rr93-8.pdf</a>
from “Table 5 Comparison of String Comparators Rescaled between 0 and 1”</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">winkler_examples</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;billy&quot;</span><span class="p">,</span> <span class="s2">&quot;billy&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;billy&quot;</span><span class="p">,</span> <span class="s2">&quot;bill&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;billy&quot;</span><span class="p">,</span> <span class="s2">&quot;blily&quot;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">(</span><span class="s2">&quot;massie&quot;</span><span class="p">,</span> <span class="s2">&quot;massey&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;yvette&quot;</span><span class="p">,</span> <span class="s2">&quot;yevett&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;billy&quot;</span><span class="p">,</span> <span class="s2">&quot;bolly&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;dwayne&quot;</span><span class="p">,</span> <span class="s2">&quot;duane&quot;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">(</span><span class="s2">&quot;dixon&quot;</span><span class="p">,</span> <span class="s2">&quot;dickson&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;billy&quot;</span><span class="p">,</span> <span class="s2">&quot;susan&quot;</span><span class="p">)]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">winkler_scores</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.000</span><span class="p">,</span> <span class="mf">0.967</span><span class="p">,</span> <span class="mf">0.947</span><span class="p">,</span> <span class="mf">0.944</span><span class="p">,</span> <span class="mf">0.911</span><span class="p">,</span> <span class="mf">0.893</span><span class="p">,</span> <span class="mf">0.858</span><span class="p">,</span> <span class="mf">0.853</span><span class="p">,</span> <span class="mf">0.000</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jaro_scores</span> <span class="o">=</span>    <span class="p">[</span><span class="mf">1.000</span><span class="p">,</span> <span class="mf">0.933</span><span class="p">,</span> <span class="mf">0.933</span><span class="p">,</span> <span class="mf">0.889</span><span class="p">,</span> <span class="mf">0.889</span><span class="p">,</span> <span class="mf">0.867</span><span class="p">,</span> <span class="mf">0.822</span><span class="p">,</span> <span class="mf">0.790</span><span class="p">,</span> <span class="mf">0.000</span><span class="p">]</span>
</pre></div>
</div>
<p>One way to match the values on the Winkler’s paper is to provide a different
p scaling factor for different pairs of strings, e.g.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p_factors</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">),</span> <span class="n">jscore</span><span class="p">,</span> <span class="n">wscore</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">winkler_examples</span><span class="p">,</span> <span class="n">jaro_scores</span><span class="p">,</span> <span class="n">winkler_scores</span><span class="p">,</span> <span class="n">p_factors</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="nb">round</span><span class="p">(</span><span class="n">jaro_similarity</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">jscore</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="nb">round</span><span class="p">(</span><span class="n">jaro_winkler_similarity</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">wscore</span>
</pre></div>
</div>
<p>Test using outputs from <a class="reference external" href="https://www.census.gov/srd/papers/pdf/rr94-5.pdf">https://www.census.gov/srd/papers/pdf/rr94-5.pdf</a> from
“Table 2.1. Comparison of String Comparators Using Last Names, First Names, and Street Names”</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">winkler_examples</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;SHACKLEFORD&#39;</span><span class="p">,</span> <span class="s1">&#39;SHACKELFORD&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;DUNNINGHAM&#39;</span><span class="p">,</span> <span class="s1">&#39;CUNNIGHAM&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;NICHLESON&#39;</span><span class="p">,</span> <span class="s1">&#39;NICHULSON&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;JONES&#39;</span><span class="p">,</span> <span class="s1">&#39;JOHNSON&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;MASSEY&#39;</span><span class="p">,</span> <span class="s1">&#39;MASSIE&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;ABROMS&#39;</span><span class="p">,</span> <span class="s1">&#39;ABRAMS&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;HARDIN&#39;</span><span class="p">,</span> <span class="s1">&#39;MARTINEZ&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;ITMAN&#39;</span><span class="p">,</span> <span class="s1">&#39;SMITH&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;JERALDINE&#39;</span><span class="p">,</span> <span class="s1">&#39;GERALDINE&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;MARHTA&#39;</span><span class="p">,</span> <span class="s1">&#39;MARTHA&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;MICHELLE&#39;</span><span class="p">,</span> <span class="s1">&#39;MICHAEL&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;JULIES&#39;</span><span class="p">,</span> <span class="s1">&#39;JULIUS&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;TANYA&#39;</span><span class="p">,</span> <span class="s1">&#39;TONYA&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;DWAYNE&#39;</span><span class="p">,</span> <span class="s1">&#39;DUANE&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;SEAN&#39;</span><span class="p">,</span> <span class="s1">&#39;SUSAN&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;JON&#39;</span><span class="p">,</span> <span class="s1">&#39;JOHN&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;JON&#39;</span><span class="p">,</span> <span class="s1">&#39;JAN&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;BROOKHAVEN&#39;</span><span class="p">,</span> <span class="s1">&#39;BRROKHAVEN&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;BROOK HALLOW&#39;</span><span class="p">,</span> <span class="s1">&#39;BROOK HLLW&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;DECATUR&#39;</span><span class="p">,</span> <span class="s1">&#39;DECATIR&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;FITZRUREITER&#39;</span><span class="p">,</span> <span class="s1">&#39;FITZENREITER&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">(</span><span class="s1">&#39;HIGBEE&#39;</span><span class="p">,</span> <span class="s1">&#39;HIGHEE&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;HIGBEE&#39;</span><span class="p">,</span> <span class="s1">&#39;HIGVEE&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;LACURA&#39;</span><span class="p">,</span> <span class="s1">&#39;LOCURA&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;IOWA&#39;</span><span class="p">,</span> <span class="s1">&#39;IONA&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1ST&#39;</span><span class="p">,</span> <span class="s1">&#39;IST&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jaro_scores</span> <span class="o">=</span>   <span class="p">[</span><span class="mf">0.970</span><span class="p">,</span> <span class="mf">0.896</span><span class="p">,</span> <span class="mf">0.926</span><span class="p">,</span> <span class="mf">0.790</span><span class="p">,</span> <span class="mf">0.889</span><span class="p">,</span> <span class="mf">0.889</span><span class="p">,</span> <span class="mf">0.722</span><span class="p">,</span> <span class="mf">0.467</span><span class="p">,</span> <span class="mf">0.926</span><span class="p">,</span>
<span class="gp">... </span><span class="mf">0.944</span><span class="p">,</span> <span class="mf">0.869</span><span class="p">,</span> <span class="mf">0.889</span><span class="p">,</span> <span class="mf">0.867</span><span class="p">,</span> <span class="mf">0.822</span><span class="p">,</span> <span class="mf">0.783</span><span class="p">,</span> <span class="mf">0.917</span><span class="p">,</span> <span class="mf">0.000</span><span class="p">,</span> <span class="mf">0.933</span><span class="p">,</span> <span class="mf">0.944</span><span class="p">,</span> <span class="mf">0.905</span><span class="p">,</span>
<span class="gp">... </span><span class="mf">0.856</span><span class="p">,</span> <span class="mf">0.889</span><span class="p">,</span> <span class="mf">0.889</span><span class="p">,</span> <span class="mf">0.889</span><span class="p">,</span> <span class="mf">0.833</span><span class="p">,</span> <span class="mf">0.000</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">winkler_scores</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.982</span><span class="p">,</span> <span class="mf">0.896</span><span class="p">,</span> <span class="mf">0.956</span><span class="p">,</span> <span class="mf">0.832</span><span class="p">,</span> <span class="mf">0.944</span><span class="p">,</span> <span class="mf">0.922</span><span class="p">,</span> <span class="mf">0.722</span><span class="p">,</span> <span class="mf">0.467</span><span class="p">,</span> <span class="mf">0.926</span><span class="p">,</span>
<span class="gp">... </span><span class="mf">0.961</span><span class="p">,</span> <span class="mf">0.921</span><span class="p">,</span> <span class="mf">0.933</span><span class="p">,</span> <span class="mf">0.880</span><span class="p">,</span> <span class="mf">0.858</span><span class="p">,</span> <span class="mf">0.805</span><span class="p">,</span> <span class="mf">0.933</span><span class="p">,</span> <span class="mf">0.000</span><span class="p">,</span> <span class="mf">0.947</span><span class="p">,</span> <span class="mf">0.967</span><span class="p">,</span> <span class="mf">0.943</span><span class="p">,</span>
<span class="gp">... </span><span class="mf">0.913</span><span class="p">,</span> <span class="mf">0.922</span><span class="p">,</span> <span class="mf">0.922</span><span class="p">,</span> <span class="mf">0.900</span><span class="p">,</span> <span class="mf">0.867</span><span class="p">,</span> <span class="mf">0.000</span><span class="p">]</span>
</pre></div>
</div>
<p>One way to match the values on the Winkler’s paper is to provide a different
p scaling factor for different pairs of strings, e.g.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p_factors</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span>
<span class="gp">... </span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">),</span> <span class="n">jscore</span><span class="p">,</span> <span class="n">wscore</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">winkler_examples</span><span class="p">,</span> <span class="n">jaro_scores</span><span class="p">,</span> <span class="n">winkler_scores</span><span class="p">,</span> <span class="n">p_factors</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[(</span><span class="s1">&#39;JON&#39;</span><span class="p">,</span> <span class="s1">&#39;JAN&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1ST&#39;</span><span class="p">,</span> <span class="s1">&#39;IST&#39;</span><span class="p">)]:</span>
<span class="gp">... </span>        <span class="k">continue</span>  <span class="c1"># Skip bad examples from the paper.</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="nb">round</span><span class="p">(</span><span class="n">jaro_similarity</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">jscore</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="nb">round</span><span class="p">(</span><span class="n">jaro_winkler_similarity</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">wscore</span>
</pre></div>
</div>
<p>This test-case proves that the output of Jaro-Winkler similarity depends on
the product  l * p and not on the product max_l * p. Here the product max_l * p &gt; 1
however the product l * p &lt;= 1</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">jaro_winkler_similarity</span><span class="p">(</span><span class="s1">&#39;TANYA&#39;</span><span class="p">,</span> <span class="s1">&#39;TONYA&#39;</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">max_l</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">0.88</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.masi_distance">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">masi_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#masi_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.masi_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance metric that takes into account partial agreement when multiple
labels are assigned.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nltk.metrics</span> <span class="kn">import</span> <span class="n">masi_distance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">masi_distance</span><span class="p">(</span><span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
<span class="go">0.665</span>
</pre></div>
</div>
<p>Passonneau 2006, Measuring Agreement on Set-Valued Items (MASI)
for Semantic and Pragmatic Annotation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nltk.metrics.distance.presence">
<span class="sig-prename descclassname"><span class="pre">nltk.metrics.distance.</span></span><span class="sig-name descname"><span class="pre">presence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nltk/metrics/distance.html#presence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nltk.metrics.distance.presence" title="Permalink to this definition">¶</a></dt>
<dd><p>Higher-order function to test presence of a given label</p>
</dd></dl>

</section>


        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/api/nltk.metrics.distance.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>