<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: nltk.test.unit.test_tgrep</title>
  

  <link rel="stylesheet" href="../../../../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../../../../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../../../../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/nltk.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <h1>Source code for nltk.test.unit.test_tgrep</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1">#</span>
<span class="c1"># Natural Language Toolkit: TGrep search</span>
<span class="c1">#</span>
<span class="c1"># Copyright (C) 2001-2023 NLTK Project</span>
<span class="c1"># Author: Will Roberts &lt;wildwilhelm@gmail.com&gt;</span>
<span class="c1"># URL: &lt;https://www.nltk.org/&gt;</span>
<span class="c1"># For license information, see LICENSE.TXT</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Unit tests for nltk.tgrep.</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">nltk</span> <span class="kn">import</span> <span class="n">tgrep</span>
<span class="kn">from</span> <span class="nn">nltk.tree</span> <span class="kn">import</span> <span class="n">ParentedTree</span>


<div class="viewcode-block" id="TestSequenceFunctions"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions">[docs]</a><span class="k">class</span> <span class="nc">TestSequenceFunctions</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class containing unit tests for nltk.tgrep.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="TestSequenceFunctions.test_tokenize_simple"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_tokenize_simple">[docs]</a>    <span class="k">def</span> <span class="nf">test_tokenize_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Simple test of tokenization.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A .. (B !&lt; C . D) | ![&lt;&lt; (E , F) $ G]&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tokens</span><span class="p">,</span>
            <span class="p">[</span>
                <span class="s2">&quot;A&quot;</span><span class="p">,</span>
                <span class="s2">&quot;..&quot;</span><span class="p">,</span>
                <span class="s2">&quot;(&quot;</span><span class="p">,</span>
                <span class="s2">&quot;B&quot;</span><span class="p">,</span>
                <span class="s2">&quot;!&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;C&quot;</span><span class="p">,</span>
                <span class="s2">&quot;.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;D&quot;</span><span class="p">,</span>
                <span class="s2">&quot;)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;|&quot;</span><span class="p">,</span>
                <span class="s2">&quot;!&quot;</span><span class="p">,</span>
                <span class="s2">&quot;[&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;(&quot;</span><span class="p">,</span>
                <span class="s2">&quot;E&quot;</span><span class="p">,</span>
                <span class="s2">&quot;,&quot;</span><span class="p">,</span>
                <span class="s2">&quot;F&quot;</span><span class="p">,</span>
                <span class="s2">&quot;)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;$&quot;</span><span class="p">,</span>
                <span class="s2">&quot;G&quot;</span><span class="p">,</span>
                <span class="s2">&quot;]&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_tokenize_encoding"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_tokenize_encoding">[docs]</a>    <span class="k">def</span> <span class="nf">test_tokenize_encoding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test that tokenization handles bytes and strs the same way.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;A .. (B !&lt; C . D) | ![&lt;&lt; (E , F) $ G]&quot;</span><span class="p">),</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A .. (B !&lt; C . D) | ![&lt;&lt; (E , F) $ G]&quot;</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_tokenize_link_types"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_tokenize_link_types">[docs]</a>    <span class="k">def</span> <span class="nf">test_tokenize_link_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test tokenization of basic link types.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;3B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;3&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;3B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;3&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;-3B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;-3&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;-3B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;-3&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;-B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;-&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;-B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;-&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;&#39;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;&#39;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;:B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;:&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;:B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;:&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;&lt;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;&gt;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;&lt;,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;&gt;,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&gt;,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;&lt;&#39;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;&gt;&#39;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&gt;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;&lt;:B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;:&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&gt;&gt;:B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&gt;:&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A.B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A..B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A,,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;,,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A$B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A$.B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;$.&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A$,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;$,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A$..B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;$..&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A$,,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;$,,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;3B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;3&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;3B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;3&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;-3B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;-3&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;-3B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;-3&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;-B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;-&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;-B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;-&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;&#39;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;&#39;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;:B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;:&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;:B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;:&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;&lt;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;&gt;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;&lt;,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;&gt;,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&gt;,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;&lt;&#39;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;&gt;&#39;B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&gt;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&lt;&lt;:B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;:&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!&gt;&gt;:B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&gt;:&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!.B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!..B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!,,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;,,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!$B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!$.B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;$.&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!$,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;$,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!$..B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;$..&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A!$,,B&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;$,,&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_tokenize_examples"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_tokenize_examples">[docs]</a>    <span class="k">def</span> <span class="nf">test_tokenize_examples</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test tokenization of the TGrep2 manual example patterns.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;NP &lt; PP&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;NP&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;PP&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;/^NP/&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;/^NP/&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;NP &lt;&lt; PP . VP&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;NP&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;PP&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;VP&quot;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;NP &lt;&lt; PP | . VP&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;NP&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;PP&quot;</span><span class="p">,</span> <span class="s2">&quot;|&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;VP&quot;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;NP !&lt;&lt; PP [&gt; NP | &gt;&gt; VP]&quot;</span><span class="p">),</span>
            <span class="p">[</span><span class="s2">&quot;NP&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;PP&quot;</span><span class="p">,</span> <span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;NP&quot;</span><span class="p">,</span> <span class="s2">&quot;|&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;VP&quot;</span><span class="p">,</span> <span class="s2">&quot;]&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;NP &lt;&lt; (PP . VP)&quot;</span><span class="p">),</span>
            <span class="p">[</span><span class="s2">&quot;NP&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;PP&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;VP&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;NP &lt;&#39; (PP &lt;, (IN &lt; on))&quot;</span><span class="p">),</span>
            <span class="p">[</span><span class="s2">&quot;NP&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;PP&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;,&quot;</span><span class="p">,</span> <span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;IN&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;on&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;S &lt; (A &lt; B) &lt; C&quot;</span><span class="p">),</span>
            <span class="p">[</span><span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;S &lt; ((A &lt; B) &lt; C)&quot;</span><span class="p">),</span>
            <span class="p">[</span><span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;S &lt; (A &lt; B &lt; C)&quot;</span><span class="p">),</span>
            <span class="p">[</span><span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;A&lt;B&amp;.C&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;&amp;&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_tokenize_quoting"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_tokenize_quoting">[docs]</a>    <span class="k">def</span> <span class="nf">test_tokenize_quoting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test tokenization of quoting.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s1">&#39;&quot;A&lt;&lt;:B&quot;&lt;&lt;:&quot;A $.. B&quot;&lt;&quot;A&gt;3B&quot;&lt;C&#39;</span><span class="p">),</span>
            <span class="p">[</span><span class="s1">&#39;&quot;A&lt;&lt;:B&quot;&#39;</span><span class="p">,</span> <span class="s2">&quot;&lt;&lt;:&quot;</span><span class="p">,</span> <span class="s1">&#39;&quot;A $.. B&quot;&#39;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s1">&#39;&quot;A&gt;3B&quot;&#39;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">],</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_tokenize_nodenames"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_tokenize_nodenames">[docs]</a>    <span class="k">def</span> <span class="nf">test_tokenize_nodenames</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test tokenization of node names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;Robert&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;Robert&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;/^[Bb]ob/&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;/^[Bb]ob/&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;__&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;__&quot;</span><span class="p">])</span>
        <span class="c1"># test tokenization of NLTK tree position syntax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;N()&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;N(&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;N(0,)&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;N(&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;N(0,0)&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;N(&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;N(0,0,)&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;N(&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_tokenize_macros"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_tokenize_macros">[docs]</a>    <span class="k">def</span> <span class="nf">test_tokenize_macros</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test tokenization of macro definitions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span>
                <span class="s2">&quot;@ NP /^NP/;</span><span class="se">\n</span><span class="s2">@ NN /^NN/;</span><span class="se">\n</span><span class="s2">@NP [!&lt; NP | &lt; @NN] !$.. @NN&quot;</span>
            <span class="p">),</span>
            <span class="p">[</span>
                <span class="s2">&quot;@&quot;</span><span class="p">,</span>
                <span class="s2">&quot;NP&quot;</span><span class="p">,</span>
                <span class="s2">&quot;/^NP/&quot;</span><span class="p">,</span>
                <span class="s2">&quot;;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@&quot;</span><span class="p">,</span>
                <span class="s2">&quot;NN&quot;</span><span class="p">,</span>
                <span class="s2">&quot;/^NN/&quot;</span><span class="p">,</span>
                <span class="s2">&quot;;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@NP&quot;</span><span class="p">,</span>
                <span class="s2">&quot;[&quot;</span><span class="p">,</span>
                <span class="s2">&quot;!&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;NP&quot;</span><span class="p">,</span>
                <span class="s2">&quot;|&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@NN&quot;</span><span class="p">,</span>
                <span class="s2">&quot;]&quot;</span><span class="p">,</span>
                <span class="s2">&quot;!&quot;</span><span class="p">,</span>
                <span class="s2">&quot;$..&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@NN&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_node_simple"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_node_simple">[docs]</a>    <span class="k">def</span> <span class="nf">test_node_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test a simple use of tgrep for finding nodes matching a given</span>
<span class="sd">        pattern.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (NP (DT the) (JJ big) (NN dog)) &quot;</span> <span class="s2">&quot;(VP bit) (NP (DT a) (NN cat)))&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NN&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_nodes</span><span class="p">(</span><span class="s2">&quot;NN&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[</span><span class="n">tree</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">tree</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NN|JJ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_node_printing"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_node_printing">[docs]</a>    <span class="k">def</span> <span class="nf">test_node_printing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test that the tgrep print operator &#39; is properly ignored.&quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (n x) (N x))&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;N&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;&#39;N&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;/[Nn]/&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;&#39;/[Nn]/&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_node_encoding"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_node_encoding">[docs]</a>    <span class="k">def</span> <span class="nf">test_node_encoding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test that tgrep search strings handles bytes and strs the same</span>
<span class="sd">        way.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (NP (DT the) (JJ big) (NN dog)) &quot;</span> <span class="s2">&quot;(VP bit) (NP (DT a) (NN cat)))&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;NN&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;NN&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_nodes</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;NN&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_nodes</span><span class="p">(</span><span class="s2">&quot;NN&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;NN|JJ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NN|JJ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_node_nocase"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_node_nocase">[docs]</a>    <span class="k">def</span> <span class="nf">test_node_nocase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test selecting nodes using case insensitive node names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (n x) (N x))&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s1">&#39;&quot;N&quot;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s1">&#39;i@&quot;N&quot;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)]])</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_node_quoted"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_node_quoted">[docs]</a>    <span class="k">def</span> <span class="nf">test_node_quoted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test selecting nodes using quoted node names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s1">&#39;(N (&quot;N&quot; x) (N&quot; x) (&quot;</span><span class="se">\\</span><span class="s1">&quot; x))&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s1">&#39;&quot;N&quot;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[()]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s1">&#39;&quot;</span><span class="se">\\</span><span class="s1">&quot;N</span><span class="se">\\</span><span class="s1">&quot;&quot;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s1">&#39;&quot;N</span><span class="se">\\</span><span class="s1">&quot;&quot;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s1">&#39;&quot;</span><span class="se">\\</span><span class="s1">&quot;</span><span class="se">\\\\\\</span><span class="s1">&quot;&quot;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">2</span><span class="p">,)]])</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_node_regex"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_node_regex">[docs]</a>    <span class="k">def</span> <span class="nf">test_node_regex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test regex matching on nodes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (NP-SBJ x) (NP x) (NNP x) (VP x))&quot;</span><span class="p">)</span>
        <span class="c1"># This is a regular expression that matches any node whose</span>
        <span class="c1"># name starts with NP, including NP-SBJ:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;/^NP/&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)]])</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_node_regex_2"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_node_regex_2">[docs]</a>    <span class="k">def</span> <span class="nf">test_node_regex_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test regex matching on nodes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (SBJ x) (SBJ1 x) (NP-SBJ x))&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;/^SBJ/&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="c1"># This is a regular expression that matches any node whose</span>
        <span class="c1"># name includes SBJ, including NP-SBJ:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;/SBJ/&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)]]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_node_tree_position"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_node_tree_position">[docs]</a>    <span class="k">def</span> <span class="nf">test_node_tree_position</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test matching on nodes based on NLTK tree position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (NP-SBJ x) (NP x) (NNP x) (VP x))&quot;</span><span class="p">)</span>
        <span class="c1"># test all tree positions that are not leaves</span>
        <span class="n">leaf_positions</span> <span class="o">=</span> <span class="p">{</span><span class="n">tree</span><span class="o">.</span><span class="n">leaf_treeposition</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">leaves</span><span class="p">()))}</span>
        <span class="n">tree_positions</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">treepositions</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">leaf_positions</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">tree_positions</span><span class="p">:</span>
            <span class="n">node_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;N</span><span class="si">{</span><span class="n">position</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">tgrep_positions</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tgrep_positions</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">tgrep_positions</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_node_noleaves"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_node_noleaves">[docs]</a>    <span class="k">def</span> <span class="nf">test_node_noleaves</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test node name matching with the search_leaves flag set to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (A (T x)) (B (N x)))&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">],</span> <span class="kc">False</span><span class="p">)),</span> <span class="p">[[]])</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.tests_rel_dominance"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.tests_rel_dominance">[docs]</a>    <span class="k">def</span> <span class="nf">tests_rel_dominance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test matching nodes based on dominance relations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (A (T x)) (B (N x)))&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt; T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt; T &gt; S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* !&lt; T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* !&lt; T &gt; S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt; A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt; B&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* !&gt; B&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* !&gt; B &gt;&gt; S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)]]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;&gt; S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;&gt;, S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;&gt;&#39; S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]]</span>
        <span class="p">)</span>
        <span class="c1"># Known issue:</span>
        <span class="c1"># self.assertEqual(list(tgrep.tgrep_positions(&#39;* !&gt;&gt; S&#39;, [tree])),</span>
        <span class="c1">#                 [[()]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;&lt; T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;&lt;&#39; T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;&lt;1 N&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* !&lt;&lt; T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (A (T x)) (B (T x) (N x )))&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;: T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt; T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* !&lt;: T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* !&lt;: T &gt; S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (T (A x) (B x)) (T (C x)))&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;: T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* !&gt;: T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (A (B (C (D (E (T x))))))&quot;</span> <span class="s2">&quot; (A (B (C (D (E (T x))) (N x)))))&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;&lt;: T&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[</span>
                <span class="p">[</span>
                    <span class="p">(</span><span class="mi">0</span><span class="p">,),</span>
                    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;&gt;: A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[</span>
                <span class="p">[</span>
                    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_bad_operator"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_bad_operator">[docs]</a>    <span class="k">def</span> <span class="nf">test_bad_operator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test error handling of undefined tgrep operators.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (A (T x)) (B (N x)))&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">TgrepException</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;&gt;&gt; S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_comments"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_comments">[docs]</a>    <span class="k">def</span> <span class="nf">test_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test that comments are correctly filtered out of tgrep search</span>
<span class="sd">        strings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (NN x) (NP x) (NN x))&quot;</span><span class="p">)</span>
        <span class="n">search1</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        @ NP /^NP/;</span>
<span class="s2">        @ NN /^NN/;</span>
<span class="s2">        @NN</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search1</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)]])</span>
        <span class="n">search2</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        # macros</span>
<span class="s2">        @ NP /^NP/;</span>
<span class="s2">        @ NN /^NN/;</span>

<span class="s2">        # search string</span>
<span class="s2">        @NN</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search2</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)]])</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_rel_sister_nodes"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_rel_sister_nodes">[docs]</a>    <span class="k">def</span> <span class="nf">test_rel_sister_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test matching sister nodes in a tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (A x) (B x) (C x))&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* $. B&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* $.. B&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* $, B&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">2</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* $,, B&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">2</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* $ B&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)]])</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.tests_rel_indexed_children"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.tests_rel_indexed_children">[docs]</a>    <span class="k">def</span> <span class="nf">tests_rel_indexed_children</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test matching nodes based on their index in their parent node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (A x) (B x) (C x))&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;, S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;1 S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;2 S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;3 S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">2</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;&#39; S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">2</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;-1 S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">2</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;-2 S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &gt;-3 S&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (D (A x) (B x) (C x)) (E (B x) (C x) (A x)) &quot;</span> <span class="s2">&quot;(F (C x) (A x) (B x)))&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;, A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;1 A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;2 A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">2</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;3 A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;&#39; A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;-1 A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;-2 A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">2</span><span class="p">,)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* &lt;-3 A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]])</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_rel_precedence"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_rel_precedence">[docs]</a>    <span class="k">def</span> <span class="nf">test_rel_precedence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test matching nodes based on precedence relations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (NP (NP (PP x)) (NP (AP x)))&quot;</span>
            <span class="s2">&quot; (VP (AP (X (PP x)) (Y (AP x))))&quot;</span>
            <span class="s2">&quot; (NP (RC (NP (AP x)))))&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* . X&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* . Y&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* .. X&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* .. Y&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* , X&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* , Y&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(</span><span class="mi">2</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* ,, X&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;* ,, Y&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(</span><span class="mi">2</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]],</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_examples"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_examples">[docs]</a>    <span class="k">def</span> <span class="nf">test_examples</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test the Basic Examples from the TGrep2 manual.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (NP (AP x)) (NP (PP x)))&quot;</span><span class="p">)</span>
        <span class="c1"># This matches any NP node that immediately dominates a PP:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NP &lt; PP&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]])</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;(S (NP x) (VP x) (NP (PP x)) (VP x))&quot;</span><span class="p">)</span>
        <span class="c1"># This matches an NP that dominates a PP and is immediately</span>
        <span class="c1"># followed by a VP:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NP &lt;&lt; PP . VP&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">2</span><span class="p">,)]])</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (NP (AP x)) (NP (PP x)) &quot;</span> <span class="s2">&quot;(NP (DET x) (NN x)) (VP x))&quot;</span>
        <span class="p">)</span>
        <span class="c1"># This matches an NP that dominates a PP or is immediately</span>
        <span class="c1"># followed by a VP:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NP &lt;&lt; PP | . VP&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)]]</span>
        <span class="p">)</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (NP (NP (PP x)) (NP (AP x)))&quot;</span>
            <span class="s2">&quot; (VP (AP (NP (PP x)) (NP (AP x))))&quot;</span>
            <span class="s2">&quot; (NP (RC (NP (AP x)))))&quot;</span>
        <span class="p">)</span>
        <span class="c1"># This matches an NP that does not dominate a PP. Also, the NP</span>
        <span class="c1"># must either have a parent that is an NP or be dominated by a</span>
        <span class="c1"># VP:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NP !&lt;&lt; PP [&gt; NP | &gt;&gt; VP]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span>
            <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]],</span>
        <span class="p">)</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (NP (AP (PP x) (VP x))) &quot;</span> <span class="s2">&quot;(NP (AP (PP x) (NP x))) (NP x))&quot;</span>
        <span class="p">)</span>
        <span class="c1"># This matches an NP that dominates a PP which itself is</span>
        <span class="c1"># immediately followed by a VP. Note the use of parentheses to</span>
        <span class="c1"># group &quot;. VP&quot; with the PP rather than with the NP:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NP &lt;&lt; (PP . VP)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]]</span>
        <span class="p">)</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (NP (DET a) (NN cat) (PP (IN on) (NP x)))&quot;</span>
            <span class="s2">&quot; (NP (DET a) (NN cat) (PP (IN on) (NP x)) (PP x))&quot;</span>
            <span class="s2">&quot; (NP x))&quot;</span>
        <span class="p">)</span>
        <span class="c1"># This matches an NP whose last child is a PP that begins with</span>
        <span class="c1"># the preposition &quot;on&quot;:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NP &lt;&#39; (PP &lt;, (IN &lt; on))&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]]</span>
        <span class="p">)</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (S (C x) (A (B x))) (S (C x) (A x)) &quot;</span> <span class="s2">&quot;(S (D x) (A (B x))))&quot;</span>
        <span class="p">)</span>
        <span class="c1"># The following pattern matches an S which has a child A and</span>
        <span class="c1"># another child that is a C and that the A has a child B:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;S &lt; (A &lt; B) &lt; C&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]]</span>
        <span class="p">)</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (S (A (B x) (C x))) (S (S (C x) (A (B x)))))&quot;</span>
        <span class="p">)</span>
        <span class="c1"># However, this pattern means that S has child A and that A</span>
        <span class="c1"># has children B and C:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;S &lt; ((A &lt; B) &lt; C)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]]</span>
        <span class="p">)</span>

        <span class="c1"># It is equivalent to this:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;S &lt; (A &lt; B &lt; C)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,)]]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_use_macros"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_use_macros">[docs]</a>    <span class="k">def</span> <span class="nf">test_use_macros</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test defining and using tgrep2 macros.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(VP (VB sold) (NP (DET the) &quot;</span>
            <span class="s2">&quot;(NN heiress)) (NP (NN deed) (PREP to) &quot;</span>
            <span class="s2">&quot;(NP (DET the) (NN school) (NN house))))&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span>
                <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span>
                    <span class="s2">&quot;@ NP /^NP/;</span><span class="se">\n</span><span class="s2">@ NN /^NN/;</span><span class="se">\n</span><span class="s2">@NP !&lt; @NP !$.. @NN&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">]</span>
                <span class="p">)</span>
            <span class="p">),</span>
            <span class="p">[[(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]],</span>
        <span class="p">)</span>
        <span class="c1"># use undefined macro @CNP</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">TgrepException</span><span class="p">,</span>
            <span class="nb">list</span><span class="p">,</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span>
                <span class="s2">&quot;@ NP /^NP/;</span><span class="se">\n</span><span class="s2">@ NN /^NN/;</span><span class="se">\n</span><span class="s2">@CNP !&lt; @NP !$.. @NN&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">]</span>
            <span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_tokenize_node_labels"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_tokenize_node_labels">[docs]</a>    <span class="k">def</span> <span class="nf">test_tokenize_node_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test tokenization of labeled nodes.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;S &lt; @SBJ &lt; (@VP &lt; (@VB $.. @OBJ))&quot;</span><span class="p">),</span>
            <span class="p">[</span>
                <span class="s2">&quot;S&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@SBJ&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;(&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@VP&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;(&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@VB&quot;</span><span class="p">,</span>
                <span class="s2">&quot;$..&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@OBJ&quot;</span><span class="p">,</span>
                <span class="s2">&quot;)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;)&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;S &lt; @SBJ=s &lt; (@VP=v &lt; (@VB $.. @OBJ))&quot;</span><span class="p">),</span>
            <span class="p">[</span>
                <span class="s2">&quot;S&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@SBJ&quot;</span><span class="p">,</span>
                <span class="s2">&quot;=&quot;</span><span class="p">,</span>
                <span class="s2">&quot;s&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;(&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@VP&quot;</span><span class="p">,</span>
                <span class="s2">&quot;=&quot;</span><span class="p">,</span>
                <span class="s2">&quot;v&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;(&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@VB&quot;</span><span class="p">,</span>
                <span class="s2">&quot;$..&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@OBJ&quot;</span><span class="p">,</span>
                <span class="s2">&quot;)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;)&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_tokenize_segmented_patterns"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_tokenize_segmented_patterns">[docs]</a>    <span class="k">def</span> <span class="nf">test_tokenize_segmented_patterns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test tokenization of segmented patterns.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_tokenize</span><span class="p">(</span><span class="s2">&quot;S &lt; @SBJ=s &lt; (@VP=v &lt; (@VB $.. @OBJ)) : =s .. =v&quot;</span><span class="p">),</span>
            <span class="p">[</span>
                <span class="s2">&quot;S&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@SBJ&quot;</span><span class="p">,</span>
                <span class="s2">&quot;=&quot;</span><span class="p">,</span>
                <span class="s2">&quot;s&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;(&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@VP&quot;</span><span class="p">,</span>
                <span class="s2">&quot;=&quot;</span><span class="p">,</span>
                <span class="s2">&quot;v&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;(&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@VB&quot;</span><span class="p">,</span>
                <span class="s2">&quot;$..&quot;</span><span class="p">,</span>
                <span class="s2">&quot;@OBJ&quot;</span><span class="p">,</span>
                <span class="s2">&quot;)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;:&quot;</span><span class="p">,</span>
                <span class="s2">&quot;=s&quot;</span><span class="p">,</span>
                <span class="s2">&quot;..&quot;</span><span class="p">,</span>
                <span class="s2">&quot;=v&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_labeled_nodes"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_labeled_nodes">[docs]</a>    <span class="k">def</span> <span class="nf">test_labeled_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test labeled nodes.</span>

<span class="sd">        Test case from Emily M. Bender.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">search</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            # macros</span>
<span class="s2">            @ SBJ /SBJ/;</span>
<span class="s2">            @ VP /VP/;</span>
<span class="s2">            @ VB /VB/;</span>
<span class="s2">            @ VPoB /V[PB]/;</span>
<span class="s2">            @ OBJ /OBJ/;</span>

<span class="s2">            # 1 svo</span>
<span class="s2">            S &lt; @SBJ=s &lt; (@VP=v &lt; (@VB $.. @OBJ)) : =s .. =v&quot;&quot;&quot;</span>
        <span class="n">sent1</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (NP-SBJ I) (VP (VB eat) (NP-OBJ (NNS apples))))&quot;</span>
        <span class="p">)</span>
        <span class="n">sent2</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (VP (VB eat) (NP-OBJ (NNS apples))) (NP-SBJ I))&quot;</span>
        <span class="p">)</span>
        <span class="n">search_firsthalf</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;S &lt; @SBJ &lt; (@VP &lt; (@VB $.. @OBJ))&quot;</span>
        <span class="n">search_rewrite</span> <span class="o">=</span> <span class="s2">&quot;S &lt; (/.*SBJ/ $.. (/VP/ &lt; (/VB/ $.. /.*OBJ/)))&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search_firsthalf</span><span class="p">,</span> <span class="p">[</span><span class="n">sent1</span><span class="p">]))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search</span><span class="p">,</span> <span class="p">[</span><span class="n">sent1</span><span class="p">]))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search_rewrite</span><span class="p">,</span> <span class="p">[</span><span class="n">sent1</span><span class="p">]))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search</span><span class="p">,</span> <span class="p">[</span><span class="n">sent1</span><span class="p">])),</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search_rewrite</span><span class="p">,</span> <span class="p">[</span><span class="n">sent1</span><span class="p">])),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search_firsthalf</span><span class="p">,</span> <span class="p">[</span><span class="n">sent2</span><span class="p">]))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search</span><span class="p">,</span> <span class="p">[</span><span class="n">sent2</span><span class="p">]))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search_rewrite</span><span class="p">,</span> <span class="p">[</span><span class="n">sent2</span><span class="p">]))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search</span><span class="p">,</span> <span class="p">[</span><span class="n">sent2</span><span class="p">])),</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="n">search_rewrite</span><span class="p">,</span> <span class="p">[</span><span class="n">sent2</span><span class="p">])),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_multiple_conjs"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_multiple_conjs">[docs]</a>    <span class="k">def</span> <span class="nf">test_multiple_conjs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test that multiple (3 or more) conjunctions of node relations are</span>
<span class="sd">        handled properly.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sent</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s2">&quot;((A (B b) (C c)) (A (B b) (C c) (D d)))&quot;</span><span class="p">)</span>
        <span class="c1"># search = &#39;(A &lt; B &lt; C &lt; D)&#39;</span>
        <span class="c1"># search_tworels = &#39;(A &lt; B &lt; C)&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;(A &lt; B &lt; C &lt; D)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">sent</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,)]]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;(A &lt; B &lt; C)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">sent</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)]]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TestSequenceFunctions.test_trailing_semicolon"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tgrep.html#nltk.test.unit.test_tgrep.TestSequenceFunctions.test_trailing_semicolon">[docs]</a>    <span class="k">def</span> <span class="nf">test_trailing_semicolon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test that semicolons at the end of a tgrep2 search string won&#39;t</span>
<span class="sd">        cause a parse failure.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">ParentedTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s2">&quot;(S (NP (DT the) (JJ big) (NN dog)) &quot;</span> <span class="s2">&quot;(VP bit) (NP (DT a) (NN cat)))&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NN&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NN;&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">tgrep</span><span class="o">.</span><span class="n">tgrep_positions</span><span class="p">(</span><span class="s2">&quot;NN;;&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">])),</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]]</span>
        <span class="p">)</span></div></div>
</pre></div>

        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>