<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: nltk.test.unit.test_tokenize</title>
  

  <link rel="stylesheet" href="../../../../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../../../../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../../../../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>
    </header>

    <div id="content-container">

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <h1>Source code for nltk.test.unit.test_tokenize</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Unit tests for nltk.tokenize.</span>
<span class="sd">See also nltk/test/tokenize.doctest</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">LegalitySyllableTokenizer</span><span class="p">,</span>
    <span class="n">StanfordSegmenter</span><span class="p">,</span>
    <span class="n">SyllableTokenizer</span><span class="p">,</span>
    <span class="n">TreebankWordTokenizer</span><span class="p">,</span>
    <span class="n">TweetTokenizer</span><span class="p">,</span>
    <span class="n">punkt</span><span class="p">,</span>
    <span class="n">word_tokenize</span><span class="p">,</span>
<span class="p">)</span>


<div class="viewcode-block" id="load_stanford_segmenter"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.load_stanford_segmenter">[docs]</a><span class="k">def</span> <span class="nf">load_stanford_segmenter</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">seg</span> <span class="o">=</span> <span class="n">StanfordSegmenter</span><span class="p">()</span>
        <span class="n">seg</span><span class="o">.</span><span class="n">default_config</span><span class="p">(</span><span class="s2">&quot;ar&quot;</span><span class="p">)</span>
        <span class="n">seg</span><span class="o">.</span><span class="n">default_config</span><span class="p">(</span><span class="s2">&quot;zh&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">LookupError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span></div>


<span class="n">check_stanford_segmenter</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">skipif</span><span class="p">(</span>
    <span class="ow">not</span> <span class="n">load_stanford_segmenter</span><span class="p">(),</span>
    <span class="n">reason</span><span class="o">=</span><span class="s2">&quot;NLTK was unable to find stanford-segmenter.jar.&quot;</span><span class="p">,</span>
<span class="p">)</span>


<div class="viewcode-block" id="TestTokenize"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize">[docs]</a><span class="k">class</span> <span class="nc">TestTokenize</span><span class="p">:</span>
<div class="viewcode-block" id="TestTokenize.test_tweet_tokenizer"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_tweet_tokenizer">[docs]</a>    <span class="k">def</span> <span class="nf">test_tweet_tokenizer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test TweetTokenizer using words with special and accented characters.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">TweetTokenizer</span><span class="p">(</span><span class="n">strip_handles</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reduce_len</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">s9</span> <span class="o">=</span> <span class="s2">&quot;@myke: Let&#39;s test these words: resumé España München français&quot;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">s9</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;:&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Let&#39;s&quot;</span><span class="p">,</span>
            <span class="s2">&quot;test&quot;</span><span class="p">,</span>
            <span class="s2">&quot;these&quot;</span><span class="p">,</span>
            <span class="s2">&quot;words&quot;</span><span class="p">,</span>
            <span class="s2">&quot;:&quot;</span><span class="p">,</span>
            <span class="s2">&quot;resumé&quot;</span><span class="p">,</span>
            <span class="s2">&quot;España&quot;</span><span class="p">,</span>
            <span class="s2">&quot;München&quot;</span><span class="p">,</span>
            <span class="s2">&quot;français&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">assert</span> <span class="n">tokens</span> <span class="o">==</span> <span class="n">expected</span></div>

<div class="viewcode-block" id="TestTokenize.test_sonority_sequencing_syllable_tokenizer"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_sonority_sequencing_syllable_tokenizer">[docs]</a>    <span class="k">def</span> <span class="nf">test_sonority_sequencing_syllable_tokenizer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test SyllableTokenizer tokenizer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">SyllableTokenizer</span><span class="p">()</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="s2">&quot;justification&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">tokens</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;jus&quot;</span><span class="p">,</span> <span class="s2">&quot;ti&quot;</span><span class="p">,</span> <span class="s2">&quot;fi&quot;</span><span class="p">,</span> <span class="s2">&quot;ca&quot;</span><span class="p">,</span> <span class="s2">&quot;tion&quot;</span><span class="p">]</span></div>

<div class="viewcode-block" id="TestTokenize.test_legality_principle_syllable_tokenizer"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_legality_principle_syllable_tokenizer">[docs]</a>    <span class="k">def</span> <span class="nf">test_legality_principle_syllable_tokenizer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test LegalitySyllableTokenizer tokenizer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">words</span>

        <span class="n">test_word</span> <span class="o">=</span> <span class="s2">&quot;wonderful&quot;</span>
        <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">LegalitySyllableTokenizer</span><span class="p">(</span><span class="n">words</span><span class="o">.</span><span class="n">words</span><span class="p">())</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">test_word</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">tokens</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;won&quot;</span><span class="p">,</span> <span class="s2">&quot;der&quot;</span><span class="p">,</span> <span class="s2">&quot;ful&quot;</span><span class="p">]</span></div>

<div class="viewcode-block" id="TestTokenize.test_stanford_segmenter_arabic"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_stanford_segmenter_arabic">[docs]</a>    <span class="nd">@check_stanford_segmenter</span>
    <span class="k">def</span> <span class="nf">test_stanford_segmenter_arabic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test the Stanford Word Segmenter for Arabic (default config)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">seg</span> <span class="o">=</span> <span class="n">StanfordSegmenter</span><span class="p">()</span>
        <span class="n">seg</span><span class="o">.</span><span class="n">default_config</span><span class="p">(</span><span class="s2">&quot;ar&quot;</span><span class="p">)</span>
        <span class="n">sent</span> <span class="o">=</span> <span class="s2">&quot;يبحث علم الحاسوب استخدام الحوسبة بجميع اشكالها لحل المشكلات&quot;</span>
        <span class="n">segmented_sent</span> <span class="o">=</span> <span class="n">seg</span><span class="o">.</span><span class="n">segment</span><span class="p">(</span><span class="n">sent</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
        <span class="k">assert</span> <span class="n">segmented_sent</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span>
            <span class="s2">&quot;يبحث&quot;</span><span class="p">,</span>
            <span class="s2">&quot;علم&quot;</span><span class="p">,</span>
            <span class="s2">&quot;الحاسوب&quot;</span><span class="p">,</span>
            <span class="s2">&quot;استخدام&quot;</span><span class="p">,</span>
            <span class="s2">&quot;الحوسبة&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ب&quot;</span><span class="p">,</span>
            <span class="s2">&quot;جميع&quot;</span><span class="p">,</span>
            <span class="s2">&quot;اشكال&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ها&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ل&quot;</span><span class="p">,</span>
            <span class="s2">&quot;حل&quot;</span><span class="p">,</span>
            <span class="s2">&quot;المشكلات&quot;</span><span class="p">,</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="TestTokenize.test_stanford_segmenter_chinese"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_stanford_segmenter_chinese">[docs]</a>    <span class="nd">@check_stanford_segmenter</span>
    <span class="k">def</span> <span class="nf">test_stanford_segmenter_chinese</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test the Stanford Word Segmenter for Chinese (default config)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">seg</span> <span class="o">=</span> <span class="n">StanfordSegmenter</span><span class="p">()</span>
        <span class="n">seg</span><span class="o">.</span><span class="n">default_config</span><span class="p">(</span><span class="s2">&quot;zh&quot;</span><span class="p">)</span>
        <span class="n">sent</span> <span class="o">=</span> <span class="s2">&quot;这是斯坦福中文分词器测试&quot;</span>
        <span class="n">segmented_sent</span> <span class="o">=</span> <span class="n">seg</span><span class="o">.</span><span class="n">segment</span><span class="p">(</span><span class="n">sent</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
        <span class="k">assert</span> <span class="n">segmented_sent</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;这&quot;</span><span class="p">,</span> <span class="s2">&quot;是&quot;</span><span class="p">,</span> <span class="s2">&quot;斯坦福&quot;</span><span class="p">,</span> <span class="s2">&quot;中文&quot;</span><span class="p">,</span> <span class="s2">&quot;分词器&quot;</span><span class="p">,</span> <span class="s2">&quot;测试&quot;</span><span class="p">]</span></div>

<div class="viewcode-block" id="TestTokenize.test_phone_tokenizer"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_phone_tokenizer">[docs]</a>    <span class="k">def</span> <span class="nf">test_phone_tokenizer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test a string that resembles a phone number but contains a newline</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Should be recognized as a phone number, albeit one with multiple spaces</span>
        <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">TweetTokenizer</span><span class="p">()</span>
        <span class="n">test1</span> <span class="o">=</span> <span class="s2">&quot;(393)  928 -3010&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;(393)  928 -3010&quot;</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">test1</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span>

        <span class="c1"># Due to newline, first three elements aren&#39;t part of a phone number;</span>
        <span class="c1"># fourth is</span>
        <span class="n">test2</span> <span class="o">=</span> <span class="s2">&quot;(393)</span><span class="se">\n</span><span class="s2">928 -3010&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;393&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;928 -3010&quot;</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">test2</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span></div>

<div class="viewcode-block" id="TestTokenize.test_pad_asterisk"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_pad_asterisk">[docs]</a>    <span class="k">def</span> <span class="nf">test_pad_asterisk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test padding of asterisk for word tokenization.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;This is a, *weird sentence with *asterisks in it.&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;This&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is&quot;</span><span class="p">,</span>
            <span class="s2">&quot;a&quot;</span><span class="p">,</span>
            <span class="s2">&quot;,&quot;</span><span class="p">,</span>
            <span class="s2">&quot;*&quot;</span><span class="p">,</span>
            <span class="s2">&quot;weird&quot;</span><span class="p">,</span>
            <span class="s2">&quot;sentence&quot;</span><span class="p">,</span>
            <span class="s2">&quot;with&quot;</span><span class="p">,</span>
            <span class="s2">&quot;*&quot;</span><span class="p">,</span>
            <span class="s2">&quot;asterisks&quot;</span><span class="p">,</span>
            <span class="s2">&quot;in&quot;</span><span class="p">,</span>
            <span class="s2">&quot;it&quot;</span><span class="p">,</span>
            <span class="s2">&quot;.&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">assert</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span></div>

<div class="viewcode-block" id="TestTokenize.test_pad_dotdot"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_pad_dotdot">[docs]</a>    <span class="k">def</span> <span class="nf">test_pad_dotdot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test padding of dotdot* for word tokenization.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Why did dotdot.. not get tokenized but dotdotdot... did? How about manydots.....&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;Why&quot;</span><span class="p">,</span>
            <span class="s2">&quot;did&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dotdot&quot;</span><span class="p">,</span>
            <span class="s2">&quot;..&quot;</span><span class="p">,</span>
            <span class="s2">&quot;not&quot;</span><span class="p">,</span>
            <span class="s2">&quot;get&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tokenized&quot;</span><span class="p">,</span>
            <span class="s2">&quot;but&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dotdotdot&quot;</span><span class="p">,</span>
            <span class="s2">&quot;...&quot;</span><span class="p">,</span>
            <span class="s2">&quot;did&quot;</span><span class="p">,</span>
            <span class="s2">&quot;?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;How&quot;</span><span class="p">,</span>
            <span class="s2">&quot;about&quot;</span><span class="p">,</span>
            <span class="s2">&quot;manydots&quot;</span><span class="p">,</span>
            <span class="s2">&quot;.....&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">assert</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span></div>

<div class="viewcode-block" id="TestTokenize.test_remove_handle"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_remove_handle">[docs]</a>    <span class="k">def</span> <span class="nf">test_remove_handle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test remove_handle() from casual.py with specially crafted edge cases</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">TweetTokenizer</span><span class="p">(</span><span class="n">strip_handles</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># Simple example. Handles with just numbers should be allowed</span>
        <span class="n">test1</span> <span class="o">=</span> <span class="s2">&quot;@twitter hello @twi_tter_. hi @12345 @123news&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;hi&quot;</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">test1</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span>

        <span class="c1"># Handles are allowed to follow any of the following characters</span>
        <span class="n">test2</span> <span class="o">=</span> <span class="s2">&quot;@n`@n~@n(@n)@n-@n=@n+@n</span><span class="se">\\</span><span class="s2">@n|@n[@n]@n{@n}@n;@n:@n&#39;@n</span><span class="se">\&quot;</span><span class="s2">@n/@n?@n.@n,@n&lt;@n&gt;@n @n</span><span class="se">\n</span><span class="s2">@n ñ@n.ü@n.ç@n.&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;`&quot;</span><span class="p">,</span>
            <span class="s2">&quot;~&quot;</span><span class="p">,</span>
            <span class="s2">&quot;(&quot;</span><span class="p">,</span>
            <span class="s2">&quot;)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;-&quot;</span><span class="p">,</span>
            <span class="s2">&quot;=&quot;</span><span class="p">,</span>
            <span class="s2">&quot;+&quot;</span><span class="p">,</span>
            <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;|&quot;</span><span class="p">,</span>
            <span class="s2">&quot;[&quot;</span><span class="p">,</span>
            <span class="s2">&quot;]&quot;</span><span class="p">,</span>
            <span class="s2">&quot;{&quot;</span><span class="p">,</span>
            <span class="s2">&quot;}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;:&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span>
            <span class="s1">&#39;&quot;&#39;</span><span class="p">,</span>
            <span class="s2">&quot;/&quot;</span><span class="p">,</span>
            <span class="s2">&quot;?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;,&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&gt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ñ&quot;</span><span class="p">,</span>
            <span class="s2">&quot;.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ü&quot;</span><span class="p">,</span>
            <span class="s2">&quot;.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ç&quot;</span><span class="p">,</span>
            <span class="s2">&quot;.&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">test2</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span>

        <span class="c1"># Handles are NOT allowed to follow any of the following characters</span>
        <span class="n">test3</span> <span class="o">=</span> <span class="s2">&quot;a@n j@n z@n A@n L@n Z@n 1@n 4@n 7@n 9@n 0@n _@n !@n @@n #@n $@n %@n &amp;@n *@n&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;a&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;j&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;z&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;A&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;L&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Z&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;7&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;9&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;_&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;!&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;$&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;%&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&amp;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;*&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">test3</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span>

        <span class="c1"># Handles are allowed to precede the following characters</span>
        <span class="n">test4</span> <span class="o">=</span> <span class="s2">&quot;@n!a @n#a @n$a @n</span><span class="si">%a</span><span class="s2"> @n&amp;a @n*a&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;&amp;&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">test4</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span>

        <span class="c1"># Tests interactions with special symbols and multiple @</span>
        <span class="n">test5</span> <span class="o">=</span> <span class="s2">&quot;@n!@n @n#@n @n$@n @n%@n @n&amp;@n @n*@n @n@n @@n @n@@n @n_@n @n7@n @nj@n&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;!&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;#&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;$&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;%&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&amp;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;*&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n_&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n7&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@nj&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@n&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">test5</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span>

        <span class="c1"># Tests that handles can have a max length of 15</span>
        <span class="n">test6</span> <span class="o">=</span> <span class="s2">&quot;@abcdefghijklmnopqrstuvwxyz @abcdefghijklmno1234 @abcdefghijklmno_ @abcdefghijklmnoendofhandle&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pqrstuvwxyz&quot;</span><span class="p">,</span> <span class="s2">&quot;1234&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;endofhandle&quot;</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">test6</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span>

        <span class="c1"># Edge case where an @ comes directly after a long handle</span>
        <span class="n">test7</span> <span class="o">=</span> <span class="s2">&quot;@abcdefghijklmnop@abcde @abcdefghijklmno@abcde @abcdefghijklmno_@abcde @abcdefghijklmno5@abcde&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;p&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@abcde&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@abcdefghijklmno&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@abcde&quot;</span><span class="p">,</span>
            <span class="s2">&quot;_&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@abcde&quot;</span><span class="p">,</span>
            <span class="s2">&quot;5&quot;</span><span class="p">,</span>
            <span class="s2">&quot;@abcde&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">test7</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span></div>

<div class="viewcode-block" id="TestTokenize.test_treebank_span_tokenizer"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_treebank_span_tokenizer">[docs]</a>    <span class="k">def</span> <span class="nf">test_treebank_span_tokenizer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test TreebankWordTokenizer.span_tokenize function</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">TreebankWordTokenizer</span><span class="p">()</span>

        <span class="c1"># Test case in the docstring</span>
        <span class="n">test1</span> <span class="o">=</span> <span class="s2">&quot;Good muffins cost $3.88</span><span class="se">\n</span><span class="s2">in New (York).  Please (buy) me</span><span class="se">\n</span><span class="s2">two of them.</span><span class="se">\n</span><span class="s2">(Thanks).&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">23</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">26</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">36</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">36</span><span class="p">,</span> <span class="mi">37</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">37</span><span class="p">,</span> <span class="mi">38</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">46</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">47</span><span class="p">,</span> <span class="mi">48</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">48</span><span class="p">,</span> <span class="mi">51</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="mi">52</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="mi">55</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">56</span><span class="p">,</span> <span class="mi">59</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">63</span><span class="p">,</span> <span class="mi">68</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">69</span><span class="p">,</span> <span class="mi">70</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">76</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">76</span><span class="p">,</span> <span class="mi">77</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">77</span><span class="p">,</span> <span class="mi">78</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">span_tokenize</span><span class="p">(</span><span class="n">test1</span><span class="p">))</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span>

        <span class="c1"># Test case with double quotation</span>
        <span class="n">test2</span> <span class="o">=</span> <span class="s1">&#39;The DUP is similar to the &quot;religious right&quot; in the United States and takes a hardline stance on social issues&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">36</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">37</span><span class="p">,</span> <span class="mi">42</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">44</span><span class="p">,</span> <span class="mi">46</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">47</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="mi">57</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">58</span><span class="p">,</span> <span class="mi">64</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">65</span><span class="p">,</span> <span class="mi">68</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">69</span><span class="p">,</span> <span class="mi">74</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">76</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">77</span><span class="p">,</span> <span class="mi">85</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">86</span><span class="p">,</span> <span class="mi">92</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">93</span><span class="p">,</span> <span class="mi">95</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">96</span><span class="p">,</span> <span class="mi">102</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">103</span><span class="p">,</span> <span class="mi">109</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">span_tokenize</span><span class="p">(</span><span class="n">test2</span><span class="p">))</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span>

        <span class="c1"># Test case with double qoutation as well as converted quotations</span>
        <span class="n">test3</span> <span class="o">=</span> <span class="s2">&quot;The DUP is similar to the </span><span class="se">\&quot;</span><span class="s2">religious right</span><span class="se">\&quot;</span><span class="s2"> in the United States and takes a ``hardline&#39;&#39; stance on social issues&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">36</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">37</span><span class="p">,</span> <span class="mi">42</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">44</span><span class="p">,</span> <span class="mi">46</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">47</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="mi">57</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">58</span><span class="p">,</span> <span class="mi">64</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">65</span><span class="p">,</span> <span class="mi">68</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">69</span><span class="p">,</span> <span class="mi">74</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">76</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">77</span><span class="p">,</span> <span class="mi">79</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">79</span><span class="p">,</span> <span class="mi">87</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">87</span><span class="p">,</span> <span class="mi">89</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">96</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">97</span><span class="p">,</span> <span class="mi">99</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">106</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">107</span><span class="p">,</span> <span class="mi">113</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">span_tokenize</span><span class="p">(</span><span class="n">test3</span><span class="p">))</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span></div>

<div class="viewcode-block" id="TestTokenize.test_word_tokenize"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_word_tokenize">[docs]</a>    <span class="k">def</span> <span class="nf">test_word_tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test word_tokenize function</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">sentence</span> <span class="o">=</span> <span class="s2">&quot;The &#39;v&#39;, I&#39;ve been fooled but I&#39;ll seek revenge.&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;The&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;v&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;,&quot;</span><span class="p">,</span>
            <span class="s2">&quot;I&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&#39;ve&quot;</span><span class="p">,</span>
            <span class="s2">&quot;been&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fooled&quot;</span><span class="p">,</span>
            <span class="s2">&quot;but&quot;</span><span class="p">,</span>
            <span class="s2">&quot;I&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&#39;ll&quot;</span><span class="p">,</span>
            <span class="s2">&quot;seek&quot;</span><span class="p">,</span>
            <span class="s2">&quot;revenge&quot;</span><span class="p">,</span>
            <span class="s2">&quot;.&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">assert</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span>

        <span class="n">sentence</span> <span class="o">=</span> <span class="s2">&quot;&#39;v&#39; &#39;re&#39;&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;re&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">]</span>
        <span class="k">assert</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span></div>

<div class="viewcode-block" id="TestTokenize.test_punkt_pair_iter"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_punkt_pair_iter">[docs]</a>    <span class="k">def</span> <span class="nf">test_punkt_pair_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">test_cases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;12&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]),</span>
            <span class="p">(</span><span class="s2">&quot;123&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]),</span>
            <span class="p">(</span><span class="s2">&quot;1234&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]),</span>
        <span class="p">]</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">test_input</span><span class="p">,</span> <span class="n">expected_output</span><span class="p">)</span> <span class="ow">in</span> <span class="n">test_cases</span><span class="p">:</span>
            <span class="n">actual_output</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">punkt</span><span class="o">.</span><span class="n">_pair_iter</span><span class="p">(</span><span class="n">test_input</span><span class="p">)]</span>

            <span class="k">assert</span> <span class="n">actual_output</span> <span class="o">==</span> <span class="n">expected_output</span></div>

<div class="viewcode-block" id="TestTokenize.test_punkt_pair_iter_handles_stop_iteration_exception"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_punkt_pair_iter_handles_stop_iteration_exception">[docs]</a>    <span class="k">def</span> <span class="nf">test_punkt_pair_iter_handles_stop_iteration_exception</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># test input to trigger StopIteration from next()</span>
        <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">([])</span>
        <span class="c1"># call method under test and produce a generator</span>
        <span class="n">gen</span> <span class="o">=</span> <span class="n">punkt</span><span class="o">.</span><span class="n">_pair_iter</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
        <span class="c1"># unpack generator, ensure that no error is raised</span>
        <span class="nb">list</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestTokenize.test_punkt_tokenize_words_handles_stop_iteration_exception"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_punkt_tokenize_words_handles_stop_iteration_exception">[docs]</a>    <span class="k">def</span> <span class="nf">test_punkt_tokenize_words_handles_stop_iteration_exception</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">punkt</span><span class="o">.</span><span class="n">PunktBaseClass</span><span class="p">()</span>

        <span class="k">class</span> <span class="nc">TestPunktTokenizeWordsMock</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">word_tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">iter</span><span class="p">([])</span>

        <span class="n">obj</span><span class="o">.</span><span class="n">_lang_vars</span> <span class="o">=</span> <span class="n">TestPunktTokenizeWordsMock</span><span class="p">()</span>
        <span class="c1"># unpack generator, ensure that no error is raised</span>
        <span class="nb">list</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">_tokenize_words</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">))</span></div>

<div class="viewcode-block" id="TestTokenize.test_punkt_tokenize_custom_lang_vars"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_punkt_tokenize_custom_lang_vars">[docs]</a>    <span class="k">def</span> <span class="nf">test_punkt_tokenize_custom_lang_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># Create LangVars including a full stop end character as used in Bengali</span>
        <span class="k">class</span> <span class="nc">BengaliLanguageVars</span><span class="p">(</span><span class="n">punkt</span><span class="o">.</span><span class="n">PunktLanguageVars</span><span class="p">):</span>
            <span class="n">sent_end_chars</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0964</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="n">punkt</span><span class="o">.</span><span class="n">PunktSentenceTokenizer</span><span class="p">(</span><span class="n">lang_vars</span><span class="o">=</span><span class="n">BengaliLanguageVars</span><span class="p">())</span>

        <span class="c1"># We now expect these sentences to be split up into the individual sentences</span>
        <span class="n">sentences</span> <span class="o">=</span> <span class="s2">&quot;উপরাষ্ট্রপতি শ্রী এম ভেঙ্কাইয়া নাইডু সোমবার আই আই টি দিল্লির হীরক জয়ন্তী উদযাপনের উদ্বোধন করেছেন। অনলাইনের মাধ্যমে এই অনুষ্ঠানে কেন্দ্রীয় মানব সম্পদ উন্নয়নমন্ত্রী শ্রী রমেশ পোখরিয়াল ‘নিশাঙ্ক’  উপস্থিত ছিলেন। এই উপলক্ষ্যে উপরাষ্ট্রপতি হীরকজয়ন্তীর লোগো এবং ২০৩০-এর জন্য প্রতিষ্ঠানের লক্ষ্য ও পরিকল্পনার নথি প্রকাশ করেছেন।&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;উপরাষ্ট্রপতি শ্রী এম ভেঙ্কাইয়া নাইডু সোমবার আই আই টি দিল্লির হীরক জয়ন্তী উদযাপনের উদ্বোধন করেছেন।&quot;</span><span class="p">,</span>
            <span class="s2">&quot;অনলাইনের মাধ্যমে এই অনুষ্ঠানে কেন্দ্রীয় মানব সম্পদ উন্নয়নমন্ত্রী শ্রী রমেশ পোখরিয়াল ‘নিশাঙ্ক’  উপস্থিত ছিলেন।&quot;</span><span class="p">,</span>
            <span class="s2">&quot;এই উপলক্ষ্যে উপরাষ্ট্রপতি হীরকজয়ন্তীর লোগো এবং ২০৩০-এর জন্য প্রতিষ্ঠানের লক্ষ্য ও পরিকল্পনার নথি প্রকাশ করেছেন।&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">assert</span> <span class="n">obj</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">sentences</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span></div>

<div class="viewcode-block" id="TestTokenize.test_punkt_tokenize_no_custom_lang_vars"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_punkt_tokenize_no_custom_lang_vars">[docs]</a>    <span class="k">def</span> <span class="nf">test_punkt_tokenize_no_custom_lang_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">obj</span> <span class="o">=</span> <span class="n">punkt</span><span class="o">.</span><span class="n">PunktSentenceTokenizer</span><span class="p">()</span>

        <span class="c1"># We expect these sentences to not be split properly, as the Bengali full stop &#39;।&#39; is not included in the default language vars</span>
        <span class="n">sentences</span> <span class="o">=</span> <span class="s2">&quot;উপরাষ্ট্রপতি শ্রী এম ভেঙ্কাইয়া নাইডু সোমবার আই আই টি দিল্লির হীরক জয়ন্তী উদযাপনের উদ্বোধন করেছেন। অনলাইনের মাধ্যমে এই অনুষ্ঠানে কেন্দ্রীয় মানব সম্পদ উন্নয়নমন্ত্রী শ্রী রমেশ পোখরিয়াল ‘নিশাঙ্ক’  উপস্থিত ছিলেন। এই উপলক্ষ্যে উপরাষ্ট্রপতি হীরকজয়ন্তীর লোগো এবং ২০৩০-এর জন্য প্রতিষ্ঠানের লক্ষ্য ও পরিকল্পনার নথি প্রকাশ করেছেন।&quot;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;উপরাষ্ট্রপতি শ্রী এম ভেঙ্কাইয়া নাইডু সোমবার আই আই টি দিল্লির হীরক জয়ন্তী উদযাপনের উদ্বোধন করেছেন। অনলাইনের মাধ্যমে এই অনুষ্ঠানে কেন্দ্রীয় মানব সম্পদ উন্নয়নমন্ত্রী শ্রী রমেশ পোখরিয়াল ‘নিশাঙ্ক’  উপস্থিত ছিলেন। এই উপলক্ষ্যে উপরাষ্ট্রপতি হীরকজয়ন্তীর লোগো এবং ২০৩০-এর জন্য প্রতিষ্ঠানের লক্ষ্য ও পরিকল্পনার নথি প্রকাশ করেছেন।&quot;</span>
        <span class="p">]</span>

        <span class="k">assert</span> <span class="n">obj</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">sentences</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span></div>

<div class="viewcode-block" id="TestTokenize.punkt_debug_decisions"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.punkt_debug_decisions">[docs]</a>    <span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
        <span class="s2">&quot;input_text,n_sents,n_splits,lang_vars&quot;</span><span class="p">,</span>
        <span class="p">[</span>
            <span class="c1"># Test debug_decisions on a text with two sentences, split by a dot.</span>
            <span class="p">(</span><span class="s2">&quot;Subject: Some subject. Attachments: Some attachments&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="c1"># The sentence should be split into two sections,</span>
            <span class="c1"># with one split and hence one decision.</span>
            <span class="c1"># Test debug_decisions on a text with two sentences, split by an exclamation mark.</span>
            <span class="p">(</span><span class="s2">&quot;Subject: Some subject! Attachments: Some attachments&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="c1"># The sentence should be split into two sections,</span>
            <span class="c1"># with one split and hence one decision.</span>
            <span class="c1"># Test debug_decisions on a text with one sentences,</span>
            <span class="c1"># which is not split.</span>
            <span class="p">(</span><span class="s2">&quot;This is just a normal sentence, just like any other.&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="c1"># Hence just 1</span>
        <span class="p">],</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">punkt_debug_decisions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_text</span><span class="p">,</span> <span class="n">n_sents</span><span class="p">,</span> <span class="n">n_splits</span><span class="p">,</span> <span class="n">lang_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">punkt</span><span class="o">.</span><span class="n">PunktSentenceTokenizer</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">lang_vars</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tokenizer</span><span class="o">.</span><span class="n">_lang_vars</span> <span class="o">=</span> <span class="n">lang_vars</span>

        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">input_text</span><span class="p">))</span> <span class="o">==</span> <span class="n">n_sents</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">debug_decisions</span><span class="p">(</span><span class="n">input_text</span><span class="p">)))</span> <span class="o">==</span> <span class="n">n_splits</span></div>

<div class="viewcode-block" id="TestTokenize.test_punkt_debug_decisions_custom_end"><a class="viewcode-back" href="../../../../api/nltk.test.unit.test_tokenize.html#nltk.test.unit.test_tokenize.TestTokenize.test_punkt_debug_decisions_custom_end">[docs]</a>    <span class="k">def</span> <span class="nf">test_punkt_debug_decisions_custom_end</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Test debug_decisions on a text with two sentences,</span>
        <span class="c1"># split by a custom end character, based on Issue #2519</span>
        <span class="k">class</span> <span class="nc">ExtLangVars</span><span class="p">(</span><span class="n">punkt</span><span class="o">.</span><span class="n">PunktLanguageVars</span><span class="p">):</span>
            <span class="n">sent_end_chars</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">,</span> <span class="s2">&quot;^&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">punkt_debug_decisions</span><span class="p">(</span>
            <span class="s2">&quot;Subject: Some subject^ Attachments: Some attachments&quot;</span><span class="p">,</span>
            <span class="n">n_sents</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
            <span class="n">n_splits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">lang_vars</span><span class="o">=</span><span class="n">ExtLangVars</span><span class="p">(),</span>
        <span class="p">)</span></div></div>
        <span class="c1"># The sentence should be split into two sections,</span>
        <span class="c1"># with one split and hence one decision.</span>
</pre></div>

        </div>
      </div>

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
            <input type="text" name="q" placeholder="Search..." />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">

          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/nltk.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="http://www.nltk.org/howto">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../team.html">NLTK Team</a></li>
</ul>

  


        </div>

        

      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.6.3">3.6.3</a>
                </li>
            

            
                <li class="footer-element">
                    Oct 06, 2021
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2021, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>

        </div>
    </div>

    <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

    <script type="text/javascript">
      $("#menu-toggle").click(function() {
        $("#menu-toggle").toggleClass("toggled");
        $("#side-menu-container").slideToggle(300);
      });
    </script>

</footer> 

</div>

</body>
</html>