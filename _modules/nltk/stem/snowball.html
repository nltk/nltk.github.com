<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>NLTK :: nltk.stem.snowball</title>
  

  <link rel="stylesheet" href="../../../_static/css/nltk_theme.css"/>
  <link rel="stylesheet" href="../../../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="nltk-theme-container">
    <header>
      <div id="logo-container">
          
          <h1>
            <a href="../../../index.html">NLTK</a>
          </h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>

      <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

      <script type="text/javascript">
        $("#menu-toggle").click(function() {
          $("#menu-toggle").toggleClass("toggled");
          $("#side-menu-container").slideToggle(300);
        });
      </script>
    </header>

    <div id="content-container">

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
            <input type="text" name="q" placeholder="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">
          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">NLTK Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/nltk.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki">Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/wiki/FAQ">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk/issues">Open Issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nltk/nltk">NLTK on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installing NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data.html">Installing NLTK Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../news.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contribute.html">Contributing to NLTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../team.html">NLTK Team</a></li>
</ul>

  

        </div>

        
      </div>

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <h1>Source code for nltk.stem.snowball</h1><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Natural Language Toolkit: Snowball Stemmer</span>
<span class="c1">#</span>
<span class="c1"># Copyright (C) 2001-2023 NLTK Project</span>
<span class="c1"># Author: Peter Michael Stahl &lt;pemistahl@gmail.com&gt;</span>
<span class="c1">#         Peter Ljunglof &lt;peter.ljunglof@heatherleaf.se&gt; (revisions)</span>
<span class="c1">#         Lakhdar Benzahia &lt;lakhdar.benzahia@gmail.com&gt;  (co-writer)</span>
<span class="c1">#         Assem Chelli &lt;assem.ch@gmail.com&gt;  (reviewer arabicstemmer)</span>
<span class="c1">#         Abdelkrim Aries &lt;ab_aries@esi.dz&gt; (reviewer arabicstemmer)</span>
<span class="c1"># Algorithms: Dr Martin Porter &lt;martin@tartarus.org&gt;</span>
<span class="c1">#             Assem Chelli &lt;assem.ch@gmail.com&gt;  arabic stemming algorithm</span>
<span class="c1">#             Benzahia Lakhdar &lt;lakhdar.benzahia@gmail.com&gt;</span>
<span class="c1"># URL: &lt;https://www.nltk.org/&gt;</span>
<span class="c1"># For license information, see LICENSE.TXT</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Snowball stemmers</span>

<span class="sd">This module provides a port of the Snowball stemmers</span>
<span class="sd">developed by Martin Porter.</span>

<span class="sd">There is also a demo function: `snowball.demo()`.</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="kn">from</span> <span class="nn">nltk.stem</span> <span class="kn">import</span> <span class="n">porter</span>
<span class="kn">from</span> <span class="nn">nltk.stem.api</span> <span class="kn">import</span> <span class="n">StemmerI</span>
<span class="kn">from</span> <span class="nn">nltk.stem.util</span> <span class="kn">import</span> <span class="n">prefix_replace</span><span class="p">,</span> <span class="n">suffix_replace</span>


<div class="viewcode-block" id="SnowballStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.SnowballStemmer">[docs]</a><span class="k">class</span> <span class="nc">SnowballStemmer</span><span class="p">(</span><span class="n">StemmerI</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Snowball Stemmer</span>

<span class="sd">    The following languages are supported:</span>
<span class="sd">    Arabic, Danish, Dutch, English, Finnish, French, German,</span>
<span class="sd">    Hungarian, Italian, Norwegian, Portuguese, Romanian, Russian,</span>
<span class="sd">    Spanish and Swedish.</span>

<span class="sd">    The algorithm for English is documented here:</span>

<span class="sd">        Porter, M. \&quot;An algorithm for suffix stripping.\&quot;</span>
<span class="sd">        Program 14.3 (1980): 130-137.</span>

<span class="sd">    The algorithms have been developed by Martin Porter.</span>
<span class="sd">    These stemmers are called Snowball, because Porter created</span>
<span class="sd">    a programming language with this name for creating</span>
<span class="sd">    new stemming algorithms. There is more information available</span>
<span class="sd">    at http://snowball.tartarus.org/</span>

<span class="sd">    The stemmer is invoked as shown below:</span>

<span class="sd">    &gt;&gt;&gt; from nltk.stem import SnowballStemmer # See which languages are supported</span>
<span class="sd">    &gt;&gt;&gt; print(&quot; &quot;.join(SnowballStemmer.languages)) # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">    arabic danish dutch english finnish french german hungarian</span>
<span class="sd">    italian norwegian porter portuguese romanian russian</span>
<span class="sd">    spanish swedish</span>
<span class="sd">    &gt;&gt;&gt; stemmer = SnowballStemmer(&quot;german&quot;) # Choose a language</span>
<span class="sd">    &gt;&gt;&gt; stemmer.stem(&quot;Autobahnen&quot;) # Stem a word</span>
<span class="sd">    &#39;autobahn&#39;</span>

<span class="sd">    Invoking the stemmers that way is useful if you do not know the</span>
<span class="sd">    language to be stemmed at runtime. Alternatively, if you already know</span>
<span class="sd">    the language, then you can invoke the language specific stemmer directly:</span>

<span class="sd">    &gt;&gt;&gt; from nltk.stem.snowball import GermanStemmer</span>
<span class="sd">    &gt;&gt;&gt; stemmer = GermanStemmer()</span>
<span class="sd">    &gt;&gt;&gt; stemmer.stem(&quot;Autobahnen&quot;)</span>
<span class="sd">    &#39;autobahn&#39;</span>

<span class="sd">    :param language: The language whose subclass is instantiated.</span>
<span class="sd">    :type language: str or unicode</span>
<span class="sd">    :param ignore_stopwords: If set to True, stopwords are</span>
<span class="sd">                             not stemmed and returned unchanged.</span>
<span class="sd">                             Set to False by default.</span>
<span class="sd">    :type ignore_stopwords: bool</span>
<span class="sd">    :raise ValueError: If there is no stemmer for the specified</span>
<span class="sd">                           language, a ValueError is raised.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">languages</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;arabic&quot;</span><span class="p">,</span>
        <span class="s2">&quot;danish&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dutch&quot;</span><span class="p">,</span>
        <span class="s2">&quot;english&quot;</span><span class="p">,</span>
        <span class="s2">&quot;finnish&quot;</span><span class="p">,</span>
        <span class="s2">&quot;french&quot;</span><span class="p">,</span>
        <span class="s2">&quot;german&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hungarian&quot;</span><span class="p">,</span>
        <span class="s2">&quot;italian&quot;</span><span class="p">,</span>
        <span class="s2">&quot;norwegian&quot;</span><span class="p">,</span>
        <span class="s2">&quot;porter&quot;</span><span class="p">,</span>
        <span class="s2">&quot;portuguese&quot;</span><span class="p">,</span>
        <span class="s2">&quot;romanian&quot;</span><span class="p">,</span>
        <span class="s2">&quot;russian&quot;</span><span class="p">,</span>
        <span class="s2">&quot;spanish&quot;</span><span class="p">,</span>
        <span class="s2">&quot;swedish&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="SnowballStemmer.__init__"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.SnowballStemmer.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">ignore_stopwords</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">language</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">languages</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The language &#39;</span><span class="si">{</span><span class="n">language</span><span class="si">}</span><span class="s2">&#39; is not supported.&quot;</span><span class="p">)</span>
        <span class="n">stemmerclass</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="n">language</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;Stemmer&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stemmer</span> <span class="o">=</span> <span class="n">stemmerclass</span><span class="p">(</span><span class="n">ignore_stopwords</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stopwords</span></div>

<div class="viewcode-block" id="SnowballStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.SnowballStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span></div></div>


<span class="k">class</span> <span class="nc">_LanguageSpecificStemmer</span><span class="p">(</span><span class="n">StemmerI</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This helper subclass offers the possibility</span>
<span class="sd">    to invoke a specific stemmer directly.</span>
<span class="sd">    This is useful if you already know the language to be stemmed at runtime.</span>

<span class="sd">    Create an instance of the Snowball stemmer.</span>

<span class="sd">    :param ignore_stopwords: If set to True, stopwords are</span>
<span class="sd">                             not stemmed and returned unchanged.</span>
<span class="sd">                             Set to False by default.</span>
<span class="sd">    :type ignore_stopwords: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_stopwords</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="c1"># The language is the name of the class, minus the final &quot;Stemmer&quot;.</span>
        <span class="n">language</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">language</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;stemmer&quot;</span><span class="p">):</span>
            <span class="n">language</span> <span class="o">=</span> <span class="n">language</span><span class="p">[:</span><span class="o">-</span><span class="mi">7</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">ignore_stopwords</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="n">language</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;</span><span class="si">{!r}</span><span class="s2"> has no list of stopwords. Please set&quot;</span>
                    <span class="s2">&quot; &#39;ignore_stopwords&#39; to &#39;False&#39;.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Print out the string representation of the respective class.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&gt;&quot;</span>


<div class="viewcode-block" id="PorterStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.PorterStemmer">[docs]</a><span class="k">class</span> <span class="nc">PorterStemmer</span><span class="p">(</span><span class="n">_LanguageSpecificStemmer</span><span class="p">,</span> <span class="n">porter</span><span class="o">.</span><span class="n">PorterStemmer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A word stemmer based on the original Porter stemming algorithm.</span>

<span class="sd">        Porter, M. \&quot;An algorithm for suffix stripping.\&quot;</span>
<span class="sd">        Program 14.3 (1980): 130-137.</span>

<span class="sd">    A few minor modifications have been made to Porter&#39;s basic</span>
<span class="sd">    algorithm.  See the source code of the module</span>
<span class="sd">    nltk.stem.porter for more information.</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="PorterStemmer.__init__"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.PorterStemmer.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_stopwords</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">_LanguageSpecificStemmer</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_stopwords</span><span class="p">)</span>
        <span class="n">porter</span><span class="o">.</span><span class="n">PorterStemmer</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div></div>


<span class="k">class</span> <span class="nc">_ScandinavianStemmer</span><span class="p">(</span><span class="n">_LanguageSpecificStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This subclass encapsulates a method for defining the string region R1.</span>
<span class="sd">    It is used by the Danish, Norwegian, and Swedish stemmer.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_r1_scandinavian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">vowels</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the region R1 that is used by the Scandinavian stemmers.</span>

<span class="sd">        R1 is the region after the first non-vowel following a vowel,</span>
<span class="sd">        or is the null region at the end of the word if there is no</span>
<span class="sd">        such non-vowel. But then R1 is adjusted so that the region</span>
<span class="sd">        before it contains at least three letters.</span>

<span class="sd">        :param word: The word whose region R1 is determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :param vowels: The vowels of the respective language that are</span>
<span class="sd">                       used to determine the region R1.</span>
<span class="sd">        :type vowels: unicode</span>
<span class="sd">        :return: the region R1 for the respective word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the respective stem method of</span>
<span class="sd">               the subclasses DanishStemmer, NorwegianStemmer, and</span>
<span class="sd">               SwedishStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="mi">3</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">word</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">r1</span>


<span class="k">class</span> <span class="nc">_StandardStemmer</span><span class="p">(</span><span class="n">_LanguageSpecificStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This subclass encapsulates two methods for defining the standard versions</span>
<span class="sd">    of the string regions R1, R2, and RV.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_r1r2_standard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">vowels</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the standard interpretations of the string regions R1 and R2.</span>

<span class="sd">        R1 is the region after the first non-vowel following a vowel,</span>
<span class="sd">        or is the null region at the end of the word if there is no</span>
<span class="sd">        such non-vowel.</span>

<span class="sd">        R2 is the region after the first non-vowel following a vowel</span>
<span class="sd">        in R1, or is the null region at the end of the word if there</span>
<span class="sd">        is no such non-vowel.</span>

<span class="sd">        :param word: The word whose regions R1 and R2 are determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :param vowels: The vowels of the respective language that are</span>
<span class="sd">                       used to determine the regions R1 and R2.</span>
<span class="sd">        :type vowels: unicode</span>
<span class="sd">        :return: (r1,r2), the regions R1 and R2 for the respective word.</span>
<span class="sd">        :rtype: tuple</span>
<span class="sd">        :note: This helper method is invoked by the respective stem method of</span>
<span class="sd">               the subclasses DutchStemmer, FinnishStemmer,</span>
<span class="sd">               FrenchStemmer, GermanStemmer, ItalianStemmer,</span>
<span class="sd">               PortugueseStemmer, RomanianStemmer, and SpanishStemmer.</span>
<span class="sd">               It is not to be invoked directly!</span>
<span class="sd">        :note: A detailed description of how to define R1 and R2</span>
<span class="sd">               can be found at http://snowball.tartarus.org/texts/r1r2.html</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                <span class="k">break</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_rv_standard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">vowels</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the standard interpretation of the string region RV.</span>

<span class="sd">        If the second letter is a consonant, RV is the region after the</span>
<span class="sd">        next following vowel. If the first two letters are vowels, RV is</span>
<span class="sd">        the region after the next following consonant. Otherwise, RV is</span>
<span class="sd">        the region after the third letter.</span>

<span class="sd">        :param word: The word whose region RV is determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :param vowels: The vowels of the respective language that are</span>
<span class="sd">                       used to determine the region RV.</span>
<span class="sd">        :type vowels: unicode</span>
<span class="sd">        :return: the region RV for the respective word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the respective stem method of</span>
<span class="sd">               the subclasses ItalianStemmer, PortugueseStemmer,</span>
<span class="sd">               RomanianStemmer, and SpanishStemmer. It is not to be</span>
<span class="sd">               invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                        <span class="k">break</span>

            <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                        <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>

        <span class="k">return</span> <span class="n">rv</span>


<div class="viewcode-block" id="ArabicStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.ArabicStemmer">[docs]</a><span class="k">class</span> <span class="nc">ArabicStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    https://github.com/snowballstem/snowball/blob/master/algorithms/arabic/stem_Unicode.sbl (Original Algorithm)</span>
<span class="sd">    The Snowball Arabic light Stemmer</span>
<span class="sd">    Algorithm:</span>

<span class="sd">    - Assem Chelli</span>
<span class="sd">    - Abdelkrim Aries</span>
<span class="sd">    - Lakhdar Benzahia</span>

<span class="sd">    NLTK Version Author:</span>

<span class="sd">    - Lakhdar Benzahia</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Normalize_pre stes</span>
    <span class="n">__vocalization</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
        <span class="sa">r</span><span class="s2">&quot;[\u064b-\u064c-\u064d-\u064e-\u064f-\u0650-\u0651-\u0652]&quot;</span>
    <span class="p">)</span>  <span class="c1"># ً، ٌ، ٍ، َ، ُ، ِ، ّ، ْ</span>

    <span class="n">__kasheeda</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\u0640]&quot;</span><span class="p">)</span>  <span class="c1"># ـ tatweel/kasheeda</span>

    <span class="n">__arabic_punctuation_marks</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\u060C-\u061B-\u061F]&quot;</span><span class="p">)</span>  <span class="c1">#  ؛ ، ؟</span>

    <span class="c1"># Normalize_post</span>
    <span class="n">__last_hamzat</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0623</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0625</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0622</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0624</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0626</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># أ، إ، آ، ؤ، ئ</span>

    <span class="c1"># normalize other hamza&#39;s</span>
    <span class="n">__initial_hamzat</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[\u0622\u0623\u0625]&quot;</span><span class="p">)</span>  <span class="c1">#  أ، إ، آ</span>

    <span class="n">__waw_hamza</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\u0624]&quot;</span><span class="p">)</span>  <span class="c1"># ؤ</span>

    <span class="n">__yeh_hamza</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\u0626]&quot;</span><span class="p">)</span>  <span class="c1"># ئ</span>

    <span class="n">__alefat</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\u0623\u0622\u0625]&quot;</span><span class="p">)</span>  <span class="c1">#  أ، إ، آ</span>

    <span class="c1"># Checks</span>
    <span class="n">__checks1</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0627\u0644</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0628\u0627\u0644</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># بال، كال</span>
        <span class="s2">&quot;</span><span class="se">\u0627\u0644</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0644\u0644</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># لل، ال</span>
    <span class="p">)</span>

    <span class="n">__checks2</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0629</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0627\u062a</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># ة  #  female plural ات</span>

    <span class="c1"># Suffixes</span>
    <span class="n">__suffix_noun_step1a</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u064a</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># ي، ك، ه</span>
        <span class="s2">&quot;</span><span class="se">\u0646\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0645</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0645</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># نا، كم، ها، هن، هم</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0645\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0645\u0627</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># كما، هما</span>
    <span class="p">)</span>

    <span class="n">__suffix_noun_step1b</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\u0646</span><span class="s2">&quot;</span>  <span class="c1"># ن</span>

    <span class="n">__suffix_noun_step2a</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0627</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u064a</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0648</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># ا، ي، و</span>

    <span class="n">__suffix_noun_step2b</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\u0627\u062a</span><span class="s2">&quot;</span>  <span class="c1"># ات</span>

    <span class="n">__suffix_noun_step2c1</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\u062a</span><span class="s2">&quot;</span>  <span class="c1"># ت</span>

    <span class="n">__suffix_noun_step2c2</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\u0629</span><span class="s2">&quot;</span>  <span class="c1"># ة</span>

    <span class="n">__suffix_noun_step3</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\u064a</span><span class="s2">&quot;</span>  <span class="c1"># ي</span>

    <span class="n">__suffix_verb_step1</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0647</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># ه، ك</span>
        <span class="s2">&quot;</span><span class="se">\u0646\u064a</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0646\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0645</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># ني، نا، ها، هم</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0645</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0646</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># هن، كم، كن</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0645\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0645\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0645\u0648</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># هما، كما، كمو</span>
    <span class="p">)</span>

    <span class="n">__suffix_verb_step2a</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u062a</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u064a</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># ت، ا، ن، ي</span>
        <span class="s2">&quot;</span><span class="se">\u0646\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u062a\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u062a\u0646</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># نا، تا، تن Past</span>
        <span class="s2">&quot;</span><span class="se">\u0627\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0648\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u064a\u0646</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># ان، هن، ين Present</span>
        <span class="s2">&quot;</span><span class="se">\u062a\u0645\u0627</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># تما</span>
    <span class="p">)</span>

    <span class="n">__suffix_verb_step2b</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0648\u0627</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u062a\u0645</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># وا، تم</span>

    <span class="n">__suffix_verb_step2c</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0648</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u062a\u0645\u0648</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># و  # تمو</span>

    <span class="n">__suffix_all_alef_maqsura</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\u0649</span><span class="s2">&quot;</span>  <span class="c1"># ى</span>

    <span class="c1"># Prefixes</span>
    <span class="n">__prefix_step1</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0623</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># أ</span>
        <span class="s2">&quot;</span><span class="se">\u0623\u0623</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0623\u0622</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0623\u0624</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0623\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0623\u0625</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># أأ، أآ، أؤ، أا، أإ</span>
    <span class="p">)</span>

    <span class="n">__prefix_step2a</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0641\u0627\u0644</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0648\u0627\u0644</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># فال، وال</span>

    <span class="n">__prefix_step2b</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0641</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0648</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># ف، و</span>

    <span class="n">__prefix_step3a_noun</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0627\u0644</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0644\u0644</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># لل، ال</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0627\u0644</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0628\u0627\u0644</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># بال، كال</span>
    <span class="p">)</span>

    <span class="n">__prefix_step3b_noun</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0628</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0644</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># ب، ك، ل</span>
        <span class="s2">&quot;</span><span class="se">\u0628\u0628</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0643</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># بب، كك</span>
    <span class="p">)</span>

    <span class="n">__prefix_step3_verb</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0633\u064a</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0633\u062a</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0633\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0633\u0623</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>  <span class="c1"># سي، ست، سن، سأ</span>

    <span class="n">__prefix_step4_verb</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u064a\u0633\u062a</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0646\u0633\u062a</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u062a\u0633\u062a</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>  <span class="c1"># يست، نست، تست</span>

    <span class="c1"># Suffixes added due to Conjugation Verbs</span>
    <span class="n">__conjugation_suffix_verb_1</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0647</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0643</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># ه، ك</span>

    <span class="n">__conjugation_suffix_verb_2</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0646\u064a</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0646\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0627</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># ني، نا، ها</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0645</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0645</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># هم، هن، كم</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0646</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># كن</span>
    <span class="p">)</span>
    <span class="n">__conjugation_suffix_verb_3</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0645\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0645\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0645\u0648</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>  <span class="c1"># هما، كما، كمو</span>

    <span class="n">__conjugation_suffix_verb_4</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0627</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0646</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u064a</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># ا، ن، ي</span>

    <span class="n">__conjugation_suffix_verb_past</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0646\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u062a\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u062a\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>  <span class="c1"># نا، تا، تن</span>

    <span class="n">__conjugation_suffix_verb_present</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0627\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0648\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u064a\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>  <span class="c1"># ان، ون، ين</span>

    <span class="c1"># Suffixes added due to derivation Names</span>
    <span class="n">__conjugation_suffix_noun_1</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u064a</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0643</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0647</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># ي، ك، ه</span>

    <span class="n">__conjugation_suffix_noun_2</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0646\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0645</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># نا، كم</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0646</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0645</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># ها، هن، هم</span>
    <span class="p">)</span>

    <span class="n">__conjugation_suffix_noun_3</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\u0643\u0645\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0647\u0645\u0627</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>  <span class="c1"># كما، هما</span>

    <span class="c1"># Prefixes added due to derivation Names</span>
    <span class="n">__prefixes1</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0648\u0627</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0641\u0627</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># فا، وا</span>

    <span class="n">__articles_3len</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0643\u0627\u0644</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0628\u0627\u0644</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># بال كال</span>

    <span class="n">__articles_2len</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0627\u0644</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0644\u0644</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># ال لل</span>

    <span class="c1"># Prepositions letters</span>
    <span class="n">__prepositions1</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0643</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0644</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># ك، ل</span>
    <span class="n">__prepositions2</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0628\u0628</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0643\u0643</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># بب، كك</span>

    <span class="n">is_verb</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">is_noun</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">is_defined</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">suffixes_verb_step1_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">suffix_verb_step2a_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">suffix_verb_step2b_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">suffix_noun_step2c2_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">suffix_noun_step1a_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">suffix_noun_step2a_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">suffix_noun_step2b_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">suffixe_noun_step1b_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">prefix_step2a_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">prefix_step3a_noun_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">prefix_step3b_noun_success</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">__normalize_pre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param token: string</span>
<span class="sd">        :return: normalized token type string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># strip diacritics</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vocalization</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
        <span class="c1"># strip kasheeda</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__kasheeda</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
        <span class="c1"># strip punctuation marks</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arabic_punctuation_marks</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__normalize_post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="c1"># normalize last hamza</span>
        <span class="k">for</span> <span class="n">hamza</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__last_hamzat</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">hamza</span><span class="p">):</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">hamza</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0621</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="c1"># normalize other hamzat</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__initial_hamzat</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0627</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__waw_hamza</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0648</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__yeh_hamza</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u064a</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__alefat</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0627</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__checks_1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__checks1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__articles_3len</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">is_noun</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">is_verb</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">is_defined</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__articles_2len</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">is_noun</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">is_verb</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">is_defined</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

    <span class="k">def</span> <span class="nf">__checks_2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__checks2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u0629</span><span class="s2">&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">is_noun</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">is_verb</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u0627\u062a</span><span class="s2">&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">is_noun</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">is_verb</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">break</span>

    <span class="k">def</span> <span class="nf">__Suffix_Verb_Step1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_verb_step1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conjugation_suffix_verb_1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffixes_verb_step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conjugation_suffix_verb_2</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffixes_verb_step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conjugation_suffix_verb_3</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">6</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffixes_verb_step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_Verb_Step2a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_verb_step2a</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u062a</span><span class="s2">&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffix_verb_step2a_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conjugation_suffix_verb_4</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffix_verb_step2a_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conjugation_suffix_verb_past</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># past</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffix_verb_step2a_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conjugation_suffix_verb_present</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># present</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffix_verb_step2a_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u062a\u0645\u0627</span><span class="s2">&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">6</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffix_verb_step2a_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_Verb_Step2c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_verb_step2c</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u062a\u0645\u0648</span><span class="s2">&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">6</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u0648</span><span class="s2">&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_Verb_Step2b</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_verb_step2b</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">suffix_verb_step2b_success</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_Noun_Step2c2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_noun_step2c2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2c2_success</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_Noun_Step1a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_noun_step1a</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conjugation_suffix_noun_1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step1a_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conjugation_suffix_noun_2</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step1a_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conjugation_suffix_noun_3</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">6</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step1a_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_Noun_Step2a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_noun_step2a</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2a_success</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_Noun_Step2b</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_noun_step2b</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2b_success</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_Noun_Step2c1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_noun_step2c1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_Noun_Step1b</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_noun_step1b</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">suffixe_noun_step1b_success</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_Noun_Step3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_noun_step3</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># ya&#39; nisbiya</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Suffix_All_alef_maqsura</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__suffix_all_alef_maqsura</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u064a</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Prefix_Step1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prefix_step1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u0623\u0623</span><span class="s2">&quot;</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">prefix_replace</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0623</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">break</span>

                <span class="k">elif</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u0623\u0622</span><span class="s2">&quot;</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">prefix_replace</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0622</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">break</span>

                <span class="k">elif</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u0623\u0624</span><span class="s2">&quot;</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">prefix_replace</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0624</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">break</span>

                <span class="k">elif</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u0623\u0627</span><span class="s2">&quot;</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">prefix_replace</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0627</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">break</span>

                <span class="k">elif</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u0623\u0625</span><span class="s2">&quot;</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">prefix_replace</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0625</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Prefix_Step2a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prefix_step2a</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="p">:]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step2a_success</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Prefix_Step2b</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prefix_step2b</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">token</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prefixes1</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="p">:]</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Prefix_Step3a_Noun</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prefix_step3a_noun</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__articles_2len</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="p">:]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step3a_noun_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
                <span class="k">if</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__articles_3len</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="p">:]</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Prefix_Step3b_Noun</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prefix_step3b_noun</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u0628</span><span class="s2">&quot;</span><span class="p">:</span>
                        <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="p">:]</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step3b_noun_success</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>

                    <span class="k">if</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prepositions2</span><span class="p">:</span>
                        <span class="n">token</span> <span class="o">=</span> <span class="n">prefix_replace</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">prefix</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step3b_noun_success</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>

                <span class="k">if</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prepositions1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">token</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="p">:]</span>  <span class="c1"># BUG: cause confusion</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step3b_noun_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Prefix_Step3_Verb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prefix_step3_verb</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">prefix_replace</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">prefix</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="k">def</span> <span class="nf">__Prefix_Step4_Verb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__prefix_step4_verb</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">prefix_replace</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0627\u0633\u062a</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">is_verb</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">is_noun</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">token</span>

<div class="viewcode-block" id="ArabicStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.ArabicStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem an Arabic word and return the stemmed form.</span>

<span class="sd">        :param word: string</span>
<span class="sd">        :return: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set initial values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_verb</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_noun</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_defined</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_verb_step2a_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_verb_step2b_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2c2_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step1a_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2a_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2b_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffixe_noun_step1b_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step2a_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step3a_noun_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step3b_noun_success</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">modified_word</span> <span class="o">=</span> <span class="n">word</span>
        <span class="c1"># guess type and properties</span>
        <span class="c1"># checks1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__checks_1</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="c1"># checks2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__checks_2</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="c1"># Pre_Normalization</span>
        <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__normalize_pre</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="c1"># Avoid stopwords</span>
        <span class="k">if</span> <span class="n">modified_word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">modified_word</span>
        <span class="c1"># Start stemming</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_verb</span><span class="p">:</span>
            <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Verb_Step1</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffixes_verb_step1_success</span><span class="p">:</span>
                <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Verb_Step2a</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_verb_step2a_success</span><span class="p">:</span>
                    <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Verb_Step2c</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                <span class="c1"># or next TODO: How to deal with or next instruction</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Verb_Step2b</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_verb_step2b_success</span><span class="p">:</span>
                    <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Verb_Step2a</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_noun</span><span class="p">:</span>
            <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step2c2</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2c2_success</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_defined</span><span class="p">:</span>
                    <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step1a</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                    <span class="c1"># if self.suffix_noun_step1a_success:</span>
                    <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step2a</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2a_success</span><span class="p">:</span>
                        <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step2b</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2b_success</span>
                        <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2a_success</span>
                    <span class="p">):</span>
                        <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step2c1</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                    <span class="c1"># or next ? todo : how to deal with or next</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step1b</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffixe_noun_step1b_success</span><span class="p">:</span>
                        <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step2a</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2a_success</span><span class="p">:</span>
                            <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step2b</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                        <span class="k">if</span> <span class="p">(</span>
                            <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2b_success</span>
                            <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">suffix_noun_step2a_success</span>
                        <span class="p">):</span>
                            <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step2c1</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_defined</span><span class="p">:</span>
                            <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step2a</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                        <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step2b</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
            <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_Noun_Step3</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_noun</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_verb</span><span class="p">:</span>
            <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Suffix_All_alef_maqsura</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>

        <span class="c1"># prefixes</span>
        <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Prefix_Step1</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Prefix_Step2a</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step2a_success</span><span class="p">:</span>
            <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Prefix_Step2b</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Prefix_Step3a_Noun</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step3a_noun_success</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_noun</span><span class="p">:</span>
            <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Prefix_Step3b_Noun</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_step3b_noun_success</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_verb</span><span class="p">:</span>
                <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Prefix_Step3_Verb</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
                <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Prefix_Step4_Verb</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>

        <span class="c1"># post normalization stemming</span>
        <span class="n">modified_word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__normalize_post</span><span class="p">(</span><span class="n">modified_word</span><span class="p">)</span>
        <span class="n">stemmed_word</span> <span class="o">=</span> <span class="n">modified_word</span>
        <span class="k">return</span> <span class="n">stemmed_word</span></div></div>


<div class="viewcode-block" id="DanishStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.DanishStemmer">[docs]</a><span class="k">class</span> <span class="nc">DanishStemmer</span><span class="p">(</span><span class="n">_ScandinavianStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Danish Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Danish vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __consonants: The Danish consonants.</span>
<span class="sd">    :type __consonants: unicode</span>
<span class="sd">    :cvar __double_consonants: The Danish double consonants.</span>
<span class="sd">    :type __double_consonants: tuple</span>
<span class="sd">    :cvar __s_ending: Letters that may directly appear before a word final &#39;s&#39;.</span>
<span class="sd">    :type __s_ending: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Danish</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/danish/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># The language&#39;s vowels and other important characters are defined.</span>
    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiouy</span><span class="se">\xE6\xE5\xF8</span><span class="s2">&quot;</span>
    <span class="n">__consonants</span> <span class="o">=</span> <span class="s2">&quot;bcdfghjklmnpqrstvwxz&quot;</span>
    <span class="n">__double_consonants</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;bb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ll&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ss&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ww&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zz&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__s_ending</span> <span class="o">=</span> <span class="s2">&quot;abcdfghjklmnoprtvyz</span><span class="se">\xE5</span><span class="s2">&quot;</span>

    <span class="c1"># The different suffixes, divided into the algorithm&#39;s steps</span>
    <span class="c1"># and organized by length, are listed in tuples.</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;erendes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erende&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hedens&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ethed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erede&quot;</span><span class="p">,</span>
        <span class="s2">&quot;heden&quot;</span><span class="p">,</span>
        <span class="s2">&quot;heder&quot;</span><span class="p">,</span>
        <span class="s2">&quot;endes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ernes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erens&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erets&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ered&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ende&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erne&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eren&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;heds&quot;</span><span class="p">,</span>
        <span class="s2">&quot;enes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eres&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eret&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ene&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ere&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ens&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ers&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ets&quot;</span><span class="p">,</span>
        <span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er&quot;</span><span class="p">,</span>
        <span class="s2">&quot;es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;et&quot;</span><span class="p">,</span>
        <span class="s2">&quot;e&quot;</span><span class="p">,</span>
        <span class="s2">&quot;s&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;gd&quot;</span><span class="p">,</span> <span class="s2">&quot;dt&quot;</span><span class="p">,</span> <span class="s2">&quot;gt&quot;</span><span class="p">,</span> <span class="s2">&quot;kt&quot;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;elig&quot;</span><span class="p">,</span> <span class="s2">&quot;l</span><span class="se">\xF8</span><span class="s2">st&quot;</span><span class="p">,</span> <span class="s2">&quot;lig&quot;</span><span class="p">,</span> <span class="s2">&quot;els&quot;</span><span class="p">,</span> <span class="s2">&quot;ig&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="DanishStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.DanishStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a Danish word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Every word is put into lower case for normalization.</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="c1"># After this, the required regions are generated</span>
        <span class="c1"># by the respective helper method.</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1_scandinavian</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># Then the actual stemming process starts.</span>
        <span class="c1"># Every new step is explicitly indicated</span>
        <span class="c1"># according to the descriptions on the Snowball website.</span>

        <span class="c1"># STEP 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__s_ending</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 2</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 3</span>
        <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;igst&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;l</span><span class="se">\xF8</span><span class="s2">st&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 4: Undouble</span>
        <span class="k">for</span> <span class="n">double_cons</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">double_cons</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">word</span></div></div>


<div class="viewcode-block" id="DutchStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.DutchStemmer">[docs]</a><span class="k">class</span> <span class="nc">DutchStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Dutch Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Dutch vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step3b_suffixes: Suffixes to be deleted in step 3b of the algorithm.</span>
<span class="sd">    :type __step3b_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Dutch</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/dutch/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiouy</span><span class="se">\xE8</span><span class="s2">&quot;</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;heden&quot;</span><span class="p">,</span> <span class="s2">&quot;ene&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="s2">&quot;se&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
    <span class="n">__step3b_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;baar&quot;</span><span class="p">,</span> <span class="s2">&quot;lijk&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="s2">&quot;ing&quot;</span><span class="p">,</span> <span class="s2">&quot;ig&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="DutchStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.DutchStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a Dutch word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step2_success</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Vowel accents are removed.</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xEB</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xEF</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xF6</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xF3</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xFC</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xFA</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># An initial &#39;y&#39;, a &#39;y&#39; after a vowel,</span>
        <span class="c1"># and an &#39;i&#39; between self.__vowels is put into upper case.</span>
        <span class="c1"># As from now these are treated as consonants.</span>
        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;i&quot;</span>
                <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
            <span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># R1 is adjusted so that the region before it</span>
        <span class="c1"># contains at least 3 letters.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="mi">3</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">word</span>
                <span class="k">break</span>

        <span class="c1"># STEP 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;heden&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;heid&quot;</span><span class="p">)</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;heid&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;heden&quot;</span><span class="p">):</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;heid&quot;</span><span class="p">)</span>

                <span class="k">elif</span> <span class="p">(</span>
                    <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ene&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="ow">not</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;heden&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                    <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">!=</span> <span class="s2">&quot;gem&quot;</span>
                <span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;kk&quot;</span><span class="p">,</span> <span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;tt&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">elif</span> <span class="p">(</span>
                    <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;se&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                    <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;j&quot;</span>
                <span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 2</span>
        <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
            <span class="n">step2_success</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;kk&quot;</span><span class="p">,</span> <span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;tt&quot;</span><span class="p">)):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># STEP 3a</span>
        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;heid&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;en&quot;</span><span class="p">)</span>
                <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;gem&quot;</span>
            <span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;kk&quot;</span><span class="p">,</span> <span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;tt&quot;</span><span class="p">)):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># STEP 3b: Derivational suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3b_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="s2">&quot;ing&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;ig&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;e&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;kk&quot;</span><span class="p">,</span> <span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;tt&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;ig&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;e&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;lijk&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;kk&quot;</span><span class="p">,</span> <span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;tt&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;baar&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;bar&quot;</span> <span class="ow">and</span> <span class="n">step2_success</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 4: Undouble vowel</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;I&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;aa&quot;</span><span class="p">,</span> <span class="s2">&quot;ee&quot;</span><span class="p">,</span> <span class="s2">&quot;oo&quot;</span><span class="p">,</span> <span class="s2">&quot;uu&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>

        <span class="c1"># All occurrences of &#39;I&#39; and &#39;Y&#39; are put back into lower case.</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span></div></div>


<div class="viewcode-block" id="EnglishStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.EnglishStemmer">[docs]</a><span class="k">class</span> <span class="nc">EnglishStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The English Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The English vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __double_consonants: The English double consonants.</span>
<span class="sd">    :type __double_consonants: tuple</span>
<span class="sd">    :cvar __li_ending: Letters that may directly appear before a word final &#39;li&#39;.</span>
<span class="sd">    :type __li_ending: unicode</span>
<span class="sd">    :cvar __step0_suffixes: Suffixes to be deleted in step 0 of the algorithm.</span>
<span class="sd">    :type __step0_suffixes: tuple</span>
<span class="sd">    :cvar __step1a_suffixes: Suffixes to be deleted in step 1a of the algorithm.</span>
<span class="sd">    :type __step1a_suffixes: tuple</span>
<span class="sd">    :cvar __step1b_suffixes: Suffixes to be deleted in step 1b of the algorithm.</span>
<span class="sd">    :type __step1b_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :cvar __step4_suffixes: Suffixes to be deleted in step 4 of the algorithm.</span>
<span class="sd">    :type __step4_suffixes: tuple</span>
<span class="sd">    :cvar __step5_suffixes: Suffixes to be deleted in step 5 of the algorithm.</span>
<span class="sd">    :type __step5_suffixes: tuple</span>
<span class="sd">    :cvar __special_words: A dictionary containing words</span>
<span class="sd">                           which have to be stemmed specially.</span>
<span class="sd">    :type __special_words: dict</span>
<span class="sd">    :note: A detailed description of the English</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/english/stemmer.html</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiouy&quot;</span>
    <span class="n">__double_consonants</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;bb&quot;</span><span class="p">,</span> <span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;ff&quot;</span><span class="p">,</span> <span class="s2">&quot;gg&quot;</span><span class="p">,</span> <span class="s2">&quot;mm&quot;</span><span class="p">,</span> <span class="s2">&quot;nn&quot;</span><span class="p">,</span> <span class="s2">&quot;pp&quot;</span><span class="p">,</span> <span class="s2">&quot;rr&quot;</span><span class="p">,</span> <span class="s2">&quot;tt&quot;</span><span class="p">)</span>
    <span class="n">__li_ending</span> <span class="o">=</span> <span class="s2">&quot;cdeghkmnrt&quot;</span>
    <span class="n">__step0_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&#39;s&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;s&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>
    <span class="n">__step1a_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;sses&quot;</span><span class="p">,</span> <span class="s2">&quot;ied&quot;</span><span class="p">,</span> <span class="s2">&quot;ies&quot;</span><span class="p">,</span> <span class="s2">&quot;us&quot;</span><span class="p">,</span> <span class="s2">&quot;ss&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
    <span class="n">__step1b_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;eedly&quot;</span><span class="p">,</span> <span class="s2">&quot;ingly&quot;</span><span class="p">,</span> <span class="s2">&quot;edly&quot;</span><span class="p">,</span> <span class="s2">&quot;eed&quot;</span><span class="p">,</span> <span class="s2">&quot;ing&quot;</span><span class="p">,</span> <span class="s2">&quot;ed&quot;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;ization&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ational&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fulness&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ousness&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iveness&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tional&quot;</span><span class="p">,</span>
        <span class="s2">&quot;biliti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lessli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;entli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ation&quot;</span><span class="p">,</span>
        <span class="s2">&quot;alism&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aliti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ousli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iviti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fulli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;enci&quot;</span><span class="p">,</span>
        <span class="s2">&quot;anci&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;izer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ator&quot;</span><span class="p">,</span>
        <span class="s2">&quot;alli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ogi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;li&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;ational&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tional&quot;</span><span class="p">,</span>
        <span class="s2">&quot;alize&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iciti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ative&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ical&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ness&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ful&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step4_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;ement&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ance&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ence&quot;</span><span class="p">,</span>
        <span class="s2">&quot;able&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ible&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ment&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ant&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ism&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ous&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ive&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ize&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ion&quot;</span><span class="p">,</span>
        <span class="s2">&quot;al&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ic&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step5_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">)</span>
    <span class="n">__special_words</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;skis&quot;</span><span class="p">:</span> <span class="s2">&quot;ski&quot;</span><span class="p">,</span>
        <span class="s2">&quot;skies&quot;</span><span class="p">:</span> <span class="s2">&quot;sky&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dying&quot;</span><span class="p">:</span> <span class="s2">&quot;die&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lying&quot;</span><span class="p">:</span> <span class="s2">&quot;lie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tying&quot;</span><span class="p">:</span> <span class="s2">&quot;tie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;idly&quot;</span><span class="p">:</span> <span class="s2">&quot;idl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gently&quot;</span><span class="p">:</span> <span class="s2">&quot;gentl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ugly&quot;</span><span class="p">:</span> <span class="s2">&quot;ugli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;early&quot;</span><span class="p">:</span> <span class="s2">&quot;earli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;only&quot;</span><span class="p">:</span> <span class="s2">&quot;onli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;singly&quot;</span><span class="p">:</span> <span class="s2">&quot;singl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sky&quot;</span><span class="p">:</span> <span class="s2">&quot;sky&quot;</span><span class="p">,</span>
        <span class="s2">&quot;news&quot;</span><span class="p">:</span> <span class="s2">&quot;news&quot;</span><span class="p">,</span>
        <span class="s2">&quot;howe&quot;</span><span class="p">:</span> <span class="s2">&quot;howe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;atlas&quot;</span><span class="p">:</span> <span class="s2">&quot;atlas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cosmos&quot;</span><span class="p">:</span> <span class="s2">&quot;cosmos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bias&quot;</span><span class="p">:</span> <span class="s2">&quot;bias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;andes&quot;</span><span class="p">:</span> <span class="s2">&quot;andes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;inning&quot;</span><span class="p">:</span> <span class="s2">&quot;inning&quot;</span><span class="p">,</span>
        <span class="s2">&quot;innings&quot;</span><span class="p">:</span> <span class="s2">&quot;inning&quot;</span><span class="p">,</span>
        <span class="s2">&quot;outing&quot;</span><span class="p">:</span> <span class="s2">&quot;outing&quot;</span><span class="p">,</span>
        <span class="s2">&quot;outings&quot;</span><span class="p">:</span> <span class="s2">&quot;outing&quot;</span><span class="p">,</span>
        <span class="s2">&quot;canning&quot;</span><span class="p">:</span> <span class="s2">&quot;canning&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cannings&quot;</span><span class="p">:</span> <span class="s2">&quot;canning&quot;</span><span class="p">,</span>
        <span class="s2">&quot;herring&quot;</span><span class="p">:</span> <span class="s2">&quot;herring&quot;</span><span class="p">,</span>
        <span class="s2">&quot;herrings&quot;</span><span class="p">:</span> <span class="s2">&quot;herring&quot;</span><span class="p">,</span>
        <span class="s2">&quot;earring&quot;</span><span class="p">:</span> <span class="s2">&quot;earring&quot;</span><span class="p">,</span>
        <span class="s2">&quot;earrings&quot;</span><span class="p">:</span> <span class="s2">&quot;earring&quot;</span><span class="p">,</span>
        <span class="s2">&quot;proceed&quot;</span><span class="p">:</span> <span class="s2">&quot;proceed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;proceeds&quot;</span><span class="p">:</span> <span class="s2">&quot;proceed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;proceeded&quot;</span><span class="p">:</span> <span class="s2">&quot;proceed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;proceeding&quot;</span><span class="p">:</span> <span class="s2">&quot;proceed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exceed&quot;</span><span class="p">:</span> <span class="s2">&quot;exceed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exceeds&quot;</span><span class="p">:</span> <span class="s2">&quot;exceed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exceeded&quot;</span><span class="p">:</span> <span class="s2">&quot;exceed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exceeding&quot;</span><span class="p">:</span> <span class="s2">&quot;exceed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;succeed&quot;</span><span class="p">:</span> <span class="s2">&quot;succeed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;succeeds&quot;</span><span class="p">:</span> <span class="s2">&quot;succeed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;succeeded&quot;</span><span class="p">:</span> <span class="s2">&quot;succeed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;succeeding&quot;</span><span class="p">:</span> <span class="s2">&quot;succeed&quot;</span><span class="p">,</span>
    <span class="p">}</span>

<div class="viewcode-block" id="EnglishStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.EnglishStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem an English word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="k">elif</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__special_words</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__special_words</span><span class="p">[</span><span class="n">word</span><span class="p">]</span>

        <span class="c1"># Map the different apostrophe characters to a single consistent one</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u2019</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\x27</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u2018</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\x27</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u201B</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\x27</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\x27</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

        <span class="n">step1a_vowel_found</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">step1b_vowel_found</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s2">&quot;gener&quot;</span><span class="p">,</span> <span class="s2">&quot;commun&quot;</span><span class="p">,</span> <span class="s2">&quot;arsen&quot;</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s2">&quot;gener&quot;</span><span class="p">,</span> <span class="s2">&quot;arsen&quot;</span><span class="p">)):</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">6</span><span class="p">:]</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                    <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># STEP 0</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step0_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 1a</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1a_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>

                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;sses&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ied&quot;</span><span class="p">,</span> <span class="s2">&quot;ies&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                            <span class="n">step1a_vowel_found</span> <span class="o">=</span> <span class="kc">True</span>
                            <span class="k">break</span>

                    <span class="k">if</span> <span class="n">step1a_vowel_found</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 1b</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1b_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;eed&quot;</span><span class="p">,</span> <span class="s2">&quot;eedly&quot;</span><span class="p">):</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ee&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ee&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ee&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]:</span>
                        <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                            <span class="n">step1b_vowel_found</span> <span class="o">=</span> <span class="kc">True</span>
                            <span class="k">break</span>

                    <span class="k">if</span> <span class="n">step1b_vowel_found</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;at&quot;</span><span class="p">,</span> <span class="s2">&quot;bl&quot;</span><span class="p">,</span> <span class="s2">&quot;iz&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">))</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">))</span>

                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                                <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">))</span>

                        <span class="k">elif</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="p">(</span>
                            <span class="n">r1</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span>
                            <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span>
                            <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                            <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s2">&quot;wxY&quot;</span>
                            <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                            <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                        <span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
                            <span class="n">r1</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span>
                            <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
                            <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                            <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                        <span class="p">):</span>

                            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">))</span>

                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">))</span>

                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">))</span>
                <span class="k">break</span>

        <span class="c1"># STEP 1c</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="s2">&quot;yY&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;i&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;i&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;i&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># STEP 2</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;tional&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;enci&quot;</span><span class="p">,</span> <span class="s2">&quot;anci&quot;</span><span class="p">,</span> <span class="s2">&quot;abli&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;e&quot;</span><span class="p">))</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;e&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;e&quot;</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;entli&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;izer&quot;</span><span class="p">,</span> <span class="s2">&quot;ization&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ize&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ize&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ize&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ational&quot;</span><span class="p">,</span> <span class="s2">&quot;ation&quot;</span><span class="p">,</span> <span class="s2">&quot;ator&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ate&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ate&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ate&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;e&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;alism&quot;</span><span class="p">,</span> <span class="s2">&quot;aliti&quot;</span><span class="p">,</span> <span class="s2">&quot;alli&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;al&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;al&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;al&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;fulness&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ousli&quot;</span><span class="p">,</span> <span class="s2">&quot;ousness&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ous&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ous&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ous&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;iveness&quot;</span><span class="p">,</span> <span class="s2">&quot;iviti&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ive&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ive&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ive&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;e&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;biliti&quot;</span><span class="p">,</span> <span class="s2">&quot;bli&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ble&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ble&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ble&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;ogi&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;l&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;fulli&quot;</span><span class="p">,</span> <span class="s2">&quot;lessli&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;li&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__li_ending</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 3</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;tional&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;ational&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ate&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ate&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ate&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;alize&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;icate&quot;</span><span class="p">,</span> <span class="s2">&quot;iciti&quot;</span><span class="p">,</span> <span class="s2">&quot;ical&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ic&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ic&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ic&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ful&quot;</span><span class="p">,</span> <span class="s2">&quot;ness&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;ative&quot;</span> <span class="ow">and</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 4</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step4_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;ion&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="s2">&quot;st&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 5</span>
        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;l&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;l&quot;</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                <span class="ow">or</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="s2">&quot;wxY&quot;</span>
                <span class="ow">or</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                <span class="ow">or</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
            <span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span></div></div>


<div class="viewcode-block" id="FinnishStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.FinnishStemmer">[docs]</a><span class="k">class</span> <span class="nc">FinnishStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Finnish Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Finnish vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __restricted_vowels: A subset of the Finnish vowels.</span>
<span class="sd">    :type __restricted_vowels: unicode</span>
<span class="sd">    :cvar __long_vowels: The Finnish vowels in their long forms.</span>
<span class="sd">    :type __long_vowels: tuple</span>
<span class="sd">    :cvar __consonants: The Finnish consonants.</span>
<span class="sd">    :type __consonants: unicode</span>
<span class="sd">    :cvar __double_consonants: The Finnish double consonants.</span>
<span class="sd">    :type __double_consonants: tuple</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :cvar __step4_suffixes: Suffixes to be deleted in step 4 of the algorithm.</span>
<span class="sd">    :type __step4_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Finnish</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/finnish/stemmer.html</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiouy</span><span class="se">\xE4\xF6</span><span class="s2">&quot;</span>
    <span class="n">__restricted_vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiou</span><span class="se">\xE4\xF6</span><span class="s2">&quot;</span>
    <span class="n">__long_vowels</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;aa&quot;</span><span class="p">,</span> <span class="s2">&quot;ee&quot;</span><span class="p">,</span> <span class="s2">&quot;ii&quot;</span><span class="p">,</span> <span class="s2">&quot;oo&quot;</span><span class="p">,</span> <span class="s2">&quot;uu&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE4\xE4</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xF6\xF6</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">__consonants</span> <span class="o">=</span> <span class="s2">&quot;bcdfghjklmnpqrstvwxz&quot;</span>
    <span class="n">__double_consonants</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;bb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ll&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ss&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ww&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zz&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;kaan&quot;</span><span class="p">,</span>
        <span class="s2">&quot;k</span><span class="se">\xE4\xE4</span><span class="s2">n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;han&quot;</span><span class="p">,</span>
        <span class="s2">&quot;h</span><span class="se">\xE4</span><span class="s2">n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ko&quot;</span><span class="p">,</span>
        <span class="s2">&quot;k</span><span class="se">\xF6</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;p</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;nsa&quot;</span><span class="p">,</span> <span class="s2">&quot;ns</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;mme&quot;</span><span class="p">,</span> <span class="s2">&quot;nne&quot;</span><span class="p">,</span> <span class="s2">&quot;si&quot;</span><span class="p">,</span> <span class="s2">&quot;ni&quot;</span><span class="p">,</span> <span class="s2">&quot;an&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE4</span><span class="s2">n&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;siin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tten&quot;</span><span class="p">,</span>
        <span class="s2">&quot;seen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;han&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hon&quot;</span><span class="p">,</span>
        <span class="s2">&quot;h</span><span class="se">\xE4</span><span class="s2">n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;h</span><span class="se">\xF6</span><span class="s2">n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;den&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tt</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ssa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ss</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;st</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lla&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ll</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lt</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ksi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ine&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;t</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;na&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step4_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;impi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;impa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imp</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;immi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imma&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imm</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mpi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mpa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mp</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mmi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mma&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mm</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eja&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ej</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="FinnishStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.FinnishStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a Finnish word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step3_success</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># STEP 1: Particles etc.</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;sti&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="s2">&quot;ntaeiouy</span><span class="se">\xE4\xF6</span><span class="s2">&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 2: Possessives</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;si&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;k&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;ni&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;kse&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="s2">&quot;kse&quot;</span><span class="p">,</span> <span class="s2">&quot;ksi&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;kse&quot;</span><span class="p">):</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="s2">&quot;kse&quot;</span><span class="p">,</span> <span class="s2">&quot;ksi&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;kse&quot;</span><span class="p">):</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="s2">&quot;kse&quot;</span><span class="p">,</span> <span class="s2">&quot;ksi&quot;</span><span class="p">)</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;an&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ta&quot;</span><span class="p">,</span> <span class="s2">&quot;na&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span>
                        <span class="s2">&quot;ssa&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;sta&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;lla&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;lta&quot;</span><span class="p">,</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\xE4</span><span class="s2">n&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;t</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;n</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span>
                        <span class="s2">&quot;ss</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;st</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ll</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;lt</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;en&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;lle&quot;</span><span class="p">,</span> <span class="s2">&quot;ine&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 3: Cases</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;han&quot;</span><span class="p">,</span> <span class="s2">&quot;hen&quot;</span><span class="p">,</span> <span class="s2">&quot;hin&quot;</span><span class="p">,</span> <span class="s2">&quot;hon&quot;</span><span class="p">,</span> <span class="s2">&quot;h</span><span class="se">\xE4</span><span class="s2">n&quot;</span><span class="p">,</span> <span class="s2">&quot;h</span><span class="se">\xF6</span><span class="s2">n&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;han&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
                        <span class="ow">or</span> <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;hen&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                        <span class="ow">or</span> <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;hin&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span>
                        <span class="ow">or</span> <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;hon&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;o&quot;</span><span class="p">)</span>
                        <span class="ow">or</span> <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;h</span><span class="se">\xE4</span><span class="s2">n&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="ow">or</span> <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;h</span><span class="se">\xF6</span><span class="s2">n&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\xF6</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">step3_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;siin&quot;</span><span class="p">,</span> <span class="s2">&quot;den&quot;</span><span class="p">,</span> <span class="s2">&quot;tten&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;i&quot;</span>
                        <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__restricted_vowels</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">step3_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">continue</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;seen&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__long_vowels</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">step3_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">continue</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__consonants</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">step3_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;tta&quot;</span><span class="p">,</span> <span class="s2">&quot;tt</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;e&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">step3_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;n&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">step3_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;ie&quot;</span> <span class="ow">or</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__long_vowels</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step3_success</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>

        <span class="c1"># STEP 4: Other endings</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step4_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;mpi&quot;</span><span class="p">,</span> <span class="s2">&quot;mpa&quot;</span><span class="p">,</span> <span class="s2">&quot;mp</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;mmi&quot;</span><span class="p">,</span> <span class="s2">&quot;mma&quot;</span><span class="p">,</span> <span class="s2">&quot;mm</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;po&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 5: Plurals</span>
        <span class="k">if</span> <span class="n">step3_success</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="s2">&quot;ij&quot;</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">elif</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="n">step3_success</span>
            <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span>
            <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;t&quot;</span>
            <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
        <span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;imma&quot;</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;mma&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;po&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

        <span class="c1"># STEP 6: Tidying up</span>
        <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__long_vowels</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__consonants</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="s2">&quot;a</span><span class="se">\xE4</span><span class="s2">ei&quot;</span><span class="p">:</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;oj&quot;</span><span class="p">,</span> <span class="s2">&quot;uj&quot;</span><span class="p">)):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;jo&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># If the word ends with a double consonant</span>
        <span class="c1"># followed by zero or more vowels, the last consonant is removed.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="n">i</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">word</span></div></div>


<div class="viewcode-block" id="FrenchStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.FrenchStemmer">[docs]</a><span class="k">class</span> <span class="nc">FrenchStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The French Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The French vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2a_suffixes: Suffixes to be deleted in step 2a of the algorithm.</span>
<span class="sd">    :type __step2a_suffixes: tuple</span>
<span class="sd">    :cvar __step2b_suffixes: Suffixes to be deleted in step 2b of the algorithm.</span>
<span class="sd">    :type __step2b_suffixes: tuple</span>
<span class="sd">    :cvar __step4_suffixes: Suffixes to be deleted in step 4 of the algorithm.</span>
<span class="sd">    :type __step4_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the French</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/french/stemmer.html</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiouy</span><span class="se">\xE2\xE0\xEB\xE9\xEA\xE8\xEF\xEE\xF4\xFB\xF9</span><span class="s2">&quot;</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;issements&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issement&quot;</span><span class="p">,</span>
        <span class="s2">&quot;atrices&quot;</span><span class="p">,</span>
        <span class="s2">&quot;atrice&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ateurs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ations&quot;</span><span class="p">,</span>
        <span class="s2">&quot;logies&quot;</span><span class="p">,</span>
        <span class="s2">&quot;usions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;utions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ements&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amment&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emment&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ances&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iqUes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ismes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ables&quot;</span><span class="p">,</span>
        <span class="s2">&quot;istes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ateur&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ation&quot;</span><span class="p">,</span>
        <span class="s2">&quot;logie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;usion&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ution&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ences&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ement&quot;</span><span class="p">,</span>
        <span class="s2">&quot;euses&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ments&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ance&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iqUe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isme&quot;</span><span class="p">,</span>
        <span class="s2">&quot;able&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iste&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ence&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it</span><span class="se">\xE9</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ives&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eaux&quot;</span><span class="p">,</span>
        <span class="s2">&quot;euse&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ment&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eux&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ive&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ifs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aux&quot;</span><span class="p">,</span>
        <span class="s2">&quot;if&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step2a_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;issaIent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issantes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iraIent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issante&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issants&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issait&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issant&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issiez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issons&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irait&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iriez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irons&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iront&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isses&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xEE</span><span class="s2">mes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xEE</span><span class="s2">tes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iras&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isse&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ies&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ira&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xEE</span><span class="s2">t&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step2b_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;eraIent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;assions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;assent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;assiez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE8</span><span class="s2">rent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erait&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eriez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erons&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eront&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aIent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;antes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;asses&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eras&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">mes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">tes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ante&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ants&quot;</span><span class="p">,</span>
        <span class="s2">&quot;asse&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;era&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ait&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ant&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">e&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">t&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step4_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;i</span><span class="se">\xE8</span><span class="s2">re&quot;</span><span class="p">,</span> <span class="s2">&quot;I</span><span class="se">\xE8</span><span class="s2">re&quot;</span><span class="p">,</span> <span class="s2">&quot;ion&quot;</span><span class="p">,</span> <span class="s2">&quot;ier&quot;</span><span class="p">,</span> <span class="s2">&quot;Ier&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xEB</span><span class="s2">&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="FrenchStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.FrenchStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a French word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">rv_ending_found</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">step2a_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">step2b_success</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Every occurrence of &#39;u&#39; after &#39;q&#39; is put into upper case.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;q&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

        <span class="c1"># Every occurrence of &#39;u&#39; and &#39;i&#39;</span>
        <span class="c1"># between vowels is put into upper case.</span>
        <span class="c1"># Every occurrence of &#39;y&#39; preceded or</span>
        <span class="c1"># followed by a vowel is also put into upper case.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

                <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;i&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">or</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rv_french</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># STEP 1: Standard suffix removal</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;eaux&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;euse&quot;</span><span class="p">,</span> <span class="s2">&quot;euses&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;eux&quot;</span><span class="p">)</span>
                        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ement&quot;</span><span class="p">,</span> <span class="s2">&quot;ements&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;iv&quot;</span> <span class="ow">and</span> <span class="s2">&quot;iv&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;at&quot;</span> <span class="ow">and</span> <span class="s2">&quot;at&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;eus&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s2">&quot;eus&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="k">elif</span> <span class="s2">&quot;eus&quot;</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;x&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;abl&quot;</span><span class="p">,</span> <span class="s2">&quot;iqU&quot;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="s2">&quot;abl&quot;</span> <span class="ow">in</span> <span class="n">r2</span> <span class="ow">or</span> <span class="s2">&quot;iqU&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;i</span><span class="se">\xE8</span><span class="s2">r&quot;</span><span class="p">,</span> <span class="s2">&quot;I</span><span class="se">\xE8</span><span class="s2">r&quot;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="s2">&quot;i</span><span class="se">\xE8</span><span class="s2">r&quot;</span> <span class="ow">in</span> <span class="n">rv</span> <span class="ow">or</span> <span class="s2">&quot;I</span><span class="se">\xE8</span><span class="s2">r&quot;</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;i&quot;</span><span class="p">))</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;amment&quot;</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="s2">&quot;amment&quot;</span><span class="p">,</span> <span class="s2">&quot;ant&quot;</span><span class="p">)</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="s2">&quot;amment&quot;</span><span class="p">,</span> <span class="s2">&quot;ant&quot;</span><span class="p">)</span>
                    <span class="n">rv_ending_found</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;emment&quot;</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="s2">&quot;emment&quot;</span><span class="p">,</span> <span class="s2">&quot;ent&quot;</span><span class="p">)</span>
                    <span class="n">rv_ending_found</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="p">(</span>
                    <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ment&quot;</span><span class="p">,</span> <span class="s2">&quot;ments&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span>
                    <span class="ow">and</span> <span class="ow">not</span> <span class="n">rv</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">rv</span><span class="p">[</span><span class="n">rv</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                <span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv_ending_found</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;aux&quot;</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;l&quot;</span><span class="p">))</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="p">(</span>
                    <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;issement&quot;</span><span class="p">,</span> <span class="s2">&quot;issements&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r1</span>
                    <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                <span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="p">(</span>
                    <span class="n">suffix</span>
                    <span class="ow">in</span> <span class="p">(</span>
                        <span class="s2">&quot;ance&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;iqUe&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;isme&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;able&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;iste&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;eux&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ances&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;iqUes&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ismes&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ables&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;istes&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span>
                <span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="p">(</span>
                    <span class="n">suffix</span>
                    <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;atrice&quot;</span><span class="p">,</span> <span class="s2">&quot;ateur&quot;</span><span class="p">,</span> <span class="s2">&quot;ation&quot;</span><span class="p">,</span> <span class="s2">&quot;atrices&quot;</span><span class="p">,</span> <span class="s2">&quot;ateurs&quot;</span><span class="p">,</span> <span class="s2">&quot;ations&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span>
                <span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;ic&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s2">&quot;ic&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;iqU&quot;</span><span class="p">))</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;logie&quot;</span><span class="p">,</span> <span class="s2">&quot;logies&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;log&quot;</span><span class="p">)</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;usion&quot;</span><span class="p">,</span> <span class="s2">&quot;ution&quot;</span><span class="p">,</span> <span class="s2">&quot;usions&quot;</span><span class="p">,</span> <span class="s2">&quot;utions&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ence&quot;</span><span class="p">,</span> <span class="s2">&quot;ences&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ent&quot;</span><span class="p">)</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;it</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;it</span><span class="se">\xE9</span><span class="s2">s&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;abil&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s2">&quot;abil&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;l&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;ic&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s2">&quot;ic&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;iqU&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;iv&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s2">&quot;iv&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;if&quot;</span><span class="p">,</span> <span class="s2">&quot;ive&quot;</span><span class="p">,</span> <span class="s2">&quot;ifs&quot;</span><span class="p">,</span> <span class="s2">&quot;ives&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;at&quot;</span> <span class="ow">and</span> <span class="s2">&quot;at&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;ic&quot;</span><span class="p">:</span>
                            <span class="k">if</span> <span class="s2">&quot;ic&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;iqU&quot;</span><span class="p">))</span>
                <span class="k">break</span>

        <span class="c1"># STEP 2a: Verb suffixes beginning &#39;i&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span> <span class="ow">or</span> <span class="n">rv_ending_found</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2a_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span>
                        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">rv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>
                        <span class="ow">and</span> <span class="n">rv</span><span class="p">[</span><span class="n">rv</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">step2a_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

            <span class="c1"># STEP 2b: Other verb suffixes</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">step2a_success</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2b_suffixes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;ions&quot;</span> <span class="ow">and</span> <span class="s2">&quot;ions&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                            <span class="n">step2b_success</span> <span class="o">=</span> <span class="kc">True</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                            <span class="s2">&quot;eraIent&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;erions&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\xE8</span><span class="s2">rent&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;erais&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;erait&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;eriez&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;erons&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;eront&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;erai&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;eras&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;erez&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">es&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;era&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;iez&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">e&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">s&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;er&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ez&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">step2b_success</span> <span class="o">=</span> <span class="kc">True</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                            <span class="s2">&quot;assions&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;assent&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;assiez&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;aIent&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;antes&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;asses&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">mes&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">tes&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ante&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ants&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;asse&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ais&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ait&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ant&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">t&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ai&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;as&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;a&quot;</span><span class="p">,</span>
                        <span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">step2b_success</span> <span class="o">=</span> <span class="kc">True</span>
                            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">):</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">break</span>

        <span class="c1"># STEP 3</span>
        <span class="k">if</span> <span class="n">step1_success</span> <span class="ow">or</span> <span class="n">step2a_success</span> <span class="ow">or</span> <span class="n">step2b_success</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Y&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;i&quot;</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\xE7</span><span class="s2">&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;c&quot;</span><span class="p">))</span>

        <span class="c1"># STEP 4: Residual suffixes</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s2">&quot;aiou</span><span class="se">\xE8</span><span class="s2">s&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step4_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;ion&quot;</span> <span class="ow">and</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span> <span class="ow">and</span> <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="ow">in</span> <span class="s2">&quot;st&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ier&quot;</span><span class="p">,</span> <span class="s2">&quot;i</span><span class="se">\xE8</span><span class="s2">re&quot;</span><span class="p">,</span> <span class="s2">&quot;Ier&quot;</span><span class="p">,</span> <span class="s2">&quot;I</span><span class="se">\xE8</span><span class="s2">re&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;e&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\xEB</span><span class="s2">&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;gu&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">break</span>

        <span class="c1"># STEP 5: Undouble</span>
        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;enn&quot;</span><span class="p">,</span> <span class="s2">&quot;onn&quot;</span><span class="p">,</span> <span class="s2">&quot;ett&quot;</span><span class="p">,</span> <span class="s2">&quot;ell&quot;</span><span class="p">,</span> <span class="s2">&quot;eill&quot;</span><span class="p">)):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># STEP 6: Un-accent</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE8</span><span class="s2">&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>
                <span class="k">break</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span></div>

    <span class="k">def</span> <span class="nf">__rv_french</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">vowels</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the region RV that is used by the French stemmer.</span>

<span class="sd">        If the word begins with two vowels, RV is the region after</span>
<span class="sd">        the third letter. Otherwise, it is the region after the first</span>
<span class="sd">        vowel not at the beginning of the word, or the end of the word</span>
<span class="sd">        if these positions cannot be found. (Exceptionally, u&#39;par&#39;,</span>
<span class="sd">        u&#39;col&#39; or u&#39;tap&#39; at the beginning of a word is also taken to</span>
<span class="sd">        define RV as the region to their right.)</span>

<span class="sd">        :param word: The French word whose region RV is determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :param vowels: The French vowels that are used to determine</span>
<span class="sd">                       the region RV.</span>
<span class="sd">        :type vowels: unicode</span>
<span class="sd">        :return: the region RV for the respective French word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the stem method of</span>
<span class="sd">               the subclass FrenchStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s2">&quot;par&quot;</span><span class="p">,</span> <span class="s2">&quot;col&quot;</span><span class="p">,</span> <span class="s2">&quot;tap&quot;</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span>
                <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span>
            <span class="p">):</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                        <span class="k">break</span>

        <span class="k">return</span> <span class="n">rv</span></div>


<div class="viewcode-block" id="GermanStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.GermanStemmer">[docs]</a><span class="k">class</span> <span class="nc">GermanStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The German Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The German vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __s_ending: Letters that may directly appear before a word final &#39;s&#39;.</span>
<span class="sd">    :type __s_ending: unicode</span>
<span class="sd">    :cvar __st_ending: Letter that may directly appear before a word final &#39;st&#39;.</span>
<span class="sd">    :type __st_ending: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the German</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/german/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiouy</span><span class="se">\xE4\xF6\xFC</span><span class="s2">&quot;</span>
    <span class="n">__s_ending</span> <span class="o">=</span> <span class="s2">&quot;bdfghklmnrt&quot;</span>
    <span class="n">__st_ending</span> <span class="o">=</span> <span class="s2">&quot;bdfghklmnt&quot;</span>

    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;ern&quot;</span><span class="p">,</span> <span class="s2">&quot;em&quot;</span><span class="p">,</span> <span class="s2">&quot;er&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="s2">&quot;es&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;est&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="s2">&quot;er&quot;</span><span class="p">,</span> <span class="s2">&quot;st&quot;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;isch&quot;</span><span class="p">,</span> <span class="s2">&quot;lich&quot;</span><span class="p">,</span> <span class="s2">&quot;heit&quot;</span><span class="p">,</span> <span class="s2">&quot;keit&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="s2">&quot;ung&quot;</span><span class="p">,</span> <span class="s2">&quot;ig&quot;</span><span class="p">,</span> <span class="s2">&quot;ik&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="GermanStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.GermanStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a German word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xDF</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;ss&quot;</span><span class="p">)</span>

        <span class="c1"># Every occurrence of &#39;u&#39; and &#39;y&#39;</span>
        <span class="c1"># between vowels is put into upper case.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

                <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># R1 is adjusted so that the region before it</span>
        <span class="c1"># contains at least 3 letters.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="mi">3</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">word</span>
                <span class="k">break</span>

        <span class="c1"># STEP 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="s2">&quot;es&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s2">&quot;niss&quot;</span>
                <span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__s_ending</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 2</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;st&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__st_ending</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 3: Derivational suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="s2">&quot;ung&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="s2">&quot;ig&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="ow">and</span> <span class="s2">&quot;e&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                <span class="k">elif</span> <span class="p">(</span>
                    <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ig&quot;</span><span class="p">,</span> <span class="s2">&quot;ik&quot;</span><span class="p">,</span> <span class="s2">&quot;isch&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="s2">&quot;e&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;lich&quot;</span><span class="p">,</span> <span class="s2">&quot;heit&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="s2">&quot;er&quot;</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="ow">or</span> <span class="s2">&quot;en&quot;</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;keit&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="s2">&quot;lich&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="s2">&quot;ig&quot;</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># Umlaut accents are removed and</span>
        <span class="c1"># &#39;u&#39; and &#39;y&#39; are put back into lower case.</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE4</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xF6</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xFC</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span></div></div>


<div class="viewcode-block" id="HungarianStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.HungarianStemmer">[docs]</a><span class="k">class</span> <span class="nc">HungarianStemmer</span><span class="p">(</span><span class="n">_LanguageSpecificStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Hungarian Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Hungarian vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __digraphs: The Hungarian digraphs.</span>
<span class="sd">    :type __digraphs: tuple</span>
<span class="sd">    :cvar __double_consonants: The Hungarian double consonants.</span>
<span class="sd">    :type __double_consonants: tuple</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :cvar __step4_suffixes: Suffixes to be deleted in step 4 of the algorithm.</span>
<span class="sd">    :type __step4_suffixes: tuple</span>
<span class="sd">    :cvar __step5_suffixes: Suffixes to be deleted in step 5 of the algorithm.</span>
<span class="sd">    :type __step5_suffixes: tuple</span>
<span class="sd">    :cvar __step6_suffixes: Suffixes to be deleted in step 6 of the algorithm.</span>
<span class="sd">    :type __step6_suffixes: tuple</span>
<span class="sd">    :cvar __step7_suffixes: Suffixes to be deleted in step 7 of the algorithm.</span>
<span class="sd">    :type __step7_suffixes: tuple</span>
<span class="sd">    :cvar __step8_suffixes: Suffixes to be deleted in step 8 of the algorithm.</span>
<span class="sd">    :type __step8_suffixes: tuple</span>
<span class="sd">    :cvar __step9_suffixes: Suffixes to be deleted in step 9 of the algorithm.</span>
<span class="sd">    :type __step9_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Hungarian</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/hungarian/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiou</span><span class="se">\xF6\xFC\xE1\xE9\xED\xF3\xF5\xFA\xFB</span><span class="s2">&quot;</span>
    <span class="n">__digraphs</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;cs&quot;</span><span class="p">,</span> <span class="s2">&quot;dz&quot;</span><span class="p">,</span> <span class="s2">&quot;dzs&quot;</span><span class="p">,</span> <span class="s2">&quot;gy&quot;</span><span class="p">,</span> <span class="s2">&quot;ly&quot;</span><span class="p">,</span> <span class="s2">&quot;ny&quot;</span><span class="p">,</span> <span class="s2">&quot;ty&quot;</span><span class="p">,</span> <span class="s2">&quot;zs&quot;</span><span class="p">)</span>
    <span class="n">__double_consonants</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;bb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ccs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ggy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ll&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lly&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nny&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ss&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ssz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tty&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zzs&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;al&quot;</span><span class="p">,</span> <span class="s2">&quot;el&quot;</span><span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;k</span><span class="se">\xE9</span><span class="s2">ppen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;onk</span><span class="se">\xE9</span><span class="s2">nt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;enk</span><span class="se">\xE9</span><span class="s2">nt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ank</span><span class="se">\xE9</span><span class="s2">nt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;k</span><span class="se">\xE9</span><span class="s2">pp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;k</span><span class="se">\xE9</span><span class="s2">nt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ban&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ben&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nak&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nek&quot;</span><span class="p">,</span>
        <span class="s2">&quot;val&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vel&quot;</span><span class="p">,</span>
        <span class="s2">&quot;t</span><span class="se">\xF3</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;t</span><span class="se">\xF5</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;r</span><span class="se">\xF3</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;r</span><span class="se">\xF5</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;b</span><span class="se">\xF3</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;b</span><span class="se">\xF5</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hoz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;h</span><span class="se">\xF6</span><span class="s2">z&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n</span><span class="se">\xE1</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n</span><span class="se">\xE9</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">rt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kor&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ba&quot;</span><span class="p">,</span>
        <span class="s2">&quot;be&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ra&quot;</span><span class="p">,</span>
        <span class="s2">&quot;re&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ig&quot;</span><span class="p">,</span>
        <span class="s2">&quot;at&quot;</span><span class="p">,</span>
        <span class="s2">&quot;et&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ot&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xF6</span><span class="s2">t&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ul&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xFC</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;v</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;v</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="s2">&quot;on&quot;</span><span class="p">,</span>
        <span class="s2">&quot;an&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xF6</span><span class="s2">n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;t&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">nk</span><span class="se">\xE9</span><span class="s2">nt&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">n&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">n&quot;</span><span class="p">)</span>
    <span class="n">__step4_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;astul&quot;</span><span class="p">,</span>
        <span class="s2">&quot;est</span><span class="se">\xFC</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">stul&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">st</span><span class="se">\xFC</span><span class="s2">l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;stul&quot;</span><span class="p">,</span>
        <span class="s2">&quot;st</span><span class="se">\xFC</span><span class="s2">l&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step5_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">__step6_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;ok</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xF6</span><span class="s2">k</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ak</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ek</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">k</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1\xE9</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">k</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9\xE9</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;k</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step7_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">juk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">j</span><span class="se">\xFC</span><span class="s2">k&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xFC</span><span class="s2">nk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;unk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;juk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;j</span><span class="se">\xFC</span><span class="s2">k&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">nk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">nk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xFC</span><span class="s2">k&quot;</span><span class="p">,</span>
        <span class="s2">&quot;em&quot;</span><span class="p">,</span>
        <span class="s2">&quot;om&quot;</span><span class="p">,</span>
        <span class="s2">&quot;am&quot;</span><span class="p">,</span>
        <span class="s2">&quot;od&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ad&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xF6</span><span class="s2">d&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ja&quot;</span><span class="p">,</span>
        <span class="s2">&quot;je&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">d&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">d&quot;</span><span class="p">,</span>
        <span class="s2">&quot;m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;d&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;e&quot;</span><span class="p">,</span>
        <span class="s2">&quot;o&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step8_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;jaitok&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jeitek&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jaink&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jeink&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aitok&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eitek&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">itok&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">itek&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jaim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jeim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jaid&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jeid&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eink&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aink&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itek&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jeik&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jaik&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">ink&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">ink&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aid&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eid&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ink&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aik&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eik&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">im&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">ik&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">im&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">ik&quot;</span><span class="p">,</span>
        <span class="s2">&quot;im&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ik&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step9_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">k&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">k&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xF6</span><span class="s2">k&quot;</span><span class="p">,</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span> <span class="s2">&quot;ek&quot;</span><span class="p">,</span> <span class="s2">&quot;ak&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="HungarianStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.HungarianStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem an Hungarian word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">r1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__r1_hungarian</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__digraphs</span><span class="p">)</span>

        <span class="c1"># STEP 1: Remove instrumental case</span>
        <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">double_cons</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">double_cons</span><span class="p">)</span> <span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">double_cons</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]))</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">double_cons</span><span class="p">)</span> <span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">double_cons</span><span class="p">:</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]))</span>
                    <span class="k">break</span>

        <span class="c1"># STEP 2: Remove frequent cases</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;a&quot;</span><span class="p">))</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;e&quot;</span><span class="p">))</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                <span class="k">break</span>

        <span class="c1"># STEP 3: Remove special cases</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">n&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
                <span class="k">break</span>

        <span class="c1"># STEP 4: Remove other cases</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step4_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">stul&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">st</span><span class="se">\xFC</span><span class="s2">l&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 5: Remove factive case</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step5_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">double_cons</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__double_consonants</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">double_cons</span><span class="p">)</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">double_cons</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]))</span>

                        <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">double_cons</span><span class="p">)</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">double_cons</span><span class="p">:</span>
                            <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="n">r1</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]))</span>
                        <span class="k">break</span>

        <span class="c1"># STEP 6: Remove owned</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step6_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">k</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE1\xE9</span><span class="s2">i&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">k</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9\xE9</span><span class="s2">i&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9\xE9</span><span class="s2">&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 7: Remove singular owner suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step7_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">nk&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">juk&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">m&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">d&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">nk&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">j</span><span class="se">\xFC</span><span class="s2">k&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">m&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">d&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 8: Remove plural owner suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step8_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">im&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">id&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">i&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">ink&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">itok&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">ik&quot;</span><span class="p">,</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">im&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">id&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">i&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">ink&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">itek&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">ik&quot;</span><span class="p">,</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 9: Remove plural suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step9_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">k&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">k&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">word</span></div>

    <span class="k">def</span> <span class="nf">__r1_hungarian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">vowels</span><span class="p">,</span> <span class="n">digraphs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the region R1 that is used by the Hungarian stemmer.</span>

<span class="sd">        If the word begins with a vowel, R1 is defined as the region</span>
<span class="sd">        after the first consonant or digraph (= two letters stand for</span>
<span class="sd">        one phoneme) in the word. If the word begins with a consonant,</span>
<span class="sd">        it is defined as the region after the first vowel in the word.</span>
<span class="sd">        If the word does not contain both a vowel and consonant, R1</span>
<span class="sd">        is the null region at the end of the word.</span>

<span class="sd">        :param word: The Hungarian word whose region R1 is determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :param vowels: The Hungarian vowels that are used to determine</span>
<span class="sd">                       the region R1.</span>
<span class="sd">        :type vowels: unicode</span>
<span class="sd">        :param digraphs: The digraphs that are used to determine the</span>
<span class="sd">                         region R1.</span>
<span class="sd">        :type digraphs: tuple</span>
<span class="sd">        :return: the region R1 for the respective word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the stem method of the subclass</span>
<span class="sd">               HungarianStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">digraph</span> <span class="ow">in</span> <span class="n">digraphs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">digraph</span> <span class="ow">in</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">word</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">digraph</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                    <span class="k">return</span> <span class="n">r1</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                    <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                    <span class="k">break</span>

        <span class="k">return</span> <span class="n">r1</span></div>


<div class="viewcode-block" id="ItalianStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.ItalianStemmer">[docs]</a><span class="k">class</span> <span class="nc">ItalianStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Italian Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Italian vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step0_suffixes: Suffixes to be deleted in step 0 of the algorithm.</span>
<span class="sd">    :type __step0_suffixes: tuple</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Italian</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/italian/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiou</span><span class="se">\xE0\xE8\xEC\xF2\xF9</span><span class="s2">&quot;</span>
    <span class="n">__step0_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;gliela&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gliele&quot;</span><span class="p">,</span>
        <span class="s2">&quot;glieli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;glielo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gliene&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sene&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mela&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mele&quot;</span><span class="p">,</span>
        <span class="s2">&quot;meli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;melo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mene&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tela&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tele&quot;</span><span class="p">,</span>
        <span class="s2">&quot;teli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;telo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tene&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cela&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cele&quot;</span><span class="p">,</span>
        <span class="s2">&quot;celi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;celo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cene&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vela&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vele&quot;</span><span class="p">,</span>
        <span class="s2">&quot;veli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;velo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vene&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ci&quot;</span><span class="p">,</span>
        <span class="s2">&quot;la&quot;</span><span class="p">,</span>
        <span class="s2">&quot;le&quot;</span><span class="p">,</span>
        <span class="s2">&quot;li&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ne&quot;</span><span class="p">,</span>
        <span class="s2">&quot;si&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vi&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;atrice&quot;</span><span class="p">,</span>
        <span class="s2">&quot;atrici&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azione&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azioni&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uzione&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uzioni&quot;</span><span class="p">,</span>
        <span class="s2">&quot;usione&quot;</span><span class="p">,</span>
        <span class="s2">&quot;usioni&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amento&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amenti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imento&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imenti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amente&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abili&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ibile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ibili&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mente&quot;</span><span class="p">,</span>
        <span class="s2">&quot;atore&quot;</span><span class="p">,</span>
        <span class="s2">&quot;atori&quot;</span><span class="p">,</span>
        <span class="s2">&quot;logia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;logie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;anza&quot;</span><span class="p">,</span>
        <span class="s2">&quot;anze&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iche&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ichi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ismo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ismi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ista&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iste&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ist</span><span class="se">\xE0</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ist</span><span class="se">\xE8</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ist</span><span class="se">\xEC</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ante&quot;</span><span class="p">,</span>
        <span class="s2">&quot;anti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;enza&quot;</span><span class="p">,</span>
        <span class="s2">&quot;enze&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ico&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ici&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ica&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ice&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oso&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ose&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it</span><span class="se">\xE0</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iva&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ive&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;erebbero&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irebbero&quot;</span><span class="p">,</span>
        <span class="s2">&quot;assero&quot;</span><span class="p">,</span>
        <span class="s2">&quot;assimo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eranno&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erebbe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eremmo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ereste&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eresti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;essero&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iranno&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irebbe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iremmo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ireste&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iresti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iscano&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iscono&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issero&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arono&quot;</span><span class="p">,</span>
        <span class="s2">&quot;avamo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;avano&quot;</span><span class="p">,</span>
        <span class="s2">&quot;avate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eremo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erete&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erono&quot;</span><span class="p">,</span>
        <span class="s2">&quot;evamo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;evano&quot;</span><span class="p">,</span>
        <span class="s2">&quot;evate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iremo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irete&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irono&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivamo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivano&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ammo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ando&quot;</span><span class="p">,</span>
        <span class="s2">&quot;asse&quot;</span><span class="p">,</span>
        <span class="s2">&quot;assi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emmo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;enda&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ende&quot;</span><span class="p">,</span>
        <span class="s2">&quot;endi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;endo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Yamo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iamo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;immo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isca&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isce&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isci&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isco&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ano&quot;</span><span class="p">,</span>
        <span class="s2">&quot;are&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ata&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ati&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ato&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ava&quot;</span><span class="p">,</span>
        <span class="s2">&quot;avi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;avo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xE0</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ere&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xF2</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ete&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eva&quot;</span><span class="p">,</span>
        <span class="s2">&quot;evi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;evo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xE0</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ire&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xF2</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ita&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ite&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ito&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iva&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ono&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ute&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uto&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="ItalianStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.ItalianStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem an Italian word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># All acute accents are replaced by grave accents.</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE0</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE8</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xEC</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xF3</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xF2</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xFA</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xF9</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Every occurrence of &#39;u&#39; after &#39;q&#39;</span>
        <span class="c1"># is put into upper case.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;q&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

        <span class="c1"># Every occurrence of &#39;u&#39; and &#39;i&#39;</span>
        <span class="c1"># between vowels is put into upper case.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

                <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;i&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rv_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># STEP 0: Attached pronoun</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step0_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ando&quot;</span><span class="p">,</span> <span class="s2">&quot;endo&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                <span class="k">elif</span> <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ar&quot;</span><span class="p">,</span> <span class="s2">&quot;er&quot;</span><span class="p">,</span> <span class="s2">&quot;ir&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                <span class="k">break</span>

        <span class="c1"># STEP 1: Standard suffix removal</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;amente&quot;</span> <span class="ow">and</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;iv&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;at&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;ic&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;abil&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;amento&quot;</span><span class="p">,</span> <span class="s2">&quot;amenti&quot;</span><span class="p">,</span> <span class="s2">&quot;imento&quot;</span><span class="p">,</span> <span class="s2">&quot;imenti&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span>
                    <span class="n">suffix</span>
                <span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;azione&quot;</span><span class="p">,</span> <span class="s2">&quot;azioni&quot;</span><span class="p">,</span> <span class="s2">&quot;atore&quot;</span><span class="p">,</span> <span class="s2">&quot;atori&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;ic&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;logia&quot;</span><span class="p">,</span> <span class="s2">&quot;logie&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;uzione&quot;</span><span class="p">,</span> <span class="s2">&quot;uzioni&quot;</span><span class="p">,</span> <span class="s2">&quot;usione&quot;</span><span class="p">,</span> <span class="s2">&quot;usioni&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;enza&quot;</span><span class="p">,</span> <span class="s2">&quot;enze&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;te&quot;</span><span class="p">)</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;te&quot;</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;it</span><span class="se">\xE0</span><span class="s2">&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;ic&quot;</span><span class="p">,</span> <span class="s2">&quot;iv&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;abil&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ivo&quot;</span><span class="p">,</span> <span class="s2">&quot;ivi&quot;</span><span class="p">,</span> <span class="s2">&quot;iva&quot;</span><span class="p">,</span> <span class="s2">&quot;ive&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;at&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;ic&quot;</span><span class="p">):</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 2: Verb suffixes</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

        <span class="c1"># STEP 3a</span>
        <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE0</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE8</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xEC</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xF2</span><span class="s2">&quot;</span><span class="p">)):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># STEP 3b</span>
        <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;ch&quot;</span><span class="p">,</span> <span class="s2">&quot;gh&quot;</span><span class="p">)):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span></div></div>


<div class="viewcode-block" id="NorwegianStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.NorwegianStemmer">[docs]</a><span class="k">class</span> <span class="nc">NorwegianStemmer</span><span class="p">(</span><span class="n">_ScandinavianStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Norwegian Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Norwegian vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __s_ending: Letters that may directly appear before a word final &#39;s&#39;.</span>
<span class="sd">    :type __s_ending: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Norwegian</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/norwegian/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiouy</span><span class="se">\xE6\xE5\xF8</span><span class="s2">&quot;</span>
    <span class="n">__s_ending</span> <span class="o">=</span> <span class="s2">&quot;bcdfghjlmnoprtvyz&quot;</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;hetenes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hetene&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hetens&quot;</span><span class="p">,</span>
        <span class="s2">&quot;heter&quot;</span><span class="p">,</span>
        <span class="s2">&quot;heten&quot;</span><span class="p">,</span>
        <span class="s2">&quot;endes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ande&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ende&quot;</span><span class="p">,</span>
        <span class="s2">&quot;edes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;enes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erte&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ede&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ane&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ene&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ens&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ers&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ets&quot;</span><span class="p">,</span>
        <span class="s2">&quot;het&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ast&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ert&quot;</span><span class="p">,</span>
        <span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er&quot;</span><span class="p">,</span>
        <span class="s2">&quot;as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;et&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;e&quot;</span><span class="p">,</span>
        <span class="s2">&quot;s&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;dt&quot;</span><span class="p">,</span> <span class="s2">&quot;vt&quot;</span><span class="p">)</span>

    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;hetslov&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eleg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;elig&quot;</span><span class="p">,</span>
        <span class="s2">&quot;elov&quot;</span><span class="p">,</span>
        <span class="s2">&quot;slov&quot;</span><span class="p">,</span>
        <span class="s2">&quot;leg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eig&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lig&quot;</span><span class="p">,</span>
        <span class="s2">&quot;els&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lov&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ig&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="NorwegianStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.NorwegianStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a Norwegian word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">r1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1_scandinavian</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># STEP 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;erte&quot;</span><span class="p">,</span> <span class="s2">&quot;ert&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;er&quot;</span><span class="p">)</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;er&quot;</span><span class="p">)</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__s_ending</span> <span class="ow">or</span> <span class="p">(</span>
                        <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;k&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 2</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 3</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">word</span></div></div>


<div class="viewcode-block" id="PortugueseStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.PortugueseStemmer">[docs]</a><span class="k">class</span> <span class="nc">PortugueseStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Portuguese Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Portuguese vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step4_suffixes: Suffixes to be deleted in step 4 of the algorithm.</span>
<span class="sd">    :type __step4_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Portuguese</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/portuguese/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiou</span><span class="se">\xE1\xE9\xED\xF3\xFA\xE2\xEA\xF4</span><span class="s2">&quot;</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;amentos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imentos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uço~es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amento&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imento&quot;</span><span class="p">,</span>
        <span class="s2">&quot;adoras&quot;</span><span class="p">,</span>
        <span class="s2">&quot;adores&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a</span><span class="se">\xE7</span><span class="s2">o~es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;logias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xEA</span><span class="s2">ncias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amente&quot;</span><span class="p">,</span>
        <span class="s2">&quot;idades&quot;</span><span class="p">,</span>
        <span class="s2">&quot;an</span><span class="se">\xE7</span><span class="s2">as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ismos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;istas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;adora&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a</span><span class="se">\xE7</span><span class="s2">a~o&quot;</span><span class="p">,</span>
        <span class="s2">&quot;antes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">ncia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;logia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uça~o&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xEA</span><span class="s2">ncia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mente&quot;</span><span class="p">,</span>
        <span class="s2">&quot;idade&quot;</span><span class="p">,</span>
        <span class="s2">&quot;an</span><span class="se">\xE7</span><span class="s2">a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ezas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ismo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">vel&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">vel&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ista&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ador&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ante&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iras&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eza&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ico&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ica&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oso&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iva&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ira&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;ar</span><span class="se">\xED</span><span class="s2">amos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xED</span><span class="s2">amos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xED</span><span class="s2">amos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">ssemos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xEA</span><span class="s2">ssemos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">ssemos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xED</span><span class="s2">eis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xED</span><span class="s2">eis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xED</span><span class="s2">eis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">sseis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">sseis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">sseis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">ramos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">ramos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">ramos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">vamos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aremos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eremos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iremos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ariam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eriam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iriam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;assem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;essem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;issem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ara~o&quot;</span><span class="p">,</span>
        <span class="s2">&quot;era~o&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ira~o&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ardes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erdes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irdes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;asses&quot;</span><span class="p">,</span>
        <span class="s2">&quot;esses&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isses&quot;</span><span class="p">,</span>
        <span class="s2">&quot;astes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;estes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;istes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">reis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;areis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">reis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ereis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">reis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ireis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">veis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">amos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;armos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ermos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irmos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aria&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eria&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iria&quot;</span><span class="p">,</span>
        <span class="s2">&quot;asse&quot;</span><span class="p">,</span>
        <span class="s2">&quot;esse&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isse&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aste&quot;</span><span class="p">,</span>
        <span class="s2">&quot;este&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iste&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aram&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eram&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iram&quot;</span><span class="p">,</span>
        <span class="s2">&quot;avam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;irem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ando&quot;</span><span class="p">,</span>
        <span class="s2">&quot;endo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;indo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;adas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;idas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xE1</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aras&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xE1</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eras&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xE1</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;avas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ares&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eres&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ires&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">eis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ados&quot;</span><span class="p">,</span>
        <span class="s2">&quot;idos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">mos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iras&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ada&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ida&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ara&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;era&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ava&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ado&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ido&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ira&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;am&quot;</span><span class="p">,</span>
        <span class="s2">&quot;em&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir&quot;</span><span class="p">,</span>
        <span class="s2">&quot;as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ou&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step4_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xF3</span><span class="s2">&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="PortugueseStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.PortugueseStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a Portuguese word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">step2_success</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE3</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;a~&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xF5</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;o~&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;q</span><span class="se">\xFC</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;qu&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;g</span><span class="se">\xFC</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;gu&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rv_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># STEP 1: Standard suffix removal</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;amente&quot;</span> <span class="ow">and</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;iv&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;at&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;ic&quot;</span><span class="p">,</span> <span class="s2">&quot;ad&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="p">(</span>
                    <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ira&quot;</span><span class="p">,</span> <span class="s2">&quot;iras&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s2">&quot;e&quot;</span>
                <span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ir&quot;</span><span class="p">)</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ir&quot;</span><span class="p">)</span>

                <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;logia&quot;</span><span class="p">,</span> <span class="s2">&quot;logias&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;log&quot;</span><span class="p">)</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;log&quot;</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;uça~o&quot;</span><span class="p">,</span> <span class="s2">&quot;uço~es&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\xEA</span><span class="s2">ncia&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xEA</span><span class="s2">ncias&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ente&quot;</span><span class="p">)</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ente&quot;</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;mente&quot;</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;ante&quot;</span><span class="p">,</span> <span class="s2">&quot;avel&quot;</span><span class="p">,</span> <span class="s2">&quot;ivel&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;idade&quot;</span><span class="p">,</span> <span class="s2">&quot;idades&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;ic&quot;</span><span class="p">,</span> <span class="s2">&quot;iv&quot;</span><span class="p">)):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;abil&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;iva&quot;</span><span class="p">,</span> <span class="s2">&quot;ivo&quot;</span><span class="p">,</span> <span class="s2">&quot;ivas&quot;</span><span class="p">,</span> <span class="s2">&quot;ivos&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;at&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 2: Verb suffixes</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">step2_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

        <span class="c1"># STEP 3</span>
        <span class="k">if</span> <span class="n">step1_success</span> <span class="ow">or</span> <span class="n">step2_success</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1">### STEP 4: Residual suffix</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">step2_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step4_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

        <span class="c1"># STEP 5</span>
        <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xEA</span><span class="s2">&quot;</span><span class="p">)):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;gu&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;u&quot;</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span>
                <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;ci&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE7</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE7</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">)</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;a~&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE3</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;o~&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xF5</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span></div></div>


<div class="viewcode-block" id="RomanianStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.RomanianStemmer">[docs]</a><span class="k">class</span> <span class="nc">RomanianStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Romanian Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Romanian vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step0_suffixes: Suffixes to be deleted in step 0 of the algorithm.</span>
<span class="sd">    :type __step0_suffixes: tuple</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Romanian</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/romanian/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiou</span><span class="se">\u0103\xE2\xEE</span><span class="s2">&quot;</span>
    <span class="n">__step0_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;iilor&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ului&quot;</span><span class="p">,</span>
        <span class="s2">&quot;elor&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ilor&quot;</span><span class="p">,</span>
        <span class="s2">&quot;atei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a</span><span class="se">\u0163</span><span class="s2">ie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a</span><span class="se">\u0163</span><span class="s2">ia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aua&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ele&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iua&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ul&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ea&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ii&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;abilitate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abilitati&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abilit</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ibilitate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abilit</span><span class="se">\u0103</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivitate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivitati&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivit</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icitate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icitati&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icit</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icatori&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivit</span><span class="se">\u0103</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icit</span><span class="se">\u0103</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icator&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a</span><span class="se">\u0163</span><span class="s2">iune&quot;</span><span class="p">,</span>
        <span class="s2">&quot;atoare&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0103</span><span class="s2">toare&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i</span><span class="se">\u0163</span><span class="s2">iune&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itoare&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iciva&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icive&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icivi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iciv</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icala&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icale&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icali&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ical</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ativa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ative&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ativi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ativ</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;atori&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0103</span><span class="s2">tori&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itiva&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itive&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itivi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itiv</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itori&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iciv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ical&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ativ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ator&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0103</span><span class="s2">tor&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itiv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itor&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;abila&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abili&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abil</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ibila&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ibile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ibili&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ibil</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;atori&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;itati&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abil&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ibil&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oasa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oas</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oase&quot;</span><span class="p">,</span>
        <span class="s2">&quot;anta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ante&quot;</span><span class="p">,</span>
        <span class="s2">&quot;anti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ant</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ator&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it</span><span class="se">\u0103</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iune&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iuni&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isme&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ista&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iste&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ist</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i</span><span class="se">\u015F</span><span class="s2">ti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ata&quot;</span><span class="p">,</span>
        <span class="s2">&quot;at</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ati&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ut</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ute&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ita&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ite&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ica&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ice&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ici&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ic</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;o</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ant&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iva&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ive&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iv</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ism&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ist&quot;</span><span class="p">,</span>
        <span class="s2">&quot;at&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ut&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ic&quot;</span><span class="p">,</span>
        <span class="s2">&quot;os&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iv&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;seser</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aser</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iser</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">ser</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;seser</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aser</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iser</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">ser</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ser</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sese</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;seser</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;easc</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ur</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">r</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ase</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aser</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ise</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iser</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xe2</span><span class="s2">se</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">ser</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;use</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ser</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sesem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;indu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">ndu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eaz</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;e</span><span class="se">\u015F</span><span class="s2">ti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;e</span><span class="se">\u015F</span><span class="s2">te&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0103\u015F</span><span class="s2">ti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0103\u015F</span><span class="s2">te&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ea</span><span class="se">\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ia</span><span class="se">\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ur</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">r</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;asem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">sem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;usem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;se</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ser</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sese&quot;</span><span class="p">,</span>
        <span class="s2">&quot;are&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ere&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ire&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">re&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ind&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">nd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eze&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ezi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;esc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0103</span><span class="s2">sc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eau&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iau&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;u</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ur</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xe2</span><span class="s2">r</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ase&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ise&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">se&quot;</span><span class="p">,</span>
        <span class="s2">&quot;use&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a</span><span class="se">\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;e</span><span class="se">\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i</span><span class="se">\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xe2\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ez&quot;</span><span class="p">,</span>
        <span class="s2">&quot;am&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;au&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ea&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;em&quot;</span><span class="p">,</span>
        <span class="s2">&quot;im&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;se&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="RomanianStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.RomanianStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a Romanian word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">step2_success</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

                <span class="k">elif</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;i&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]))</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rv_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># STEP 0: Removal of plurals and other simplifications</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step0_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ul&quot;</span><span class="p">,</span> <span class="s2">&quot;ului&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">elif</span> <span class="p">(</span>
                        <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;aua&quot;</span>
                        <span class="ow">or</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;atei&quot;</span>
                        <span class="ow">or</span> <span class="p">(</span><span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;ile&quot;</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;ab&quot;</span><span class="p">)</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ea&quot;</span><span class="p">,</span> <span class="s2">&quot;ele&quot;</span><span class="p">,</span> <span class="s2">&quot;elor&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ii&quot;</span><span class="p">,</span> <span class="s2">&quot;iua&quot;</span><span class="p">,</span> <span class="s2">&quot;iei&quot;</span><span class="p">,</span> <span class="s2">&quot;iile&quot;</span><span class="p">,</span> <span class="s2">&quot;iilor&quot;</span><span class="p">,</span> <span class="s2">&quot;ilor&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span>

                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;a</span><span class="se">\u0163</span><span class="s2">ie&quot;</span><span class="p">,</span> <span class="s2">&quot;a</span><span class="se">\u0163</span><span class="s2">ia&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 1: Reduction of combining suffixes</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>

            <span class="n">replacement_done</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">:</span>
                        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="n">replacement_done</span> <span class="o">=</span> <span class="kc">True</span>

                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                            <span class="s2">&quot;abilitate&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;abilitati&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;abilit</span><span class="se">\u0103</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;abilit</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
                        <span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;abil&quot;</span><span class="p">)</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;ibilitate&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                            <span class="s2">&quot;ivitate&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ivitati&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ivit</span><span class="se">\u0103</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ivit</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
                        <span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;iv&quot;</span><span class="p">)</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                            <span class="s2">&quot;icitate&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;icitati&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;icit</span><span class="se">\u0103</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;icit</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;icator&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;icatori&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;iciv&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;iciva&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;icive&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;icivi&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;iciv</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ical&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;icala&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;icale&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;icali&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ical</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ic&quot;</span><span class="p">)</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                            <span class="s2">&quot;ativ&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ativa&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ative&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ativi&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ativ</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;a</span><span class="se">\u0163</span><span class="s2">iune&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;atoare&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ator&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;atori&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\u0103</span><span class="s2">toare&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\u0103</span><span class="s2">tor&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\u0103</span><span class="s2">tori&quot;</span><span class="p">,</span>
                        <span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;at&quot;</span><span class="p">)</span>

                            <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                                <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;at&quot;</span><span class="p">)</span>

                        <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                            <span class="s2">&quot;itiv&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;itiva&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;itive&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;itivi&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;itiv</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;i</span><span class="se">\u0163</span><span class="s2">iune&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;itoare&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;itor&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;itori&quot;</span><span class="p">,</span>
                        <span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;it&quot;</span><span class="p">)</span>

                            <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                                <span class="n">r2</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;it&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">break</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">replacement_done</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="c1"># STEP 2: Removal of standard suffixes</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="n">step2_success</span> <span class="o">=</span> <span class="kc">True</span>

                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;iune&quot;</span><span class="p">,</span> <span class="s2">&quot;iuni&quot;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\u0163</span><span class="s2">&quot;</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="s2">&quot;t&quot;</span><span class="p">))</span>

                    <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                        <span class="s2">&quot;ism&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;isme&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ist&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ista&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;iste&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;isti&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ist</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i</span><span class="se">\u015F</span><span class="s2">ti&quot;</span><span class="p">,</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ist&quot;</span><span class="p">)</span>

                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 3: Removal of verb suffixes</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">step2_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                            <span class="s2">&quot;seser</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;seser</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ser</span><span class="se">\u0103\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;sese</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;seser</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ser</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;sesem&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;se</span><span class="se">\u015F</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ser</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;sese&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;a</span><span class="se">\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;e</span><span class="se">\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;i</span><span class="se">\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\xE2\u0163</span><span class="s2">i&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;sei&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\u0103</span><span class="s2">m&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;em&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;im&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;</span><span class="se">\xE2</span><span class="s2">m&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;se&quot;</span><span class="p">,</span>
                        <span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="p">(</span>
                                <span class="ow">not</span> <span class="n">rv</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>
                                <span class="ow">and</span> <span class="n">rv</span><span class="p">[</span><span class="n">rv</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s2">&quot;aeio</span><span class="se">\u0103\xE2\xEE</span><span class="s2">&quot;</span>
                            <span class="p">):</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="k">break</span>

        <span class="c1"># STEP 4: Removal of final vowel</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ie&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0103</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span></div></div>


<div class="viewcode-block" id="RussianStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.RussianStemmer">[docs]</a><span class="k">class</span> <span class="nc">RussianStemmer</span><span class="p">(</span><span class="n">_LanguageSpecificStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Russian Snowball stemmer.</span>

<span class="sd">    :cvar __perfective_gerund_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __perfective_gerund_suffixes: tuple</span>
<span class="sd">    :cvar __adjectival_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __adjectival_suffixes: tuple</span>
<span class="sd">    :cvar __reflexive_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __reflexive_suffixes: tuple</span>
<span class="sd">    :cvar __verb_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __verb_suffixes: tuple</span>
<span class="sd">    :cvar __noun_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __noun_suffixes: tuple</span>
<span class="sd">    :cvar __superlative_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __superlative_suffixes: tuple</span>
<span class="sd">    :cvar __derivational_suffixes: Suffixes to be deleted.</span>
<span class="sd">    :type __derivational_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Russian</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/russian/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__perfective_gerund_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;ivshis&#39;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshis&#39;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshis&#39;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;v&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__adjectival_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;ui^ushchi^ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchi^ai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchimi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchymi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchego&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchogo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchemu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchomu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchikh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchykh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchaia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchoi^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchei^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchi^ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchi^ai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchoe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchii`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchyi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchoi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchym&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ushchom&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchimi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchymi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchego&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchogo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchemu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchomu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchikh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchykh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchoi^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchei^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchoe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchii`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchyi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchoi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchym&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ushchom&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchi^ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchi^ai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshi^ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshi^ai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshi^ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshi^ai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchimi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchymi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchego&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchogo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchemu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchomu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchikh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchykh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchoi^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchei^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshimi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshymi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshego&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshogo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshemu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshomu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshikh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshykh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshoi^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshei^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshimi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshymi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshego&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshogo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshemu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshomu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshikh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshykh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshoi^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshei^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshi^ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshi^ai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchoe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchii`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchyi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchoi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchym&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shchom&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshoe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshii`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshyi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshoi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshym&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivshom&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshoe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshii`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshyi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshoi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshym&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yvshom&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshimi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshymi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshego&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshogo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshemu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshomu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshikh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshykh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshoi^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshei^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emi^ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emi^ai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nni^ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nni^ai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshoe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshii`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshyi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshoi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshym&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vshom&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emimi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emymi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emego&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emogo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ememu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emomu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emikh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emykh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emoi^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emei^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnimi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnymi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnego&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnogo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnemu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnomu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnikh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnykh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnoi^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnei^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emoe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emii`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emyi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emoi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emym&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emom&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnoe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnii`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnyi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnoi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnym&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nnom&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ymi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ego&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ogo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;omu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ikh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ykh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ai^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oi^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ei^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ii`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;em&quot;</span><span class="p">,</span>
        <span class="s2">&quot;im&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ym&quot;</span><span class="p">,</span>
        <span class="s2">&quot;om&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__reflexive_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;si^a&quot;</span><span class="p">,</span> <span class="s2">&quot;s&#39;&quot;</span><span class="p">)</span>
    <span class="n">__verb_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;esh&#39;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ei`te&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui`te&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^ut&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ish&#39;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ete&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i`te&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ut&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nno&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ila&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yla&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ena&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ite&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ili&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yli&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ilo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ylo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eno&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^at&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uet&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eny&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it&#39;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yt&#39;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;la&quot;</span><span class="p">,</span>
        <span class="s2">&quot;na&quot;</span><span class="p">,</span>
        <span class="s2">&quot;li&quot;</span><span class="p">,</span>
        <span class="s2">&quot;em&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;no&quot;</span><span class="p">,</span>
        <span class="s2">&quot;et&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ny&quot;</span><span class="p">,</span>
        <span class="s2">&quot;t&#39;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ui`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;il&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;im&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ym&quot;</span><span class="p">,</span>
        <span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;n&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__noun_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;ii^ami&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ii^akh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^ami&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ii^am&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^akh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ami&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^am&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;akh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ii^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;&#39;i^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ii^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;&#39;i^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ev&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ov&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;&#39;e&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ei&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ii&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ei`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oi`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ii`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;em&quot;</span><span class="p">,</span>
        <span class="s2">&quot;am&quot;</span><span class="p">,</span>
        <span class="s2">&quot;om&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i^a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;e&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i`&quot;</span><span class="p">,</span>
        <span class="s2">&quot;o&quot;</span><span class="p">,</span>
        <span class="s2">&quot;u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="p">,</span>
        <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__superlative_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;ei`she&quot;</span><span class="p">,</span> <span class="s2">&quot;ei`sh&quot;</span><span class="p">)</span>
    <span class="n">__derivational_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;ost&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;ost&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="RussianStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.RussianStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a Russian word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">chr_exceeded</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">ord</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">255</span><span class="p">:</span>
                <span class="n">chr_exceeded</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">chr_exceeded</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__cyrillic_to_roman</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">adjectival_removed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">verb_removed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">undouble_success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">superlative_removed</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">rv</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__regions_russian</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

        <span class="c1"># Step 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__perfective_gerund_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="s2">&quot;vshi&quot;</span><span class="p">,</span> <span class="s2">&quot;vshis&#39;&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s2">&quot;i^a&quot;</span>
                        <span class="ow">or</span> <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span>
                    <span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__reflexive_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__adjectival_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                        <span class="s2">&quot;i^ushchi^ui^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchi^ai^a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchui^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchai^a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchoi^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchei^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchimi&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchymi&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchego&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchogo&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchemu&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchomu&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchikh&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchykh&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchi^ui^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchi^ai^a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchee&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchie&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchye&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchoe&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchei`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchii`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchyi`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchoi`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchem&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchim&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchym&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i^ushchom&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshi^ui^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshi^ai^a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchui^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchai^a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchoi^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchei^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emi^ui^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emi^ai^a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nni^ui^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nni^ai^a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchimi&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchymi&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchego&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchogo&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchemu&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchomu&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchikh&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchykh&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshui^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshai^a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshoi^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshei^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchee&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchie&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchye&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchoe&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchei`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchii`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchyi`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchoi`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchem&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchim&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchym&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;shchom&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshimi&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshymi&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshego&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshogo&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshemu&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshomu&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshikh&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshykh&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emui^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emai^a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emoi^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emei^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnui^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnai^a&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnoi^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnei^u&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshee&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshie&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshye&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshoe&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshei`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshii`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshyi`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshoi`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshem&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshim&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshym&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;vshom&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emimi&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emymi&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emego&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emogo&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ememu&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emomu&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emikh&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emykh&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnimi&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnymi&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnego&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnogo&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnemu&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnomu&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnikh&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnykh&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emee&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emie&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emye&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emoe&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emei`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emii`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emyi`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emoi`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emem&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emim&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emym&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;emom&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnee&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnie&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnye&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnoe&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnei`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnii`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnyi`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnoi`&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnem&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnim&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnym&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;nnom&quot;</span><span class="p">,</span>
                    <span class="p">):</span>
                        <span class="k">if</span> <span class="p">(</span>
                            <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s2">&quot;i^a&quot;</span>
                            <span class="ow">or</span> <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span>
                        <span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">adjectival_removed</span> <span class="o">=</span> <span class="kc">True</span>
                            <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">adjectival_removed</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">adjectival_removed</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__verb_suffixes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                            <span class="s2">&quot;la&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;na&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ete&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;i`te&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;li&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;i`&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;l&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;em&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;n&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;lo&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;no&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;et&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;i^ut&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ny&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;t&#39;&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;esh&#39;&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;nno&quot;</span><span class="p">,</span>
                        <span class="p">):</span>
                            <span class="k">if</span> <span class="p">(</span>
                                <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s2">&quot;i^a&quot;</span>
                                <span class="ow">or</span> <span class="n">rv</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span>
                            <span class="p">):</span>
                                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                                <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                                <span class="n">verb_removed</span> <span class="o">=</span> <span class="kc">True</span>
                                <span class="k">break</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                            <span class="n">verb_removed</span> <span class="o">=</span> <span class="kc">True</span>
                            <span class="k">break</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">adjectival_removed</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">verb_removed</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__noun_suffixes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                        <span class="k">break</span>

        <span class="c1"># Step 2</span>
        <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Step 3</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__derivational_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># Step 4</span>
        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;nn&quot;</span><span class="p">):</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">undouble_success</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">undouble_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__superlative_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">superlative_removed</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;nn&quot;</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">undouble_success</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">superlative_removed</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__roman_to_cyrillic</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span></div>

    <span class="k">def</span> <span class="nf">__regions_russian</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the regions RV and R2 which are used by the Russian stemmer.</span>

<span class="sd">        In any word, RV is the region after the first vowel,</span>
<span class="sd">        or the end of the word if it contains no vowel.</span>

<span class="sd">        R2 is the region after the first non-vowel following</span>
<span class="sd">        a vowel in R1, or the end of the word if there is no such non-vowel.</span>

<span class="sd">        R1 is the region after the first non-vowel following a vowel,</span>
<span class="sd">        or the end of the word if there is no such non-vowel.</span>

<span class="sd">        :param word: The Russian word whose regions RV and R2 are determined.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: the regions RV and R2 for the respective Russian word.</span>
<span class="sd">        :rtype: tuple</span>
<span class="sd">        :note: This helper method is invoked by the stem method of the subclass</span>
<span class="sd">               RussianStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r1</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="n">vowels</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;i^a&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;i^u&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;e`&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                <span class="k">break</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="ow">and</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                <span class="k">break</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                <span class="k">break</span>

        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;i^a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;i^u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;e`&quot;</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;i^a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;i^u&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;e`&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__cyrillic_to_roman</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Transliterate a Russian word into the Roman alphabet.</span>

<span class="sd">        A Russian word whose letters consist of the Cyrillic</span>
<span class="sd">        alphabet are transliterated into the Roman alphabet</span>
<span class="sd">        in order to ease the forthcoming stemming process.</span>

<span class="sd">        :param word: The word that is transliterated.</span>
<span class="sd">        :type word: unicode</span>
<span class="sd">        :return: the transliterated word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the stem method of the subclass</span>
<span class="sd">               RussianStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0410</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0430</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0411</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0431</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0412</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0432</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0413</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0433</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0414</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0434</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0415</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0435</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0401</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0451</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0416</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;zh&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0436</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;zh&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0417</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0437</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0418</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0438</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0419</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i`&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0439</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i`&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u041A</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u043A</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u041B</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u043B</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u041C</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u043C</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u041D</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u043D</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u041E</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u043E</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u041F</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u043F</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0420</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0440</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0421</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0441</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0422</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0442</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0423</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0443</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0424</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0444</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0425</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;kh&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0445</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;kh&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0426</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;t^s&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0446</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;t^s&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0427</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;ch&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0447</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;ch&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0428</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;sh&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0448</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;sh&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0429</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;shch&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u0449</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;shch&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u042A</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&#39;&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u044A</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&#39;&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u042B</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u044B</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u042C</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u044C</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u042D</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;e`&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u044D</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;e`&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u042E</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i^u&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u044E</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i^u&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u042F</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i^a&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u044F</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i^a&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span>

    <span class="k">def</span> <span class="nf">__roman_to_cyrillic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Transliterate a Russian word back into the Cyrillic alphabet.</span>

<span class="sd">        A Russian word formerly transliterated into the Roman alphabet</span>
<span class="sd">        in order to ease the stemming process, is transliterated back</span>
<span class="sd">        into the Cyrillic alphabet, its original form.</span>

<span class="sd">        :param word: The word that is transliterated.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: word, the transliterated word.</span>
<span class="sd">        :rtype: unicode</span>
<span class="sd">        :note: This helper method is invoked by the stem method of the subclass</span>
<span class="sd">               RussianStemmer. It is not to be invoked directly!</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;i^u&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u044E</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;i^a&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u044F</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;shch&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0449</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;kh&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0445</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;t^s&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0446</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;ch&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0447</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;e`&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u044D</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;i`&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0439</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;sh&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0448</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u043A</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0435</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;zh&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0436</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0430</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0431</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0432</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0433</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0434</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0435</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0437</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0438</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u043B</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u043C</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u043D</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u043E</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u043F</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0440</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0441</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0442</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0443</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u0444</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u044A</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u044B</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u044C</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span></div>


<div class="viewcode-block" id="SpanishStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.SpanishStemmer">[docs]</a><span class="k">class</span> <span class="nc">SpanishStemmer</span><span class="p">(</span><span class="n">_StandardStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Spanish Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Spanish vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __step0_suffixes: Suffixes to be deleted in step 0 of the algorithm.</span>
<span class="sd">    :type __step0_suffixes: tuple</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2a_suffixes: Suffixes to be deleted in step 2a of the algorithm.</span>
<span class="sd">    :type __step2a_suffixes: tuple</span>
<span class="sd">    :cvar __step2b_suffixes: Suffixes to be deleted in step 2b of the algorithm.</span>
<span class="sd">    :type __step2b_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Spanish</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/spanish/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiou</span><span class="se">\xE1\xE9\xED\xF3\xFA\xFC</span><span class="s2">&quot;</span>
    <span class="n">__step0_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;selas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;selos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sela&quot;</span><span class="p">,</span>
        <span class="s2">&quot;selo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;las&quot;</span><span class="p">,</span>
        <span class="s2">&quot;les&quot;</span><span class="p">,</span>
        <span class="s2">&quot;los&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;me&quot;</span><span class="p">,</span>
        <span class="s2">&quot;se&quot;</span><span class="p">,</span>
        <span class="s2">&quot;la&quot;</span><span class="p">,</span>
        <span class="s2">&quot;le&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lo&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;amientos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imientos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amiento&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imiento&quot;</span><span class="p">,</span>
        <span class="s2">&quot;acion&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aciones&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uciones&quot;</span><span class="p">,</span>
        <span class="s2">&quot;adoras&quot;</span><span class="p">,</span>
        <span class="s2">&quot;adores&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ancias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;log</span><span class="se">\xED</span><span class="s2">as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;encias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amente&quot;</span><span class="p">,</span>
        <span class="s2">&quot;idades&quot;</span><span class="p">,</span>
        <span class="s2">&quot;anzas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ismos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ables&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ibles&quot;</span><span class="p">,</span>
        <span class="s2">&quot;istas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;adora&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aci</span><span class="se">\xF3</span><span class="s2">n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;antes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ancia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;log</span><span class="se">\xED</span><span class="s2">a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uci</span><span class="se">\xf3</span><span class="s2">n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;encia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mente&quot;</span><span class="p">,</span>
        <span class="s2">&quot;anza&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ismo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;able&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ible&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ista&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ador&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ante&quot;</span><span class="p">,</span>
        <span class="s2">&quot;idad&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ico&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ica&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oso&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iva&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivo&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step2a_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;yeron&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yendo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yamos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yan&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ya&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;y</span><span class="se">\xF3</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step2b_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;ar</span><span class="se">\xED</span><span class="s2">amos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xED</span><span class="s2">amos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xED</span><span class="s2">amos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i</span><span class="se">\xE9</span><span class="s2">ramos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i</span><span class="se">\xE9</span><span class="s2">semos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xED</span><span class="s2">ais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aremos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xED</span><span class="s2">ais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eremos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xED</span><span class="s2">ais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iremos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ierais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ieseis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;asteis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isteis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">bamos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">ramos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">semos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xED</span><span class="s2">an&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xED</span><span class="s2">as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xE9</span><span class="s2">is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xED</span><span class="s2">an&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xED</span><span class="s2">as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xE9</span><span class="s2">is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xED</span><span class="s2">an&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xED</span><span class="s2">as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xE9</span><span class="s2">is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ieran&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iesen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ieron&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iendo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ieras&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ieses&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aseis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">amos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xE1</span><span class="s2">n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xE1</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xED</span><span class="s2">a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xE1</span><span class="s2">n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xE1</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xED</span><span class="s2">a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xE1</span><span class="s2">n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xE1</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xED</span><span class="s2">a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iera&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iese&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aste&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iste&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aban&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aran&quot;</span><span class="p">,</span>
        <span class="s2">&quot;asen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aron&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ando&quot;</span><span class="p">,</span>
        <span class="s2">&quot;abas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;adas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;idas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aras&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ases&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">ais&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ados&quot;</span><span class="p">,</span>
        <span class="s2">&quot;idos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;amos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;imos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;emos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aba&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ada&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ida&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ara&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ase&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">an&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ado&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ido&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ad&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;an&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i</span><span class="se">\xF3</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir&quot;</span><span class="p">,</span>
        <span class="s2">&quot;as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="s2">&quot;es&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xF3</span><span class="s2">&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="SpanishStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.SpanishStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a Spanish word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1r2_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rv_standard</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># STEP 0: Attached pronoun</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step0_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)):</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span>
                    <span class="p">(</span>
                        <span class="s2">&quot;ando&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">ndo&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">r&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;er&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">r&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;iendo&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;i</span><span class="se">\xE9</span><span class="s2">ndo&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ir&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">r&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
                <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;yendo&quot;</span><span class="p">)</span>
                <span class="ow">and</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;uyendo&quot;</span><span class="p">)</span>
            <span class="p">):</span>

                <span class="n">word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__replace_accented</span><span class="p">(</span><span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)])</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__replace_accented</span><span class="p">(</span><span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)])</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__replace_accented</span><span class="p">(</span><span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)])</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__replace_accented</span><span class="p">(</span><span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)])</span>
            <span class="k">break</span>

        <span class="c1"># STEP 1: Standard suffix removal</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;amente&quot;</span> <span class="ow">and</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>
                <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;iv&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;at&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;ic&quot;</span><span class="p">,</span> <span class="s2">&quot;ad&quot;</span><span class="p">)):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

            <span class="k">elif</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">step1_success</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span>
                    <span class="s2">&quot;adora&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;ador&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;aci</span><span class="se">\xF3</span><span class="s2">n&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;adoras&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;adores&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;acion&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;aciones&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;ante&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;antes&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;ancia&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;ancias&quot;</span><span class="p">,</span>
                <span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;ic&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;log</span><span class="se">\xED</span><span class="s2">a&quot;</span><span class="p">,</span> <span class="s2">&quot;log</span><span class="se">\xED</span><span class="s2">as&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;log&quot;</span><span class="p">)</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;log&quot;</span><span class="p">)</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;uci</span><span class="se">\xF3</span><span class="s2">n&quot;</span><span class="p">,</span> <span class="s2">&quot;uciones&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;encia&quot;</span><span class="p">,</span> <span class="s2">&quot;encias&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ente&quot;</span><span class="p">)</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">suffix_replace</span><span class="p">(</span><span class="n">rv</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="s2">&quot;ente&quot;</span><span class="p">)</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;mente&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;ante&quot;</span><span class="p">,</span> <span class="s2">&quot;able&quot;</span><span class="p">,</span> <span class="s2">&quot;ible&quot;</span><span class="p">)):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;idad&quot;</span><span class="p">,</span> <span class="s2">&quot;idades&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">for</span> <span class="n">pre_suff</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;abil&quot;</span><span class="p">,</span> <span class="s2">&quot;ic&quot;</span><span class="p">,</span> <span class="s2">&quot;iv&quot;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">pre_suff</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">pre_suff</span><span class="p">)]</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">pre_suff</span><span class="p">)]</span>

                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ivo&quot;</span><span class="p">,</span> <span class="s2">&quot;iva&quot;</span><span class="p">,</span> <span class="s2">&quot;ivos&quot;</span><span class="p">,</span> <span class="s2">&quot;ivas&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">if</span> <span class="n">r2</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;at&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                        <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
            <span class="k">break</span>

        <span class="c1"># STEP 2a: Verb suffixes beginning &#39;y&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step1_success</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2a_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="ow">and</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span> <span class="o">==</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">break</span>

            <span class="c1"># STEP 2b: Other verb suffixes</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2b_suffixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="s2">&quot;es&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">is&quot;</span><span class="p">,</span> <span class="s2">&quot;emos&quot;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;gu&quot;</span><span class="p">):</span>
                            <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;gu&quot;</span><span class="p">):</span>
                            <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">break</span>

        <span class="c1"># STEP 3: Residual suffix</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">):</span>
                    <span class="n">rv</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>

                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;gu&quot;</span> <span class="ow">and</span> <span class="n">rv</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;u&quot;</span><span class="p">):</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="n">word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__replace_accented</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">word</span></div>

    <span class="k">def</span> <span class="nf">__replace_accented</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Replaces all accented letters on a word with their non-accented</span>
<span class="sd">        counterparts.</span>

<span class="sd">        :param word: A spanish word, with or without accents</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: a word with the accented letters (á, é, í, ó, ú) replaced with</span>
<span class="sd">                 their non-accented counterparts (a, e, i, o, u)</span>
<span class="sd">        :rtype: str or unicode</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">word</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE1</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xE9</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xED</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xF3</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\xFA</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="SwedishStemmer"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.SwedishStemmer">[docs]</a><span class="k">class</span> <span class="nc">SwedishStemmer</span><span class="p">(</span><span class="n">_ScandinavianStemmer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Swedish Snowball stemmer.</span>

<span class="sd">    :cvar __vowels: The Swedish vowels.</span>
<span class="sd">    :type __vowels: unicode</span>
<span class="sd">    :cvar __s_ending: Letters that may directly appear before a word final &#39;s&#39;.</span>
<span class="sd">    :type __s_ending: unicode</span>
<span class="sd">    :cvar __step1_suffixes: Suffixes to be deleted in step 1 of the algorithm.</span>
<span class="sd">    :type __step1_suffixes: tuple</span>
<span class="sd">    :cvar __step2_suffixes: Suffixes to be deleted in step 2 of the algorithm.</span>
<span class="sd">    :type __step2_suffixes: tuple</span>
<span class="sd">    :cvar __step3_suffixes: Suffixes to be deleted in step 3 of the algorithm.</span>
<span class="sd">    :type __step3_suffixes: tuple</span>
<span class="sd">    :note: A detailed description of the Swedish</span>
<span class="sd">           stemming algorithm can be found under</span>
<span class="sd">           http://snowball.tartarus.org/algorithms/swedish/stemmer.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__vowels</span> <span class="o">=</span> <span class="s2">&quot;aeiouy</span><span class="se">\xE4\xE5\xF6</span><span class="s2">&quot;</span>
    <span class="n">__s_ending</span> <span class="o">=</span> <span class="s2">&quot;bcdfghjklmnoprtvy&quot;</span>
    <span class="n">__step1_suffixes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;heterna&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hetens&quot;</span><span class="p">,</span>
        <span class="s2">&quot;heter&quot;</span><span class="p">,</span>
        <span class="s2">&quot;heten&quot;</span><span class="p">,</span>
        <span class="s2">&quot;anden&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arnas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ernas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ornas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;andes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;andet&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arens&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arna&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erna&quot;</span><span class="p">,</span>
        <span class="s2">&quot;orna&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ande&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arne&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aste&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aren&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ades&quot;</span><span class="p">,</span>
        <span class="s2">&quot;erns&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ade&quot;</span><span class="p">,</span>
        <span class="s2">&quot;are&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ern&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ens&quot;</span><span class="p">,</span>
        <span class="s2">&quot;het&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ast&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ad&quot;</span><span class="p">,</span>
        <span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er&quot;</span><span class="p">,</span>
        <span class="s2">&quot;or&quot;</span><span class="p">,</span>
        <span class="s2">&quot;as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;at&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;e&quot;</span><span class="p">,</span>
        <span class="s2">&quot;s&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">__step2_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;gd&quot;</span><span class="p">,</span> <span class="s2">&quot;nn&quot;</span><span class="p">,</span> <span class="s2">&quot;dt&quot;</span><span class="p">,</span> <span class="s2">&quot;gt&quot;</span><span class="p">,</span> <span class="s2">&quot;kt&quot;</span><span class="p">,</span> <span class="s2">&quot;tt&quot;</span><span class="p">)</span>
    <span class="n">__step3_suffixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;fullt&quot;</span><span class="p">,</span> <span class="s2">&quot;l</span><span class="se">\xF6</span><span class="s2">st&quot;</span><span class="p">,</span> <span class="s2">&quot;els&quot;</span><span class="p">,</span> <span class="s2">&quot;lig&quot;</span><span class="p">,</span> <span class="s2">&quot;ig&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="SwedishStemmer.stem"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.SwedishStemmer.stem">[docs]</a>    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stem a Swedish word and return the stemmed form.</span>

<span class="sd">        :param word: The word that is stemmed.</span>
<span class="sd">        :type word: str or unicode</span>
<span class="sd">        :return: The stemmed form.</span>
<span class="sd">        :rtype: unicode</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopwords</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">word</span>

        <span class="n">r1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r1_scandinavian</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__vowels</span><span class="p">)</span>

        <span class="c1"># STEP 1</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step1_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__s_ending</span><span class="p">:</span>
                        <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 2</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step2_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="c1"># STEP 3</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__step3_suffixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;els&quot;</span><span class="p">,</span> <span class="s2">&quot;lig&quot;</span><span class="p">,</span> <span class="s2">&quot;ig&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
                <span class="k">elif</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;fullt&quot;</span><span class="p">,</span> <span class="s2">&quot;l</span><span class="se">\xF6</span><span class="s2">st&quot;</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">word</span></div></div>


<div class="viewcode-block" id="demo"><a class="viewcode-back" href="../../../api/nltk.stem.snowball.html#nltk.stem.demo">[docs]</a><span class="k">def</span> <span class="nf">demo</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function provides a demonstration of the Snowball stemmers.</span>

<span class="sd">    After invoking this function and specifying a language,</span>
<span class="sd">    it stems an excerpt of the Universal Declaration of Human Rights</span>
<span class="sd">    (which is a part of the NLTK corpus collection) and then prints</span>
<span class="sd">    out the original and the stemmed text.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">udhr</span>

    <span class="n">udhr_corpus</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;arabic&quot;</span><span class="p">:</span> <span class="s2">&quot;Arabic_Alarabia-Arabic&quot;</span><span class="p">,</span>
        <span class="s2">&quot;danish&quot;</span><span class="p">:</span> <span class="s2">&quot;Danish_Dansk-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dutch&quot;</span><span class="p">:</span> <span class="s2">&quot;Dutch_Nederlands-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;english&quot;</span><span class="p">:</span> <span class="s2">&quot;English-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;finnish&quot;</span><span class="p">:</span> <span class="s2">&quot;Finnish_Suomi-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;french&quot;</span><span class="p">:</span> <span class="s2">&quot;French_Francais-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;german&quot;</span><span class="p">:</span> <span class="s2">&quot;German_Deutsch-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hungarian&quot;</span><span class="p">:</span> <span class="s2">&quot;Hungarian_Magyar-UTF8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;italian&quot;</span><span class="p">:</span> <span class="s2">&quot;Italian_Italiano-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;norwegian&quot;</span><span class="p">:</span> <span class="s2">&quot;Norwegian-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;porter&quot;</span><span class="p">:</span> <span class="s2">&quot;English-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;portuguese&quot;</span><span class="p">:</span> <span class="s2">&quot;Portuguese_Portugues-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;romanian&quot;</span><span class="p">:</span> <span class="s2">&quot;Romanian_Romana-Latin2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;russian&quot;</span><span class="p">:</span> <span class="s2">&quot;Russian-UTF8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;spanish&quot;</span><span class="p">:</span> <span class="s2">&quot;Spanish-Latin1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;swedish&quot;</span><span class="p">:</span> <span class="s2">&quot;Swedish_Svenska-Latin1&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;******************************&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Demo for the Snowball stemmers&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;******************************&quot;</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>

        <span class="n">language</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span>
            <span class="s2">&quot;Please enter the name of the language &quot;</span>
            <span class="o">+</span> <span class="s2">&quot;to be demonstrated</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SnowballStemmer</span><span class="o">.</span><span class="n">languages</span><span class="p">)</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;(enter &#39;exit&#39; in order to leave): &quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">language</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
            <span class="k">break</span>

        <span class="k">if</span> <span class="n">language</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SnowballStemmer</span><span class="o">.</span><span class="n">languages</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Oops, there is no stemmer for this language. &quot;</span>
                <span class="o">+</span> <span class="s2">&quot;Please try again.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">continue</span>

        <span class="n">stemmer</span> <span class="o">=</span> <span class="n">SnowballStemmer</span><span class="p">(</span><span class="n">language</span><span class="p">)</span>
        <span class="n">excerpt</span> <span class="o">=</span> <span class="n">udhr</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="n">udhr_corpus</span><span class="p">[</span><span class="n">language</span><span class="p">])[:</span><span class="mi">300</span><span class="p">]</span>

        <span class="n">stemmed</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">excerpt</span><span class="p">)</span>
        <span class="n">stemmed</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(.{,70})\s&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\1\n&quot;</span><span class="p">,</span> <span class="n">stemmed</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
        <span class="n">excerpt</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">excerpt</span><span class="p">)</span>
        <span class="n">excerpt</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(.{,70})\s&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\1\n&quot;</span><span class="p">,</span> <span class="n">excerpt</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">70</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ORIGINAL&quot;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">70</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">excerpt</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;STEMMED RESULTS&quot;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">70</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">stemmed</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">70</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span></div>
</pre></div>

        </div>
      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            

            
                <li class="footer-element">
                    <a href="https://github.com/nltk/nltk/tree/3.8.1">3.8.1</a>
                </li>
            

            
                <li class="footer-element">
                    Jan 02, 2023
                </li>
            
        </ul>

        
            <div id="copyright">
                &copy; 2023, NLTK Project
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/tomaarsen/nltk_theme">NLTK Theme</a>
        </div>
    </div>
</footer> 

</div>

</body>
</html>